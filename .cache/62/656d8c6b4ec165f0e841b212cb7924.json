{"id":"T8lx","dependencies":[{"name":"/Users/chengyi/ws_live_player/package.json","includedInParent":true,"mtime":1669102311952},{"name":"../utils/logger.js","loc":{"line":1,"column":26,"index":26},"parent":"/Users/chengyi/ws_live_player/src/parsers/pes_aac.js","resolved":"/Users/chengyi/ws_live_player/src/utils/logger.js"},{"name":"./adts.js","loc":{"line":2,"column":21,"index":69},"parent":"/Users/chengyi/ws_live_player/src/parsers/pes_aac.js","resolved":"/Users/chengyi/ws_live_player/src/parsers/adts.js"},{"name":"../StreamDefine.js","loc":{"line":3,"column":28,"index":110},"parent":"/Users/chengyi/ws_live_player/src/parsers/pes_aac.js","resolved":"/Users/chengyi/ws_live_player/src/StreamDefine.js"},{"name":"../MediaAccessunit.js","loc":{"line":4,"column":32,"index":164},"parent":"/Users/chengyi/ws_live_player/src/parsers/pes_aac.js","resolved":"/Users/chengyi/ws_live_player/src/MediaAccessunit.js"},{"name":"./aac_frame.js","loc":{"line":5,"column":25,"index":214},"parent":"/Users/chengyi/ws_live_player/src/parsers/pes_aac.js","resolved":"/Users/chengyi/ws_live_player/src/parsers/aac_frame.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.AACPES=void 0;var e=require(\"../utils/logger.js\"),t=require(\"./adts.js\"),r=require(\"../StreamDefine.js\"),n=require(\"../MediaAccessunit.js\"),o=require(\"./aac_frame.js\");function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function f(e){var t=u(e,\"string\");return\"symbol\"===a(t)?t:String(t)}function u(e,t){if(\"object\"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||\"default\");if(\"object\"!==a(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}var l=\"parses:pes_aac\",g=(0,e.getTagged)(l),p=exports.AACPES=function(){function e(t){i(this,e),this.pesType=t,this.aacOverFlow=null,this.lastAacPTS=null,this.track={},this.config=null}return c(e,[{key:\"parse\",value:function(e){var a,i,s,c,f,u,l,p=e.data,y=e.pts,b=this.aacOverFlow,h=this.lastAacPTS;if(b){var d=new Uint8Array(b.byteLength+p.byteLength);d.set(b,0),d.set(p,b.byteLength),g.debug(\"append overflowing \".concat(b.byteLength,\" bytes to beginning of new PES\")),p=d}for(s=0,f=p.length;s<f-1&&(255!==p[s]||240!=(240&p[s+1]));s++);if(s&&(s<f-1?(u=\"PES did not start with ADTS header,offset:\".concat(s),l=!1):(u=\"no ADTS header found in AAC PES\",l=!0),g.error(u),l))return;var v=null,m=new n.MediaAccessunit(r.PayloadType.AAC,0,0,[]);if(this.config||(v=t.ADTS.parseHeaderConfig(p.subarray(s)),this.config=v.config,m.config=v.config,v.config=null,g.debug(\"parsed codec:\".concat(this.config.codec,\",rate:\").concat(this.config.samplerate,\",nb channel:\").concat(this.config.channels))),i=0,a=9216e4/this.config.samplerate,b&&h){var A=h+a;Math.abs(A-y)>1&&(g.debug(\"align PTS for overlapping frames by \".concat(Math.round((A-y)/90))),y=A)}for(;s+5<f&&(v||(v=t.ADTS.parseHeader(p.subarray(s))),v.size>0&&s+v.offset+v.size<=f);)for(c=y+i*a,m.pts=c,m.dts=c,m.units.push(new o.AACFrame(p.subarray(s+v.offset,s+v.offset+v.size),c)),s+=v.offset+v.size,i++;s<f-1;s++)if(255===p[s]&&240==(240&p[s+1])){v=null;break}return s<f&&255===p[s]?(b=p.subarray(s,f),g.log(\"AAC: frame length:\".concat(f,\", offset:\").concat(s,\", hdr size:\").concat(v.size,\", hdr offset:\").concat(v.offset,\" overflow detected:\").concat(f-s))):b=null,this.aacOverFlow=b,this.lastAacPTS=c,v=null,m}}]),e}();"},"sourceMaps":{"js":{"mappings":[{"source":"src/parsers/pes_aac.js","original":{"line":130,"column":3},"generated":{"line":1,"column":0}},{"source":"src/parsers/pes_aac.js","original":{"line":130,"column":3},"generated":{"line":1,"column":13}},{"source":"src/parsers/pes_aac.js","original":{"line":130,"column":3},"generated":{"line":1,"column":20}},{"source":"src/parsers/pes_aac.js","original":{"line":130,"column":3},"generated":{"line":1,"column":35}},{"source":"src/parsers/pes_aac.js","original":{"line":130,"column":3},"generated":{"line":1,"column":43}},{"source":"src/parsers/pes_aac.js","original":{"line":130,"column":3},"generated":{"line":1,"column":56}},{"source":"src/parsers/pes_aac.js","original":{"line":130,"column":3},"generated":{"line":1,"column":57}},{"source":"src/parsers/pes_aac.js","original":{"line":130,"column":3},"generated":{"line":1,"column":64}},{"source":"src/parsers/pes_aac.js","original":{"line":130,"column":3},"generated":{"line":1,"column":68}},{"source":"src/parsers/pes_aac.js","original":{"line":130,"column":3},"generated":{"line":1,"column":76}},{"source":"src/parsers/pes_aac.js","original":{"line":130,"column":3},"generated":{"line":1,"column":88}},{"source":"src/parsers/pes_aac.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"src/parsers/pes_aac.js","name":"_logger","original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"src/parsers/pes_aac.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"src/parsers/pes_aac.js","original":{"line":1,"column":0},"generated":{"line":1,"column":104}},{"source":"src/parsers/pes_aac.js","name":"_adts","original":{"line":2,"column":0},"generated":{"line":1,"column":126}},{"source":"src/parsers/pes_aac.js","name":"require","original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"src/parsers/pes_aac.js","original":{"line":2,"column":0},"generated":{"line":1,"column":136}},{"source":"src/parsers/pes_aac.js","name":"_StreamDefine","original":{"line":3,"column":0},"generated":{"line":1,"column":149}},{"source":"src/parsers/pes_aac.js","name":"require","original":{"line":3,"column":0},"generated":{"line":1,"column":151}},{"source":"src/parsers/pes_aac.js","original":{"line":3,"column":0},"generated":{"line":1,"column":159}},{"source":"src/parsers/pes_aac.js","name":"_MediaAccessunit","original":{"line":4,"column":0},"generated":{"line":1,"column":181}},{"source":"src/parsers/pes_aac.js","name":"require","original":{"line":4,"column":0},"generated":{"line":1,"column":183}},{"source":"src/parsers/pes_aac.js","original":{"line":4,"column":0},"generated":{"line":1,"column":191}},{"source":"src/parsers/pes_aac.js","name":"_aac_frame","original":{"line":5,"column":0},"generated":{"line":1,"column":216}},{"source":"src/parsers/pes_aac.js","name":"require","original":{"line":5,"column":0},"generated":{"line":1,"column":218}},{"source":"src/parsers/pes_aac.js","original":{"line":5,"column":0},"generated":{"line":1,"column":226}},{"source":"src/parsers/pes_aac.js","original":{"line":5,"column":42},"generated":{"line":1,"column":244}},{"source":"src/parsers/pes_aac.js","name":"_typeof","original":{"line":5,"column":42},"generated":{"line":1,"column":253}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":255}},{"source":"src/parsers/pes_aac.js","name":"_typeof","original":{"line":5,"column":42},"generated":{"line":1,"column":258}},{"source":"src/parsers/pes_aac.js","name":"_typeof","original":{"line":5,"column":42},"generated":{"line":1,"column":265}},{"source":"src/parsers/pes_aac.js","name":"Symbol","original":{"line":5,"column":42},"generated":{"line":1,"column":267}},{"source":"src/parsers/pes_aac.js","name":"Symbol","original":{"line":5,"column":42},"generated":{"line":1,"column":286}},{"source":"src/parsers/pes_aac.js","name":"Symbol","original":{"line":5,"column":42},"generated":{"line":1,"column":294}},{"source":"src/parsers/pes_aac.js","name":"Symbol","original":{"line":5,"column":42},"generated":{"line":1,"column":311}},{"source":"src/parsers/pes_aac.js","name":"iterator","original":{"line":5,"column":42},"generated":{"line":1,"column":318}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":327}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":336}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":339}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":353}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":356}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":365}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":368}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":375}},{"source":"src/parsers/pes_aac.js","name":"Symbol","original":{"line":5,"column":42},"generated":{"line":1,"column":378}},{"source":"src/parsers/pes_aac.js","name":"Symbol","original":{"line":5,"column":42},"generated":{"line":1,"column":397}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":405}},{"source":"src/parsers/pes_aac.js","name":"constructor","original":{"line":5,"column":42},"generated":{"line":1,"column":407}},{"source":"src/parsers/pes_aac.js","name":"Symbol","original":{"line":5,"column":42},"generated":{"line":1,"column":421}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":429}},{"source":"src/parsers/pes_aac.js","name":"Symbol","original":{"line":5,"column":42},"generated":{"line":1,"column":433}},{"source":"src/parsers/pes_aac.js","name":"prototype","original":{"line":5,"column":42},"generated":{"line":1,"column":440}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":450}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":466}},{"source":"src/parsers/pes_aac.js","name":"o","original":{"line":5,"column":42},"generated":{"line":1,"column":470}},{"source":"src/parsers/pes_aac.js","original":{"line":5,"column":42},"generated":{"line":1,"column":473}},{"source":"src/parsers/pes_aac.js","name":"_classCallCheck","original":{"line":5,"column":42},"generated":{"line":1,"column":482}},{"source":"src/parsers/pes_aac.js","name":"instance","original":{"line":5,"column":42},"generated":{"line":1,"column":484}},{"source":"src/parsers/pes_aac.js","name":"Constructor","original":{"line":5,"column":42},"generated":{"line":1,"column":486}},{"source":"src/parsers/pes_aac.js","name":"instance","original":{"line":5,"column":42},"generated":{"line":1,"column":489}},{"source":"src/parsers/pes_aac.js","name":"instance","original":{"line":5,"column":42},"generated":{"line":1,"column":494}},{"source":"src/parsers/pes_aac.js","name":"Constructor","original":{"line":5,"column":42},"generated":{"line":1,"column":507}},{"source":"src/parsers/pes_aac.js","name":"TypeError","original":{"line":5,"column":42},"generated":{"line":1,"column":510}},{"source":"src/parsers/pes_aac.js","name":"TypeError","original":{"line":5,"column":42},"generated":{"line":1,"column":516}},{"source":"src/parsers/pes_aac.js","name":"TypeError","original":{"line":5,"column":42},"generated":{"line":1,"column":520}},{"source":"src/parsers/pes_aac.js","original":{"line":5,"column":42},"generated":{"line":1,"column":530}},{"source":"src/parsers/pes_aac.js","original":{"line":5,"column":42},"generated":{"line":1,"column":567}},{"source":"src/parsers/pes_aac.js","name":"_defineProperties","original":{"line":5,"column":42},"generated":{"line":1,"column":576}},{"source":"src/parsers/pes_aac.js","name":"target","original":{"line":5,"column":42},"generated":{"line":1,"column":578}},{"source":"src/parsers/pes_aac.js","name":"props","original":{"line":5,"column":42},"generated":{"line":1,"column":580}},{"source":"src/parsers/pes_aac.js","name":"i","original":{"line":5,"column":42},"generated":{"line":1,"column":583}},{"source":"src/parsers/pes_aac.js","name":"i","original":{"line":5,"column":42},"generated":{"line":1,"column":587}},{"source":"src/parsers/pes_aac.js","name":"i","original":{"line":5,"column":42},"generated":{"line":1,"column":591}},{"source":"src/parsers/pes_aac.js","name":"i","original":{"line":5,"column":42},"generated":{"line":1,"column":593}},{"source":"src/parsers/pes_aac.js","name":"i","original":{"line":5,"column":42},"generated":{"line":1,"column":595}},{"source":"src/parsers/pes_aac.js","name":"props","original":{"line":5,"column":42},"generated":{"line":1,"column":597}},{"source":"src/parsers/pes_aac.js","name":"length","original":{"line":5,"column":42},"generated":{"line":1,"column":599}},{"source":"src/parsers/pes_aac.js","name":"i","original":{"line":5,"column":42},"generated":{"line":1,"column":606}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":610}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":611}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":615}},{"source":"src/parsers/pes_aac.js","name":"props","original":{"line":5,"column":42},"generated":{"line":1,"column":617}},{"source":"src/parsers/pes_aac.js","name":"i","original":{"line":5,"column":42},"generated":{"line":1,"column":619}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":622}},{"source":"src/parsers/pes_aac.js","name":"enumerable","original":{"line":5,"column":42},"generated":{"line":1,"column":624}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":635}},{"source":"src/parsers/pes_aac.js","name":"enumerable","original":{"line":5,"column":42},"generated":{"line":1,"column":637}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":650}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":652}},{"source":"src/parsers/pes_aac.js","name":"configurable","original":{"line":5,"column":42},"generated":{"line":1,"column":654}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":668}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":670}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":680}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":684}},{"source":"src/parsers/pes_aac.js","name":"writable","original":{"line":5,"column":42},"generated":{"line":1,"column":686}},{"source":"src/parsers/pes_aac.js","name":"Object","original":{"line":5,"column":42},"generated":{"line":1,"column":696}},{"source":"src/parsers/pes_aac.js","name":"Object","original":{"line":5,"column":42},"generated":{"line":1,"column":699}},{"source":"src/parsers/pes_aac.js","name":"defineProperty","original":{"line":5,"column":42},"generated":{"line":1,"column":706}},{"source":"src/parsers/pes_aac.js","name":"target","original":{"line":5,"column":42},"generated":{"line":1,"column":721}},{"source":"src/parsers/pes_aac.js","name":"_toPropertyKey","original":{"line":5,"column":42},"generated":{"line":1,"column":723}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":725}},{"source":"src/parsers/pes_aac.js","name":"key","original":{"line":5,"column":42},"generated":{"line":1,"column":727}},{"source":"src/parsers/pes_aac.js","name":"descriptor","original":{"line":5,"column":42},"generated":{"line":1,"column":732}},{"source":"src/parsers/pes_aac.js","original":{"line":5,"column":42},"generated":{"line":1,"column":736}},{"source":"src/parsers/pes_aac.js","name":"_createClass","original":{"line":5,"column":42},"generated":{"line":1,"column":745}},{"source":"src/parsers/pes_aac.js","name":"Constructor","original":{"line":5,"column":42},"generated":{"line":1,"column":747}},{"source":"src/parsers/pes_aac.js","name":"protoProps","original":{"line":5,"column":42},"generated":{"line":1,"column":749}},{"source":"src/parsers/pes_aac.js","name":"staticProps","original":{"line":5,"column":42},"generated":{"line":1,"column":751}},{"source":"src/parsers/pes_aac.js","name":"Constructor","original":{"line":5,"column":42},"generated":{"line":1,"column":754}},{"source":"src/parsers/pes_aac.js","name":"protoProps","original":{"line":5,"column":42},"generated":{"line":1,"column":761}},{"source":"src/parsers/pes_aac.js","name":"_defineProperties","original":{"line":5,"column":42},"generated":{"line":1,"column":764}},{"source":"src/parsers/pes_aac.js","name":"Constructor","original":{"line":5,"column":42},"generated":{"line":1,"column":766}},{"source":"src/parsers/pes_aac.js","name":"prototype","original":{"line":5,"column":42},"generated":{"line":1,"column":768}},{"source":"src/parsers/pes_aac.js","name":"protoProps","original":{"line":5,"column":42},"generated":{"line":1,"column":778}},{"source":"src/parsers/pes_aac.js","name":"staticProps","original":{"line":5,"column":42},"generated":{"line":1,"column":781}},{"source":"src/parsers/pes_aac.js","name":"_defineProperties","original":{"line":5,"column":42},"generated":{"line":1,"column":784}},{"source":"src/parsers/pes_aac.js","name":"Constructor","original":{"line":5,"column":42},"generated":{"line":1,"column":786}},{"source":"src/parsers/pes_aac.js","name":"staticProps","original":{"line":5,"column":42},"generated":{"line":1,"column":788}},{"source":"src/parsers/pes_aac.js","name":"Object","original":{"line":5,"column":42},"generated":{"line":1,"column":791}},{"source":"src/parsers/pes_aac.js","name":"defineProperty","original":{"line":5,"column":42},"generated":{"line":1,"column":798}},{"source":"src/parsers/pes_aac.js","name":"Constructor","original":{"line":5,"column":42},"generated":{"line":1,"column":813}},{"source":"src/parsers/pes_aac.js","name":"writable","original":{"line":5,"column":42},"generated":{"line":1,"column":815}},{"source":"src/parsers/pes_aac.js","name":"writable","original":{"line":5,"column":42},"generated":{"line":1,"column":827}},{"source":"src/parsers/pes_aac.js","name":"writable","original":{"line":5,"column":42},"generated":{"line":1,"column":828}},{"source":"src/parsers/pes_aac.js","name":"Constructor","original":{"line":5,"column":42},"generated":{"line":1,"column":838}},{"source":"src/parsers/pes_aac.js","name":"Constructor","original":{"line":5,"column":42},"generated":{"line":1,"column":842}},{"source":"src/parsers/pes_aac.js","original":{"line":5,"column":42},"generated":{"line":1,"column":844}},{"source":"src/parsers/pes_aac.js","name":"_toPropertyKey","original":{"line":5,"column":42},"generated":{"line":1,"column":853}},{"source":"src/parsers/pes_aac.js","name":"arg","original":{"line":5,"column":42},"generated":{"line":1,"column":855}},{"source":"src/parsers/pes_aac.js","name":"key","original":{"line":5,"column":42},"generated":{"line":1,"column":858}},{"source":"src/parsers/pes_aac.js","name":"key","original":{"line":5,"column":42},"generated":{"line":1,"column":862}},{"source":"src/parsers/pes_aac.js","name":"_toPrimitive","original":{"line":5,"column":42},"generated":{"line":1,"column":864}},{"source":"src/parsers/pes_aac.js","name":"arg","original":{"line":5,"column":42},"generated":{"line":1,"column":866}},{"source":"src/parsers/pes_aac.js","name":"_typeof","original":{"line":5,"column":42},"generated":{"line":1,"column":868}},{"source":"src/parsers/pes_aac.js","name":"_typeof","original":{"line":5,"column":42},"generated":{"line":1,"column":878}},{"source":"src/parsers/pes_aac.js","name":"key","original":{"line":5,"column":42},"generated":{"line":1,"column":884}},{"source":"src/parsers/pes_aac.js","name":"_typeof","original":{"line":5,"column":42},"generated":{"line":1,"column":895}},{"source":"src/parsers/pes_aac.js","name":"key","original":{"line":5,"column":42},"generated":{"line":1,"column":897}},{"source":"src/parsers/pes_aac.js","name":"key","original":{"line":5,"column":42},"generated":{"line":1,"column":900}},{"source":"src/parsers/pes_aac.js","name":"String","original":{"line":5,"column":42},"generated":{"line":1,"column":902}},{"source":"src/parsers/pes_aac.js","name":"key","original":{"line":5,"column":42},"generated":{"line":1,"column":909}},{"source":"src/parsers/pes_aac.js","original":{"line":5,"column":42},"generated":{"line":1,"column":912}},{"source":"src/parsers/pes_aac.js","name":"_toPrimitive","original":{"line":5,"column":42},"generated":{"line":1,"column":921}},{"source":"src/parsers/pes_aac.js","name":"input","original":{"line":5,"column":42},"generated":{"line":1,"column":923}},{"source":"src/parsers/pes_aac.js","name":"hint","original":{"line":5,"column":42},"generated":{"line":1,"column":925}},{"source":"src/parsers/pes_aac.js","name":"_typeof","original":{"line":5,"column":42},"generated":{"line":1,"column":928}},{"source":"src/parsers/pes_aac.js","name":"input","original":{"line":5,"column":42},"generated":{"line":1,"column":931}},{"source":"src/parsers/pes_aac.js","name":"_typeof","original":{"line":5,"column":42},"generated":{"line":1,"column":942}},{"source":"src/parsers/pes_aac.js","name":"input","original":{"line":5,"column":42},"generated":{"line":1,"column":944}},{"source":"src/parsers/pes_aac.js","name":"input","original":{"line":5,"column":42},"generated":{"line":1,"column":948}},{"source":"src/parsers/pes_aac.js","name":"input","original":{"line":5,"column":42},"generated":{"line":1,"column":955}},{"source":"src/parsers/pes_aac.js","name":"input","original":{"line":5,"column":42},"generated":{"line":1,"column":957}},{"source":"src/parsers/pes_aac.js","name":"input","original":{"line":5,"column":42},"generated":{"line":1,"column":964}},{"source":"src/parsers/pes_aac.js","name":"prim","original":{"line":5,"column":42},"generated":{"line":1,"column":966}},{"source":"src/parsers/pes_aac.js","name":"prim","original":{"line":5,"column":42},"generated":{"line":1,"column":970}},{"source":"src/parsers/pes_aac.js","name":"input","original":{"line":5,"column":42},"generated":{"line":1,"column":972}},{"source":"src/parsers/pes_aac.js","name":"Symbol","original":{"line":5,"column":42},"generated":{"line":1,"column":974}},{"source":"src/parsers/pes_aac.js","name":"toPrimitive","original":{"line":5,"column":42},"generated":{"line":1,"column":981}},{"source":"src/parsers/pes_aac.js","name":"prim","original":{"line":5,"column":42},"generated":{"line":1,"column":994}},{"source":"src/parsers/pes_aac.js","name":"undefined","original":{"line":5,"column":42},"generated":{"line":1,"column":1002}},{"source":"src/parsers/pes_aac.js","name":"prim","original":{"line":5,"column":42},"generated":{"line":1,"column":1006}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":5,"column":42},"generated":{"line":1,"column":1008}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":5,"column":42},"generated":{"line":1,"column":1009}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":5,"column":42},"generated":{"line":1,"column":1013}},{"source":"src/parsers/pes_aac.js","name":"prim","original":{"line":5,"column":42},"generated":{"line":1,"column":1015}},{"source":"src/parsers/pes_aac.js","name":"call","original":{"line":5,"column":42},"generated":{"line":1,"column":1017}},{"source":"src/parsers/pes_aac.js","name":"input","original":{"line":5,"column":42},"generated":{"line":1,"column":1022}},{"source":"src/parsers/pes_aac.js","name":"hint","original":{"line":5,"column":42},"generated":{"line":1,"column":1024}},{"source":"src/parsers/pes_aac.js","name":"_typeof","original":{"line":5,"column":42},"generated":{"line":1,"column":1027}},{"source":"src/parsers/pes_aac.js","name":"_typeof","original":{"line":5,"column":42},"generated":{"line":1,"column":1038}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":5,"column":42},"generated":{"line":1,"column":1041}},{"source":"src/parsers/pes_aac.js","name":"_typeof","original":{"line":5,"column":42},"generated":{"line":1,"column":1052}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":5,"column":42},"generated":{"line":1,"column":1054}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":5,"column":42},"generated":{"line":1,"column":1057}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":5,"column":42},"generated":{"line":1,"column":1064}},{"source":"src/parsers/pes_aac.js","name":"TypeError","original":{"line":5,"column":42},"generated":{"line":1,"column":1066}},{"source":"src/parsers/pes_aac.js","name":"TypeError","original":{"line":5,"column":42},"generated":{"line":1,"column":1072}},{"source":"src/parsers/pes_aac.js","name":"TypeError","original":{"line":5,"column":42},"generated":{"line":1,"column":1076}},{"source":"src/parsers/pes_aac.js","name":"hint","original":{"line":5,"column":42},"generated":{"line":1,"column":1086}},{"source":"src/parsers/pes_aac.js","name":"hint","original":{"line":5,"column":42},"generated":{"line":1,"column":1134}},{"source":"src/parsers/pes_aac.js","name":"String","original":{"line":5,"column":42},"generated":{"line":1,"column":1141}},{"source":"src/parsers/pes_aac.js","name":"hint","original":{"line":5,"column":42},"generated":{"line":1,"column":1152}},{"source":"src/parsers/pes_aac.js","name":"String","original":{"line":5,"column":42},"generated":{"line":1,"column":1154}},{"source":"src/parsers/pes_aac.js","name":"Number","original":{"line":5,"column":42},"generated":{"line":1,"column":1161}},{"source":"src/parsers/pes_aac.js","name":"input","original":{"line":5,"column":42},"generated":{"line":1,"column":1169}},{"source":"src/parsers/pes_aac.js","original":{"line":6,"column":0},"generated":{"line":1,"column":1172}},{"source":"src/parsers/pes_aac.js","name":"LOG_TAG","original":{"line":6,"column":6},"generated":{"line":1,"column":1176}},{"source":"src/parsers/pes_aac.js","original":{"line":6,"column":16},"generated":{"line":1,"column":1178}},{"source":"src/parsers/pes_aac.js","name":"Log","original":{"line":7,"column":6},"generated":{"line":1,"column":1195}},{"source":"src/parsers/pes_aac.js","original":{"line":7,"column":12},"generated":{"line":1,"column":1198}},{"source":"src/parsers/pes_aac.js","name":"getTagged","original":{"line":7,"column":12},"generated":{"line":1,"column":1200}},{"source":"src/parsers/pes_aac.js","original":{"line":7,"column":21},"generated":{"line":1,"column":1202}},{"source":"src/parsers/pes_aac.js","name":"LOG_TAG","original":{"line":7,"column":22},"generated":{"line":1,"column":1213}},{"source":"src/parsers/pes_aac.js","name":"AACPES","original":{"line":8,"column":13},"generated":{"line":1,"column":1216}},{"source":"src/parsers/pes_aac.js","name":"exports","original":{"line":8,"column":19},"generated":{"line":1,"column":1218}},{"source":"src/parsers/pes_aac.js","name":"AACPES","original":{"line":8,"column":19},"generated":{"line":1,"column":1226}},{"source":"src/parsers/pes_aac.js","original":{"line":8,"column":19},"generated":{"line":1,"column":1233}},{"source":"src/parsers/pes_aac.js","original":{"line":9,"column":2},"generated":{"line":1,"column":1244}},{"source":"src/parsers/pes_aac.js","name":"AACPES","original":{"line":9,"column":2},"generated":{"line":1,"column":1253}},{"source":"src/parsers/pes_aac.js","name":"pesType","original":{"line":9,"column":14},"generated":{"line":1,"column":1255}},{"source":"src/parsers/pes_aac.js","name":"_classCallCheck","original":{"line":9,"column":23},"generated":{"line":1,"column":1258}},{"source":"src/parsers/pes_aac.js","name":"AACPES","original":{"line":9,"column":23},"generated":{"line":1,"column":1260}},{"source":"src/parsers/pes_aac.js","name":"AACPES","original":{"line":9,"column":23},"generated":{"line":1,"column":1265}},{"source":"src/parsers/pes_aac.js","original":{"line":10,"column":4},"generated":{"line":1,"column":1268}},{"source":"src/parsers/pes_aac.js","name":"pesType","original":{"line":10,"column":9},"generated":{"line":1,"column":1273}},{"source":"src/parsers/pes_aac.js","name":"pesType","original":{"line":10,"column":19},"generated":{"line":1,"column":1281}},{"source":"src/parsers/pes_aac.js","original":{"line":11,"column":4},"generated":{"line":1,"column":1283}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":11,"column":9},"generated":{"line":1,"column":1288}},{"source":"src/parsers/pes_aac.js","original":{"line":11,"column":23},"generated":{"line":1,"column":1300}},{"source":"src/parsers/pes_aac.js","original":{"line":12,"column":4},"generated":{"line":1,"column":1305}},{"source":"src/parsers/pes_aac.js","name":"lastAacPTS","original":{"line":12,"column":9},"generated":{"line":1,"column":1310}},{"source":"src/parsers/pes_aac.js","original":{"line":12,"column":22},"generated":{"line":1,"column":1321}},{"source":"src/parsers/pes_aac.js","original":{"line":13,"column":4},"generated":{"line":1,"column":1326}},{"source":"src/parsers/pes_aac.js","name":"track","original":{"line":13,"column":9},"generated":{"line":1,"column":1331}},{"source":"src/parsers/pes_aac.js","original":{"line":13,"column":17},"generated":{"line":1,"column":1337}},{"source":"src/parsers/pes_aac.js","original":{"line":14,"column":4},"generated":{"line":1,"column":1340}},{"source":"src/parsers/pes_aac.js","name":"config","original":{"line":14,"column":9},"generated":{"line":1,"column":1345}},{"source":"src/parsers/pes_aac.js","original":{"line":14,"column":18},"generated":{"line":1,"column":1352}},{"source":"src/parsers/pes_aac.js","original":{"line":130,"column":3},"generated":{"line":1,"column":1357}},{"source":"src/parsers/pes_aac.js","name":"_createClass","original":{"line":15,"column":3},"generated":{"line":1,"column":1364}},{"source":"src/parsers/pes_aac.js","name":"AACPES","original":{"line":15,"column":3},"generated":{"line":1,"column":1366}},{"source":"src/parsers/pes_aac.js","original":{"line":15,"column":3},"generated":{"line":1,"column":1368}},{"source":"src/parsers/pes_aac.js","original":{"line":15,"column":3},"generated":{"line":1,"column":1369}},{"source":"src/parsers/pes_aac.js","name":"key","original":{"line":15,"column":3},"generated":{"line":1,"column":1370}},{"source":"src/parsers/pes_aac.js","original":{"line":15,"column":3},"generated":{"line":1,"column":1374}},{"source":"src/parsers/pes_aac.js","name":"value","original":{"line":15,"column":3},"generated":{"line":1,"column":1382}},{"source":"src/parsers/pes_aac.js","original":{"line":17,"column":2},"generated":{"line":1,"column":1388}},{"source":"src/parsers/pes_aac.js","name":"pes","original":{"line":17,"column":8},"generated":{"line":1,"column":1397}},{"source":"src/parsers/pes_aac.js","original":{"line":18,"column":4},"generated":{"line":1,"column":1400}},{"source":"src/parsers/pes_aac.js","name":"frameDuration","original":{"line":23,"column":8},"generated":{"line":1,"column":1404}},{"source":"src/parsers/pes_aac.js","name":"frameIndex","original":{"line":23,"column":23},"generated":{"line":1,"column":1406}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":23,"column":35},"generated":{"line":1,"column":1408}},{"source":"src/parsers/pes_aac.js","name":"stamp","original":{"line":23,"column":43},"generated":{"line":1,"column":1410}},{"source":"src/parsers/pes_aac.js","name":"len","original":{"line":23,"column":50},"generated":{"line":1,"column":1412}},{"source":"src/parsers/pes_aac.js","name":"reason","original":{"line":43,"column":10},"generated":{"line":1,"column":1414}},{"source":"src/parsers/pes_aac.js","name":"fatal","original":{"line":43,"column":18},"generated":{"line":1,"column":1416}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":18,"column":8},"generated":{"line":1,"column":1418}},{"source":"src/parsers/pes_aac.js","name":"pes","original":{"line":18,"column":15},"generated":{"line":1,"column":1420}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":18,"column":19},"generated":{"line":1,"column":1422}},{"source":"src/parsers/pes_aac.js","name":"pts","original":{"line":19,"column":8},"generated":{"line":1,"column":1427}},{"source":"src/parsers/pes_aac.js","name":"pes","original":{"line":19,"column":14},"generated":{"line":1,"column":1429}},{"source":"src/parsers/pes_aac.js","name":"pts","original":{"line":19,"column":18},"generated":{"line":1,"column":1431}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":21,"column":8},"generated":{"line":1,"column":1435}},{"source":"src/parsers/pes_aac.js","original":{"line":21,"column":22},"generated":{"line":1,"column":1437}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":21,"column":27},"generated":{"line":1,"column":1442}},{"source":"src/parsers/pes_aac.js","name":"lastAacPTS","original":{"line":22,"column":8},"generated":{"line":1,"column":1454}},{"source":"src/parsers/pes_aac.js","original":{"line":22,"column":21},"generated":{"line":1,"column":1456}},{"source":"src/parsers/pes_aac.js","name":"lastAacPTS","original":{"line":22,"column":26},"generated":{"line":1,"column":1461}},{"source":"src/parsers/pes_aac.js","original":{"line":25,"column":4},"generated":{"line":1,"column":1472}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":25,"column":8},"generated":{"line":1,"column":1475}},{"source":"src/parsers/pes_aac.js","original":{"line":25,"column":21},"generated":{"line":1,"column":1477}},{"source":"src/parsers/pes_aac.js","original":{"line":26,"column":6},"generated":{"line":1,"column":1478}},{"source":"src/parsers/pes_aac.js","name":"tmp","original":{"line":26,"column":10},"generated":{"line":1,"column":1482}},{"source":"src/parsers/pes_aac.js","original":{"line":26,"column":16},"generated":{"line":1,"column":1484}},{"source":"src/parsers/pes_aac.js","name":"Uint8Array","original":{"line":26,"column":20},"generated":{"line":1,"column":1488}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":26,"column":31},"generated":{"line":1,"column":1499}},{"source":"src/parsers/pes_aac.js","name":"byteLength","original":{"line":26,"column":43},"generated":{"line":1,"column":1501}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":26,"column":56},"generated":{"line":1,"column":1512}},{"source":"src/parsers/pes_aac.js","name":"byteLength","original":{"line":26,"column":61},"generated":{"line":1,"column":1514}},{"source":"src/parsers/pes_aac.js","name":"tmp","original":{"line":27,"column":6},"generated":{"line":1,"column":1526}},{"source":"src/parsers/pes_aac.js","name":"set","original":{"line":27,"column":10},"generated":{"line":1,"column":1528}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":27,"column":14},"generated":{"line":1,"column":1532}},{"source":"src/parsers/pes_aac.js","original":{"line":27,"column":27},"generated":{"line":1,"column":1534}},{"source":"src/parsers/pes_aac.js","name":"tmp","original":{"line":28,"column":6},"generated":{"line":1,"column":1537}},{"source":"src/parsers/pes_aac.js","name":"set","original":{"line":28,"column":10},"generated":{"line":1,"column":1539}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":28,"column":14},"generated":{"line":1,"column":1543}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":28,"column":20},"generated":{"line":1,"column":1545}},{"source":"src/parsers/pes_aac.js","name":"byteLength","original":{"line":28,"column":32},"generated":{"line":1,"column":1547}},{"source":"src/parsers/pes_aac.js","name":"Log","original":{"line":29,"column":6},"generated":{"line":1,"column":1559}},{"source":"src/parsers/pes_aac.js","name":"debug","original":{"line":29,"column":10},"generated":{"line":1,"column":1561}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":29,"column":15},"generated":{"line":1,"column":1567}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":29,"column":15},"generated":{"line":1,"column":1589}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":30,"column":30},"generated":{"line":1,"column":1596}},{"source":"src/parsers/pes_aac.js","name":"byteLength","original":{"line":30,"column":42},"generated":{"line":1,"column":1598}},{"source":"src/parsers/pes_aac.js","original":{"line":31,"column":6},"generated":{"line":1,"column":1609}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":32,"column":6},"generated":{"line":1,"column":1644}},{"source":"src/parsers/pes_aac.js","name":"tmp","original":{"line":32,"column":13},"generated":{"line":1,"column":1646}},{"source":"src/parsers/pes_aac.js","original":{"line":36,"column":4},"generated":{"line":1,"column":1648}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":36,"column":9},"generated":{"line":1,"column":1652}},{"source":"src/parsers/pes_aac.js","original":{"line":20,"column":22},"generated":{"line":1,"column":1654}},{"source":"src/parsers/pes_aac.js","name":"len","original":{"line":36,"column":31},"generated":{"line":1,"column":1656}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":36,"column":37},"generated":{"line":1,"column":1658}},{"source":"src/parsers/pes_aac.js","name":"length","original":{"line":36,"column":42},"generated":{"line":1,"column":1660}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":36,"column":50},"generated":{"line":1,"column":1667}},{"source":"src/parsers/pes_aac.js","name":"len","original":{"line":36,"column":59},"generated":{"line":1,"column":1669}},{"source":"src/parsers/pes_aac.js","original":{"line":36,"column":65},"generated":{"line":1,"column":1671}},{"source":"src/parsers/pes_aac.js","original":{"line":37,"column":27},"generated":{"line":1,"column":1675}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":37,"column":10},"generated":{"line":1,"column":1681}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":37,"column":15},"generated":{"line":1,"column":1683}},{"source":"src/parsers/pes_aac.js","original":{"line":37,"column":65},"generated":{"line":1,"column":1687}},{"source":"src/parsers/pes_aac.js","original":{"line":37,"column":55},"generated":{"line":1,"column":1693}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":37,"column":36},"generated":{"line":1,"column":1697}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":37,"column":41},"generated":{"line":1,"column":1699}},{"source":"src/parsers/pes_aac.js","original":{"line":37,"column":50},"generated":{"line":1,"column":1701}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":36,"column":68},"generated":{"line":1,"column":1706}},{"source":"src/parsers/pes_aac.js","original":{"line":42,"column":4},"generated":{"line":1,"column":1711}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":42,"column":8},"generated":{"line":1,"column":1714}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":44,"column":10},"generated":{"line":1,"column":1718}},{"source":"src/parsers/pes_aac.js","name":"len","original":{"line":44,"column":19},"generated":{"line":1,"column":1720}},{"source":"src/parsers/pes_aac.js","original":{"line":44,"column":25},"generated":{"line":1,"column":1722}},{"source":"src/parsers/pes_aac.js","name":"reason","original":{"line":45,"column":8},"generated":{"line":1,"column":1725}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":45,"column":14},"generated":{"line":1,"column":1727}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":45,"column":14},"generated":{"line":1,"column":1772}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":45,"column":62},"generated":{"line":1,"column":1779}},{"source":"src/parsers/pes_aac.js","name":"fatal","original":{"line":46,"column":8},"generated":{"line":1,"column":1782}},{"source":"src/parsers/pes_aac.js","original":{"line":46,"column":16},"generated":{"line":1,"column":1785}},{"source":"src/parsers/pes_aac.js","name":"reason","original":{"line":48,"column":8},"generated":{"line":1,"column":1789}},{"source":"src/parsers/pes_aac.js","original":{"line":48,"column":17},"generated":{"line":1,"column":1791}},{"source":"src/parsers/pes_aac.js","name":"fatal","original":{"line":49,"column":8},"generated":{"line":1,"column":1825}},{"source":"src/parsers/pes_aac.js","original":{"line":49,"column":16},"generated":{"line":1,"column":1828}},{"source":"src/parsers/pes_aac.js","name":"Log","original":{"line":51,"column":6},"generated":{"line":1,"column":1831}},{"source":"src/parsers/pes_aac.js","name":"error","original":{"line":51,"column":10},"generated":{"line":1,"column":1833}},{"source":"src/parsers/pes_aac.js","name":"reason","original":{"line":51,"column":16},"generated":{"line":1,"column":1839}},{"source":"src/parsers/pes_aac.js","name":"fatal","original":{"line":52,"column":10},"generated":{"line":1,"column":1842}},{"source":"src/parsers/pes_aac.js","original":{"line":53,"column":8},"generated":{"line":1,"column":1845}},{"source":"src/parsers/pes_aac.js","original":{"line":57,"column":4},"generated":{"line":1,"column":1852}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":57,"column":8},"generated":{"line":1,"column":1856}},{"source":"src/parsers/pes_aac.js","original":{"line":57,"column":14},"generated":{"line":1,"column":1858}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":58,"column":8},"generated":{"line":1,"column":1863}},{"source":"src/parsers/pes_aac.js","original":{"line":58,"column":14},"generated":{"line":1,"column":1865}},{"source":"src/parsers/pes_aac.js","name":"MediaAccessunit","original":{"line":58,"column":18},"generated":{"line":1,"column":1869}},{"source":"src/parsers/pes_aac.js","original":{"line":58,"column":33},"generated":{"line":1,"column":1871}},{"source":"src/parsers/pes_aac.js","name":"PayloadType","original":{"line":58,"column":34},"generated":{"line":1,"column":1887}},{"source":"src/parsers/pes_aac.js","original":{"line":58,"column":45},"generated":{"line":1,"column":1889}},{"source":"src/parsers/pes_aac.js","name":"AAC","original":{"line":58,"column":46},"generated":{"line":1,"column":1901}},{"source":"src/parsers/pes_aac.js","original":{"line":58,"column":51},"generated":{"line":1,"column":1905}},{"source":"src/parsers/pes_aac.js","original":{"line":58,"column":54},"generated":{"line":1,"column":1907}},{"source":"src/parsers/pes_aac.js","original":{"line":58,"column":57},"generated":{"line":1,"column":1909}},{"source":"src/parsers/pes_aac.js","original":{"line":73,"column":4},"generated":{"line":1,"column":1913}},{"source":"src/parsers/pes_aac.js","original":{"line":59,"column":9},"generated":{"line":1,"column":1916}},{"source":"src/parsers/pes_aac.js","name":"config","original":{"line":59,"column":14},"generated":{"line":1,"column":1921}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":60,"column":6},"generated":{"line":1,"column":1930}},{"source":"src/parsers/pes_aac.js","name":"ADTS","original":{"line":60,"column":12},"generated":{"line":1,"column":1932}},{"source":"src/parsers/pes_aac.js","original":{"line":60,"column":16},"generated":{"line":1,"column":1934}},{"source":"src/parsers/pes_aac.js","name":"parseHeaderConfig","original":{"line":60,"column":17},"generated":{"line":1,"column":1939}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":60,"column":35},"generated":{"line":1,"column":1957}},{"source":"src/parsers/pes_aac.js","name":"subarray","original":{"line":60,"column":40},"generated":{"line":1,"column":1959}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":60,"column":49},"generated":{"line":1,"column":1968}},{"source":"src/parsers/pes_aac.js","original":{"line":61,"column":6},"generated":{"line":1,"column":1972}},{"source":"src/parsers/pes_aac.js","name":"config","original":{"line":61,"column":11},"generated":{"line":1,"column":1977}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":61,"column":20},"generated":{"line":1,"column":1984}},{"source":"src/parsers/pes_aac.js","name":"config","original":{"line":61,"column":24},"generated":{"line":1,"column":1986}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":62,"column":6},"generated":{"line":1,"column":1993}},{"source":"src/parsers/pes_aac.js","name":"config","original":{"line":62,"column":10},"generated":{"line":1,"column":1995}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":62,"column":19},"generated":{"line":1,"column":2002}},{"source":"src/parsers/pes_aac.js","name":"config","original":{"line":62,"column":23},"generated":{"line":1,"column":2004}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":63,"column":6},"generated":{"line":1,"column":2011}},{"source":"src/parsers/pes_aac.js","name":"config","original":{"line":63,"column":10},"generated":{"line":1,"column":2013}},{"source":"src/parsers/pes_aac.js","original":{"line":63,"column":19},"generated":{"line":1,"column":2020}},{"source":"src/parsers/pes_aac.js","name":"Log","original":{"line":64,"column":6},"generated":{"line":1,"column":2025}},{"source":"src/parsers/pes_aac.js","name":"debug","original":{"line":64,"column":10},"generated":{"line":1,"column":2027}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":64,"column":15},"generated":{"line":1,"column":2033}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":64,"column":15},"generated":{"line":1,"column":2049}},{"source":"src/parsers/pes_aac.js","original":{"line":65,"column":24},"generated":{"line":1,"column":2056}},{"source":"src/parsers/pes_aac.js","name":"config","original":{"line":65,"column":29},"generated":{"line":1,"column":2061}},{"source":"src/parsers/pes_aac.js","name":"codec","original":{"line":65,"column":36},"generated":{"line":1,"column":2068}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":65,"column":41},"generated":{"line":1,"column":2074}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":65,"column":41},"generated":{"line":1,"column":2084}},{"source":"src/parsers/pes_aac.js","original":{"line":65,"column":50},"generated":{"line":1,"column":2091}},{"source":"src/parsers/pes_aac.js","name":"config","original":{"line":65,"column":55},"generated":{"line":1,"column":2096}},{"source":"src/parsers/pes_aac.js","name":"samplerate","original":{"line":65,"column":62},"generated":{"line":1,"column":2103}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":65,"column":72},"generated":{"line":1,"column":2114}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":65,"column":72},"generated":{"line":1,"column":2130}},{"source":"src/parsers/pes_aac.js","original":{"line":65,"column":87},"generated":{"line":1,"column":2137}},{"source":"src/parsers/pes_aac.js","name":"config","original":{"line":65,"column":92},"generated":{"line":1,"column":2142}},{"source":"src/parsers/pes_aac.js","name":"channels","original":{"line":65,"column":99},"generated":{"line":1,"column":2149}},{"source":"src/parsers/pes_aac.js","name":"frameIndex","original":{"line":68,"column":4},"generated":{"line":1,"column":2161}},{"source":"src/parsers/pes_aac.js","original":{"line":68,"column":17},"generated":{"line":1,"column":2163}},{"source":"src/parsers/pes_aac.js","name":"frameDuration","original":{"line":69,"column":4},"generated":{"line":1,"column":2165}},{"source":"src/parsers/pes_aac.js","original":{"line":69,"column":21},"generated":{"line":1,"column":2167}},{"source":"src/parsers/pes_aac.js","original":{"line":69,"column":37},"generated":{"line":1,"column":2174}},{"source":"src/parsers/pes_aac.js","name":"config","original":{"line":69,"column":42},"generated":{"line":1,"column":2179}},{"source":"src/parsers/pes_aac.js","name":"samplerate","original":{"line":69,"column":49},"generated":{"line":1,"column":2186}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":73,"column":8},"generated":{"line":1,"column":2197}},{"source":"src/parsers/pes_aac.js","name":"lastAacPTS","original":{"line":73,"column":23},"generated":{"line":1,"column":2200}},{"source":"src/parsers/pes_aac.js","original":{"line":73,"column":35},"generated":{"line":1,"column":2202}},{"source":"src/parsers/pes_aac.js","original":{"line":74,"column":6},"generated":{"line":1,"column":2203}},{"source":"src/parsers/pes_aac.js","name":"newPTS","original":{"line":74,"column":10},"generated":{"line":1,"column":2207}},{"source":"src/parsers/pes_aac.js","name":"lastAacPTS","original":{"line":74,"column":19},"generated":{"line":1,"column":2209}},{"source":"src/parsers/pes_aac.js","name":"frameDuration","original":{"line":74,"column":32},"generated":{"line":1,"column":2211}},{"source":"src/parsers/pes_aac.js","name":"Math","original":{"line":75,"column":10},"generated":{"line":1,"column":2213}},{"source":"src/parsers/pes_aac.js","name":"abs","original":{"line":75,"column":15},"generated":{"line":1,"column":2218}},{"source":"src/parsers/pes_aac.js","name":"newPTS","original":{"line":75,"column":19},"generated":{"line":1,"column":2222}},{"source":"src/parsers/pes_aac.js","name":"pts","original":{"line":75,"column":28},"generated":{"line":1,"column":2224}},{"source":"src/parsers/pes_aac.js","original":{"line":75,"column":35},"generated":{"line":1,"column":2227}},{"source":"src/parsers/pes_aac.js","name":"Log","original":{"line":76,"column":8},"generated":{"line":1,"column":2231}},{"source":"src/parsers/pes_aac.js","name":"debug","original":{"line":76,"column":12},"generated":{"line":1,"column":2233}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":76,"column":17},"generated":{"line":1,"column":2239}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":76,"column":17},"generated":{"line":1,"column":2278}},{"source":"src/parsers/pes_aac.js","name":"Math","original":{"line":77,"column":49},"generated":{"line":1,"column":2285}},{"source":"src/parsers/pes_aac.js","name":"round","original":{"line":77,"column":54},"generated":{"line":1,"column":2290}},{"source":"src/parsers/pes_aac.js","name":"newPTS","original":{"line":78,"column":13},"generated":{"line":1,"column":2297}},{"source":"src/parsers/pes_aac.js","name":"pts","original":{"line":78,"column":22},"generated":{"line":1,"column":2299}},{"source":"src/parsers/pes_aac.js","original":{"line":78,"column":29},"generated":{"line":1,"column":2302}},{"source":"src/parsers/pes_aac.js","name":"pts","original":{"line":81,"column":8},"generated":{"line":1,"column":2308}},{"source":"src/parsers/pes_aac.js","name":"newPTS","original":{"line":81,"column":14},"generated":{"line":1,"column":2310}},{"source":"src/parsers/pes_aac.js","original":{"line":85,"column":4},"generated":{"line":1,"column":2313}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":85,"column":11},"generated":{"line":1,"column":2318}},{"source":"src/parsers/pes_aac.js","original":{"line":85,"column":20},"generated":{"line":1,"column":2320}},{"source":"src/parsers/pes_aac.js","name":"len","original":{"line":85,"column":24},"generated":{"line":1,"column":2322}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":86,"column":11},"generated":{"line":1,"column":2326}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":87,"column":8},"generated":{"line":1,"column":2330}},{"source":"src/parsers/pes_aac.js","name":"ADTS","original":{"line":87,"column":14},"generated":{"line":1,"column":2332}},{"source":"src/parsers/pes_aac.js","original":{"line":87,"column":18},"generated":{"line":1,"column":2334}},{"source":"src/parsers/pes_aac.js","name":"parseHeader","original":{"line":87,"column":19},"generated":{"line":1,"column":2339}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":87,"column":31},"generated":{"line":1,"column":2351}},{"source":"src/parsers/pes_aac.js","name":"subarray","original":{"line":87,"column":36},"generated":{"line":1,"column":2353}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":87,"column":45},"generated":{"line":1,"column":2362}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":92,"column":10},"generated":{"line":1,"column":2367}},{"source":"src/parsers/pes_aac.js","name":"size","original":{"line":92,"column":14},"generated":{"line":1,"column":2369}},{"source":"src/parsers/pes_aac.js","original":{"line":92,"column":21},"generated":{"line":1,"column":2374}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":92,"column":26},"generated":{"line":1,"column":2377}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":92,"column":35},"generated":{"line":1,"column":2379}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":92,"column":39},"generated":{"line":1,"column":2381}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":92,"column":48},"generated":{"line":1,"column":2388}},{"source":"src/parsers/pes_aac.js","name":"size","original":{"line":92,"column":52},"generated":{"line":1,"column":2390}},{"source":"src/parsers/pes_aac.js","name":"len","original":{"line":92,"column":60},"generated":{"line":1,"column":2396}},{"source":"src/parsers/pes_aac.js","original":{"line":105,"column":8},"generated":{"line":1,"column":2400}},{"source":"src/parsers/pes_aac.js","name":"stamp","original":{"line":93,"column":8},"generated":{"line":1,"column":2404}},{"source":"src/parsers/pes_aac.js","name":"pts","original":{"line":93,"column":16},"generated":{"line":1,"column":2406}},{"source":"src/parsers/pes_aac.js","name":"frameIndex","original":{"line":93,"column":22},"generated":{"line":1,"column":2408}},{"source":"src/parsers/pes_aac.js","name":"frameDuration","original":{"line":93,"column":35},"generated":{"line":1,"column":2410}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":94,"column":8},"generated":{"line":1,"column":2412}},{"source":"src/parsers/pes_aac.js","name":"pts","original":{"line":94,"column":12},"generated":{"line":1,"column":2414}},{"source":"src/parsers/pes_aac.js","name":"stamp","original":{"line":94,"column":18},"generated":{"line":1,"column":2418}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":95,"column":8},"generated":{"line":1,"column":2420}},{"source":"src/parsers/pes_aac.js","name":"dts","original":{"line":95,"column":12},"generated":{"line":1,"column":2422}},{"source":"src/parsers/pes_aac.js","name":"stamp","original":{"line":95,"column":18},"generated":{"line":1,"column":2426}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":96,"column":8},"generated":{"line":1,"column":2428}},{"source":"src/parsers/pes_aac.js","name":"units","original":{"line":96,"column":12},"generated":{"line":1,"column":2430}},{"source":"src/parsers/pes_aac.js","name":"push","original":{"line":96,"column":18},"generated":{"line":1,"column":2436}},{"source":"src/parsers/pes_aac.js","original":{"line":97,"column":10},"generated":{"line":1,"column":2441}},{"source":"src/parsers/pes_aac.js","name":"AACFrame","original":{"line":97,"column":14},"generated":{"line":1,"column":2445}},{"source":"src/parsers/pes_aac.js","original":{"line":97,"column":22},"generated":{"line":1,"column":2447}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":98,"column":12},"generated":{"line":1,"column":2456}},{"source":"src/parsers/pes_aac.js","name":"subarray","original":{"line":98,"column":17},"generated":{"line":1,"column":2458}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":98,"column":26},"generated":{"line":1,"column":2467}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":98,"column":35},"generated":{"line":1,"column":2469}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":98,"column":39},"generated":{"line":1,"column":2471}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":98,"column":47},"generated":{"line":1,"column":2478}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":98,"column":56},"generated":{"line":1,"column":2480}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":98,"column":60},"generated":{"line":1,"column":2482}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":98,"column":69},"generated":{"line":1,"column":2489}},{"source":"src/parsers/pes_aac.js","name":"size","original":{"line":98,"column":73},"generated":{"line":1,"column":2491}},{"source":"src/parsers/pes_aac.js","name":"stamp","original":{"line":99,"column":12},"generated":{"line":1,"column":2497}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":102,"column":8},"generated":{"line":1,"column":2501}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":102,"column":18},"generated":{"line":1,"column":2504}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":102,"column":22},"generated":{"line":1,"column":2506}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":102,"column":31},"generated":{"line":1,"column":2513}},{"source":"src/parsers/pes_aac.js","name":"size","original":{"line":102,"column":35},"generated":{"line":1,"column":2515}},{"source":"src/parsers/pes_aac.js","name":"frameIndex","original":{"line":103,"column":8},"generated":{"line":1,"column":2520}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":105,"column":15},"generated":{"line":1,"column":2524}},{"source":"src/parsers/pes_aac.js","name":"len","original":{"line":105,"column":24},"generated":{"line":1,"column":2526}},{"source":"src/parsers/pes_aac.js","original":{"line":105,"column":30},"generated":{"line":1,"column":2528}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":105,"column":33},"generated":{"line":1,"column":2530}},{"source":"src/parsers/pes_aac.js","original":{"line":106,"column":10},"generated":{"line":1,"column":2534}},{"source":"src/parsers/pes_aac.js","original":{"line":106,"column":31},"generated":{"line":1,"column":2537}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":106,"column":14},"generated":{"line":1,"column":2543}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":106,"column":19},"generated":{"line":1,"column":2545}},{"source":"src/parsers/pes_aac.js","original":{"line":106,"column":69},"generated":{"line":1,"column":2549}},{"source":"src/parsers/pes_aac.js","original":{"line":106,"column":59},"generated":{"line":1,"column":2555}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":106,"column":40},"generated":{"line":1,"column":2559}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":106,"column":45},"generated":{"line":1,"column":2561}},{"source":"src/parsers/pes_aac.js","original":{"line":106,"column":54},"generated":{"line":1,"column":2563}},{"source":"src/parsers/pes_aac.js","original":{"line":106,"column":75},"generated":{"line":1,"column":2567}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":107,"column":12},"generated":{"line":1,"column":2568}},{"source":"src/parsers/pes_aac.js","original":{"line":107,"column":18},"generated":{"line":1,"column":2570}},{"source":"src/parsers/pes_aac.js","original":{"line":108,"column":12},"generated":{"line":1,"column":2575}},{"source":"src/parsers/pes_aac.js","original":{"line":129,"column":4},"generated":{"line":1,"column":2581}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":115,"column":8},"generated":{"line":1,"column":2588}},{"source":"src/parsers/pes_aac.js","name":"len","original":{"line":115,"column":17},"generated":{"line":1,"column":2590}},{"source":"src/parsers/pes_aac.js","original":{"line":115,"column":41},"generated":{"line":1,"column":2593}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":115,"column":24},"generated":{"line":1,"column":2599}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":115,"column":29},"generated":{"line":1,"column":2601}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":117,"column":6},"generated":{"line":1,"column":2605}},{"source":"src/parsers/pes_aac.js","name":"data","original":{"line":117,"column":20},"generated":{"line":1,"column":2607}},{"source":"src/parsers/pes_aac.js","name":"subarray","original":{"line":117,"column":25},"generated":{"line":1,"column":2609}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":117,"column":34},"generated":{"line":1,"column":2618}},{"source":"src/parsers/pes_aac.js","name":"len","original":{"line":117,"column":42},"generated":{"line":1,"column":2620}},{"source":"src/parsers/pes_aac.js","name":"Log","original":{"line":118,"column":6},"generated":{"line":1,"column":2623}},{"source":"src/parsers/pes_aac.js","name":"log","original":{"line":118,"column":10},"generated":{"line":1,"column":2625}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":118,"column":13},"generated":{"line":1,"column":2629}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":118,"column":13},"generated":{"line":1,"column":2650}},{"source":"src/parsers/pes_aac.js","name":"len","original":{"line":119,"column":29},"generated":{"line":1,"column":2657}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":119,"column":32},"generated":{"line":1,"column":2659}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":119,"column":32},"generated":{"line":1,"column":2672}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":119,"column":44},"generated":{"line":1,"column":2679}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":119,"column":50},"generated":{"line":1,"column":2681}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":119,"column":50},"generated":{"line":1,"column":2696}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":120,"column":10},"generated":{"line":1,"column":2703}},{"source":"src/parsers/pes_aac.js","name":"size","original":{"line":120,"column":14},"generated":{"line":1,"column":2705}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":120,"column":18},"generated":{"line":1,"column":2710}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":120,"column":18},"generated":{"line":1,"column":2727}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":121,"column":24},"generated":{"line":1,"column":2734}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":121,"column":28},"generated":{"line":1,"column":2736}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":121,"column":34},"generated":{"line":1,"column":2743}},{"source":"src/parsers/pes_aac.js","name":"concat","original":{"line":121,"column":34},"generated":{"line":1,"column":2766}},{"source":"src/parsers/pes_aac.js","name":"len","original":{"line":121,"column":56},"generated":{"line":1,"column":2773}},{"source":"src/parsers/pes_aac.js","name":"offset","original":{"line":121,"column":62},"generated":{"line":1,"column":2775}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":124,"column":6},"generated":{"line":1,"column":2780}},{"source":"src/parsers/pes_aac.js","original":{"line":124,"column":20},"generated":{"line":1,"column":2782}},{"source":"src/parsers/pes_aac.js","original":{"line":126,"column":4},"generated":{"line":1,"column":2787}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":126,"column":9},"generated":{"line":1,"column":2792}},{"source":"src/parsers/pes_aac.js","name":"aacOverFlow","original":{"line":126,"column":23},"generated":{"line":1,"column":2804}},{"source":"src/parsers/pes_aac.js","original":{"line":127,"column":4},"generated":{"line":1,"column":2806}},{"source":"src/parsers/pes_aac.js","name":"lastAacPTS","original":{"line":127,"column":9},"generated":{"line":1,"column":2811}},{"source":"src/parsers/pes_aac.js","name":"stamp","original":{"line":127,"column":22},"generated":{"line":1,"column":2822}},{"source":"src/parsers/pes_aac.js","name":"hdr","original":{"line":128,"column":4},"generated":{"line":1,"column":2824}},{"source":"src/parsers/pes_aac.js","original":{"line":128,"column":10},"generated":{"line":1,"column":2826}},{"source":"src/parsers/pes_aac.js","name":"res","original":{"line":129,"column":11},"generated":{"line":1,"column":2831}},{"source":"src/parsers/pes_aac.js","name":"AACPES","original":{"line":130,"column":3},"generated":{"line":1,"column":2837}},{"source":"src/parsers/pes_aac.js","original":{"line":8,"column":19},"generated":{"line":1,"column":2839}}],"sources":{"src/parsers/pes_aac.js":"import { getTagged } from \"../utils/logger.js\";\nimport { ADTS } from \"./adts.js\";\nimport { PayloadType } from \"../StreamDefine.js\";\nimport { MediaAccessunit } from \"../MediaAccessunit.js\";\nimport { AACFrame } from \"./aac_frame.js\";\nconst LOG_TAG = \"parses:pes_aac\";\nconst Log = getTagged(LOG_TAG);\nexport class AACPES {\n  constructor(pesType) {\n    this.pesType = pesType;\n    this.aacOverFlow = null;\n    this.lastAacPTS = null;\n    this.track = {};\n    this.config = null;\n  }\n\n  parse(pes) {\n    let data = pes.data;\n    let pts = pes.pts;\n    let startOffset = 0;\n    let aacOverFlow = this.aacOverFlow;\n    let lastAacPTS = this.lastAacPTS;\n    let frameDuration, frameIndex, offset, stamp, len;\n\n    if (aacOverFlow) {\n      var tmp = new Uint8Array(aacOverFlow.byteLength + data.byteLength);\n      tmp.set(aacOverFlow, 0);\n      tmp.set(data, aacOverFlow.byteLength);\n      Log.debug(\n        `append overflowing ${aacOverFlow.byteLength} bytes to beginning of new PES`\n      );\n      data = tmp;\n    }\n\n    // look for ADTS header (0xFFFx)\n    for (offset = startOffset, len = data.length; offset < len - 1; offset++) {\n      if (data[offset] === 0xff && (data[offset + 1] & 0xf0) === 0xf0) {\n        break;\n      }\n    }\n    // if ADTS header does not start straight from the beginning of the PES payload, raise an error\n    if (offset) {\n      let reason, fatal;\n      if (offset < len - 1) {\n        reason = `PES did not start with ADTS header,offset:${offset}`;\n        fatal = false;\n      } else {\n        reason = \"no ADTS header found in AAC PES\";\n        fatal = true;\n      }\n      Log.error(reason);\n      if (fatal) {\n        return;\n      }\n    }\n\n    let hdr = null;\n    let res = new MediaAccessunit(PayloadType.AAC, 0, 0, []);\n    if (!this.config) {\n      hdr = ADTS.parseHeaderConfig(data.subarray(offset));\n      this.config = hdr.config;\n      res.config = hdr.config;\n      hdr.config = null;\n      Log.debug(\n        `parsed codec:${this.config.codec},rate:${this.config.samplerate},nb channel:${this.config.channels}`\n      );\n    }\n    frameIndex = 0;\n    frameDuration = (1024 * 90000) / this.config.samplerate;\n\n    // if last AAC frame is overflowing, we should ensure timestamps are contiguous:\n    // first sample PTS should be equal to last sample PTS + frameDuration\n    if (aacOverFlow && lastAacPTS) {\n      var newPTS = lastAacPTS + frameDuration;\n      if (Math.abs(newPTS - pts) > 1) {\n        Log.debug(\n          `align PTS for overlapping frames by ${Math.round(\n            (newPTS - pts) / 90\n          )}`\n        );\n        pts = newPTS;\n      }\n    }\n\n    while (offset + 5 < len) {\n      if (!hdr) {\n        hdr = ADTS.parseHeader(data.subarray(offset));\n      }\n      /** Log.log(\n        `pes size:${len}, aac header size:${hdr.size},offset:${hdr.offset}`\n      ); */\n      if (hdr.size > 0 && offset + hdr.offset + hdr.size <= len) {\n        stamp = pts + frameIndex * frameDuration;\n        res.pts = stamp;\n        res.dts = stamp;\n        res.units.push(\n          new AACFrame(\n            data.subarray(offset + hdr.offset, offset + hdr.offset + hdr.size),\n            stamp\n          )\n        );\n        offset += hdr.offset + hdr.size;\n        frameIndex++;\n        // look for ADTS header (0xFFFx)\n        for (; offset < len - 1; offset++) {\n          if (data[offset] === 0xff && (data[offset + 1] & 0xf0) === 0xf0) {\n            hdr = null;\n            break;\n          }\n        }\n      } else {\n        break;\n      }\n    }\n    if (offset < len && data[offset] === 0xff) {\n      // TODO: check it\n      aacOverFlow = data.subarray(offset, len);\n      Log.log(\n        `AAC: frame length:${len}, offset:${offset}, hdr size:${\n          hdr.size\n        }, hdr offset:${hdr.offset} overflow detected:${len - offset}`\n      );\n    } else {\n      aacOverFlow = null;\n    }\n    this.aacOverFlow = aacOverFlow;\n    this.lastAacPTS = stamp;\n    hdr = null;\n    return res;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"9ed44fa0c66a6922860aa77f96935ec2","cacheData":{"env":{}}}