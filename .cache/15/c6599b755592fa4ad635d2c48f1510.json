{"id":"YIGO","dependencies":[{"name":"/Users/chengyi/ws_live_player/package.json","includedInParent":true,"mtime":1669102311952},{"name":"../utils/binary.js","loc":{"line":1,"column":32,"index":32},"parent":"/Users/chengyi/ws_live_player/src/parsers/pes.js","resolved":"/Users/chengyi/ws_live_player/src/utils/binary.js"},{"name":"../utils/logger.js","loc":{"line":2,"column":26,"index":80},"parent":"/Users/chengyi/ws_live_player/src/parsers/pes.js","resolved":"/Users/chengyi/ws_live_player/src/utils/logger.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.PESAsm=void 0;var t=require(\"../utils/binary.js\"),e=require(\"../utils/logger.js\");function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function i(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function a(t){var e=o(t,\"string\");return\"symbol\"===r(e)?e:String(e)}function o(t,e){if(\"object\"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,e||\"default\");if(\"object\"!==r(s))return s;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}var h=\"parses:pes\",u=(0,e.getTagged)(h),f=exports.PESAsm=function(){function e(t){n(this,e),this.pid=t,this.fragments=[],this.pesLength=0,this.pesPkt=null}return i(e,[{key:\"parse\",value:function(t){if(!this.extPresent)return null;var e=this.parseExtension(t);e.data=t.subarray(e.offset)}},{key:\"parseHeader\",value:function(){var t=this.fragments[0],e=(t[0]<<16)+(t[1]<<8)+t[2];if(this.extPresent=![190,191].includes(t[3]),1===e){var r=(t[4]<<8)+t[5];return r?(this.pesLength=r,this.hasLength=!0):(this.hasLength=!1,this.pesPkt=null),!0}return!1}},{key:\"parseExtension\",value:function(t){var e,r,n;return 192&(e=t[1])?((r=536870912*(14&t[3])+4194304*(255&t[4])+16384*(254&t[5])+128*(255&t[6])+(254&t[7])/2)>4294967295&&(r-=8589934592),64&e?(n=536870912*(14&t[8])+4194304*(255&t[9])+16384*(254&t[10])+128*(255&t[11])+(254&t[12])/2)>4294967295&&(n-=8589934592):n=r,{offset:t[2]+9,pts:r,dts:n}):null}},{key:\"feed\",value:function(e,r){var n=null;if(r&&this.fragments.length){if(!this.parseHeader())throw new Error(\"Invalid PES packet\");var s=6,i={};this.extPresent&&(s=(i=this.parseExtension(this.fragments[0].subarray(6))).offset),this.pesPkt||(this.pesPkt=new Uint8Array(this.pesLength));for(var a=0;this.pesLength&&this.fragments.length;){var o=this.fragments.shift();if(s){if(o.byteLength<s){s-=o.byteLength;continue}o=o.subarray(s),this.pesLength-=s-(this.hasLength?6:0),s=0}this.pesPkt.set(o,a),a+=o.byteLength,this.pesLength-=o.byteLength}n={data:this.pesPkt.subarray(0,a),pts:i.pts,dts:i.dts}}else this.pesPkt=null;return this.pesLength+=e.byteLength,this.fragments.length&&this.fragments[this.fragments.length-1].byteLength<6?this.fragments[this.fragments.length-1]=(0,t.appendByteArray)(this.fragments[this.fragments.length-1],e):this.fragments.push(e),n}}],[{key:\"PTSNormalize\",value:function(t,e){var r;if(void 0===e)return t;for(r=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}}]),e}();"},"sourceMaps":{"js":{"mappings":[{"source":"src/parsers/pes.js","original":{"line":66,"column":3},"generated":{"line":1,"column":0}},{"source":"src/parsers/pes.js","original":{"line":66,"column":3},"generated":{"line":1,"column":13}},{"source":"src/parsers/pes.js","original":{"line":66,"column":3},"generated":{"line":1,"column":20}},{"source":"src/parsers/pes.js","original":{"line":66,"column":3},"generated":{"line":1,"column":35}},{"source":"src/parsers/pes.js","original":{"line":66,"column":3},"generated":{"line":1,"column":43}},{"source":"src/parsers/pes.js","original":{"line":66,"column":3},"generated":{"line":1,"column":56}},{"source":"src/parsers/pes.js","original":{"line":66,"column":3},"generated":{"line":1,"column":57}},{"source":"src/parsers/pes.js","original":{"line":66,"column":3},"generated":{"line":1,"column":64}},{"source":"src/parsers/pes.js","original":{"line":66,"column":3},"generated":{"line":1,"column":68}},{"source":"src/parsers/pes.js","original":{"line":66,"column":3},"generated":{"line":1,"column":76}},{"source":"src/parsers/pes.js","original":{"line":66,"column":3},"generated":{"line":1,"column":88}},{"source":"src/parsers/pes.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"src/parsers/pes.js","name":"_binary","original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"src/parsers/pes.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"src/parsers/pes.js","original":{"line":1,"column":0},"generated":{"line":1,"column":104}},{"source":"src/parsers/pes.js","name":"_logger","original":{"line":2,"column":0},"generated":{"line":1,"column":126}},{"source":"src/parsers/pes.js","name":"require","original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"src/parsers/pes.js","original":{"line":2,"column":0},"generated":{"line":1,"column":136}},{"source":"src/parsers/pes.js","original":{"line":2,"column":47},"generated":{"line":1,"column":158}},{"source":"src/parsers/pes.js","name":"_typeof","original":{"line":2,"column":47},"generated":{"line":1,"column":167}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":169}},{"source":"src/parsers/pes.js","name":"_typeof","original":{"line":2,"column":47},"generated":{"line":1,"column":172}},{"source":"src/parsers/pes.js","name":"_typeof","original":{"line":2,"column":47},"generated":{"line":1,"column":179}},{"source":"src/parsers/pes.js","name":"Symbol","original":{"line":2,"column":47},"generated":{"line":1,"column":181}},{"source":"src/parsers/pes.js","name":"Symbol","original":{"line":2,"column":47},"generated":{"line":1,"column":200}},{"source":"src/parsers/pes.js","name":"Symbol","original":{"line":2,"column":47},"generated":{"line":1,"column":208}},{"source":"src/parsers/pes.js","name":"Symbol","original":{"line":2,"column":47},"generated":{"line":1,"column":225}},{"source":"src/parsers/pes.js","name":"iterator","original":{"line":2,"column":47},"generated":{"line":1,"column":232}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":241}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":250}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":253}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":267}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":270}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":279}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":282}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":289}},{"source":"src/parsers/pes.js","name":"Symbol","original":{"line":2,"column":47},"generated":{"line":1,"column":292}},{"source":"src/parsers/pes.js","name":"Symbol","original":{"line":2,"column":47},"generated":{"line":1,"column":311}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":319}},{"source":"src/parsers/pes.js","name":"constructor","original":{"line":2,"column":47},"generated":{"line":1,"column":321}},{"source":"src/parsers/pes.js","name":"Symbol","original":{"line":2,"column":47},"generated":{"line":1,"column":335}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":343}},{"source":"src/parsers/pes.js","name":"Symbol","original":{"line":2,"column":47},"generated":{"line":1,"column":347}},{"source":"src/parsers/pes.js","name":"prototype","original":{"line":2,"column":47},"generated":{"line":1,"column":354}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":364}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":380}},{"source":"src/parsers/pes.js","name":"o","original":{"line":2,"column":47},"generated":{"line":1,"column":384}},{"source":"src/parsers/pes.js","original":{"line":2,"column":47},"generated":{"line":1,"column":387}},{"source":"src/parsers/pes.js","name":"_classCallCheck","original":{"line":2,"column":47},"generated":{"line":1,"column":396}},{"source":"src/parsers/pes.js","name":"instance","original":{"line":2,"column":47},"generated":{"line":1,"column":398}},{"source":"src/parsers/pes.js","name":"Constructor","original":{"line":2,"column":47},"generated":{"line":1,"column":400}},{"source":"src/parsers/pes.js","name":"instance","original":{"line":2,"column":47},"generated":{"line":1,"column":403}},{"source":"src/parsers/pes.js","name":"instance","original":{"line":2,"column":47},"generated":{"line":1,"column":408}},{"source":"src/parsers/pes.js","name":"Constructor","original":{"line":2,"column":47},"generated":{"line":1,"column":421}},{"source":"src/parsers/pes.js","name":"TypeError","original":{"line":2,"column":47},"generated":{"line":1,"column":424}},{"source":"src/parsers/pes.js","name":"TypeError","original":{"line":2,"column":47},"generated":{"line":1,"column":430}},{"source":"src/parsers/pes.js","name":"TypeError","original":{"line":2,"column":47},"generated":{"line":1,"column":434}},{"source":"src/parsers/pes.js","original":{"line":2,"column":47},"generated":{"line":1,"column":444}},{"source":"src/parsers/pes.js","original":{"line":2,"column":47},"generated":{"line":1,"column":481}},{"source":"src/parsers/pes.js","name":"_defineProperties","original":{"line":2,"column":47},"generated":{"line":1,"column":490}},{"source":"src/parsers/pes.js","name":"target","original":{"line":2,"column":47},"generated":{"line":1,"column":492}},{"source":"src/parsers/pes.js","name":"props","original":{"line":2,"column":47},"generated":{"line":1,"column":494}},{"source":"src/parsers/pes.js","name":"i","original":{"line":2,"column":47},"generated":{"line":1,"column":497}},{"source":"src/parsers/pes.js","name":"i","original":{"line":2,"column":47},"generated":{"line":1,"column":501}},{"source":"src/parsers/pes.js","name":"i","original":{"line":2,"column":47},"generated":{"line":1,"column":505}},{"source":"src/parsers/pes.js","name":"i","original":{"line":2,"column":47},"generated":{"line":1,"column":507}},{"source":"src/parsers/pes.js","name":"i","original":{"line":2,"column":47},"generated":{"line":1,"column":509}},{"source":"src/parsers/pes.js","name":"props","original":{"line":2,"column":47},"generated":{"line":1,"column":511}},{"source":"src/parsers/pes.js","name":"length","original":{"line":2,"column":47},"generated":{"line":1,"column":513}},{"source":"src/parsers/pes.js","name":"i","original":{"line":2,"column":47},"generated":{"line":1,"column":520}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":524}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":525}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":529}},{"source":"src/parsers/pes.js","name":"props","original":{"line":2,"column":47},"generated":{"line":1,"column":531}},{"source":"src/parsers/pes.js","name":"i","original":{"line":2,"column":47},"generated":{"line":1,"column":533}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":536}},{"source":"src/parsers/pes.js","name":"enumerable","original":{"line":2,"column":47},"generated":{"line":1,"column":538}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":549}},{"source":"src/parsers/pes.js","name":"enumerable","original":{"line":2,"column":47},"generated":{"line":1,"column":551}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":564}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":566}},{"source":"src/parsers/pes.js","name":"configurable","original":{"line":2,"column":47},"generated":{"line":1,"column":568}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":582}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":584}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":594}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":598}},{"source":"src/parsers/pes.js","name":"writable","original":{"line":2,"column":47},"generated":{"line":1,"column":600}},{"source":"src/parsers/pes.js","name":"Object","original":{"line":2,"column":47},"generated":{"line":1,"column":610}},{"source":"src/parsers/pes.js","name":"Object","original":{"line":2,"column":47},"generated":{"line":1,"column":613}},{"source":"src/parsers/pes.js","name":"defineProperty","original":{"line":2,"column":47},"generated":{"line":1,"column":620}},{"source":"src/parsers/pes.js","name":"target","original":{"line":2,"column":47},"generated":{"line":1,"column":635}},{"source":"src/parsers/pes.js","name":"_toPropertyKey","original":{"line":2,"column":47},"generated":{"line":1,"column":637}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":639}},{"source":"src/parsers/pes.js","name":"key","original":{"line":2,"column":47},"generated":{"line":1,"column":641}},{"source":"src/parsers/pes.js","name":"descriptor","original":{"line":2,"column":47},"generated":{"line":1,"column":646}},{"source":"src/parsers/pes.js","original":{"line":2,"column":47},"generated":{"line":1,"column":650}},{"source":"src/parsers/pes.js","name":"_createClass","original":{"line":2,"column":47},"generated":{"line":1,"column":659}},{"source":"src/parsers/pes.js","name":"Constructor","original":{"line":2,"column":47},"generated":{"line":1,"column":661}},{"source":"src/parsers/pes.js","name":"protoProps","original":{"line":2,"column":47},"generated":{"line":1,"column":663}},{"source":"src/parsers/pes.js","name":"staticProps","original":{"line":2,"column":47},"generated":{"line":1,"column":665}},{"source":"src/parsers/pes.js","name":"Constructor","original":{"line":2,"column":47},"generated":{"line":1,"column":668}},{"source":"src/parsers/pes.js","name":"protoProps","original":{"line":2,"column":47},"generated":{"line":1,"column":675}},{"source":"src/parsers/pes.js","name":"_defineProperties","original":{"line":2,"column":47},"generated":{"line":1,"column":678}},{"source":"src/parsers/pes.js","name":"Constructor","original":{"line":2,"column":47},"generated":{"line":1,"column":680}},{"source":"src/parsers/pes.js","name":"prototype","original":{"line":2,"column":47},"generated":{"line":1,"column":682}},{"source":"src/parsers/pes.js","name":"protoProps","original":{"line":2,"column":47},"generated":{"line":1,"column":692}},{"source":"src/parsers/pes.js","name":"staticProps","original":{"line":2,"column":47},"generated":{"line":1,"column":695}},{"source":"src/parsers/pes.js","name":"_defineProperties","original":{"line":2,"column":47},"generated":{"line":1,"column":698}},{"source":"src/parsers/pes.js","name":"Constructor","original":{"line":2,"column":47},"generated":{"line":1,"column":700}},{"source":"src/parsers/pes.js","name":"staticProps","original":{"line":2,"column":47},"generated":{"line":1,"column":702}},{"source":"src/parsers/pes.js","name":"Object","original":{"line":2,"column":47},"generated":{"line":1,"column":705}},{"source":"src/parsers/pes.js","name":"defineProperty","original":{"line":2,"column":47},"generated":{"line":1,"column":712}},{"source":"src/parsers/pes.js","name":"Constructor","original":{"line":2,"column":47},"generated":{"line":1,"column":727}},{"source":"src/parsers/pes.js","name":"writable","original":{"line":2,"column":47},"generated":{"line":1,"column":729}},{"source":"src/parsers/pes.js","name":"writable","original":{"line":2,"column":47},"generated":{"line":1,"column":741}},{"source":"src/parsers/pes.js","name":"writable","original":{"line":2,"column":47},"generated":{"line":1,"column":742}},{"source":"src/parsers/pes.js","name":"Constructor","original":{"line":2,"column":47},"generated":{"line":1,"column":752}},{"source":"src/parsers/pes.js","name":"Constructor","original":{"line":2,"column":47},"generated":{"line":1,"column":756}},{"source":"src/parsers/pes.js","original":{"line":2,"column":47},"generated":{"line":1,"column":758}},{"source":"src/parsers/pes.js","name":"_toPropertyKey","original":{"line":2,"column":47},"generated":{"line":1,"column":767}},{"source":"src/parsers/pes.js","name":"arg","original":{"line":2,"column":47},"generated":{"line":1,"column":769}},{"source":"src/parsers/pes.js","name":"key","original":{"line":2,"column":47},"generated":{"line":1,"column":772}},{"source":"src/parsers/pes.js","name":"key","original":{"line":2,"column":47},"generated":{"line":1,"column":776}},{"source":"src/parsers/pes.js","name":"_toPrimitive","original":{"line":2,"column":47},"generated":{"line":1,"column":778}},{"source":"src/parsers/pes.js","name":"arg","original":{"line":2,"column":47},"generated":{"line":1,"column":780}},{"source":"src/parsers/pes.js","name":"_typeof","original":{"line":2,"column":47},"generated":{"line":1,"column":782}},{"source":"src/parsers/pes.js","name":"_typeof","original":{"line":2,"column":47},"generated":{"line":1,"column":792}},{"source":"src/parsers/pes.js","name":"key","original":{"line":2,"column":47},"generated":{"line":1,"column":798}},{"source":"src/parsers/pes.js","name":"_typeof","original":{"line":2,"column":47},"generated":{"line":1,"column":809}},{"source":"src/parsers/pes.js","name":"key","original":{"line":2,"column":47},"generated":{"line":1,"column":811}},{"source":"src/parsers/pes.js","name":"key","original":{"line":2,"column":47},"generated":{"line":1,"column":814}},{"source":"src/parsers/pes.js","name":"String","original":{"line":2,"column":47},"generated":{"line":1,"column":816}},{"source":"src/parsers/pes.js","name":"key","original":{"line":2,"column":47},"generated":{"line":1,"column":823}},{"source":"src/parsers/pes.js","original":{"line":2,"column":47},"generated":{"line":1,"column":826}},{"source":"src/parsers/pes.js","name":"_toPrimitive","original":{"line":2,"column":47},"generated":{"line":1,"column":835}},{"source":"src/parsers/pes.js","name":"input","original":{"line":2,"column":47},"generated":{"line":1,"column":837}},{"source":"src/parsers/pes.js","name":"hint","original":{"line":2,"column":47},"generated":{"line":1,"column":839}},{"source":"src/parsers/pes.js","name":"_typeof","original":{"line":2,"column":47},"generated":{"line":1,"column":842}},{"source":"src/parsers/pes.js","name":"input","original":{"line":2,"column":47},"generated":{"line":1,"column":845}},{"source":"src/parsers/pes.js","name":"_typeof","original":{"line":2,"column":47},"generated":{"line":1,"column":856}},{"source":"src/parsers/pes.js","name":"input","original":{"line":2,"column":47},"generated":{"line":1,"column":858}},{"source":"src/parsers/pes.js","name":"input","original":{"line":2,"column":47},"generated":{"line":1,"column":862}},{"source":"src/parsers/pes.js","name":"input","original":{"line":2,"column":47},"generated":{"line":1,"column":869}},{"source":"src/parsers/pes.js","name":"input","original":{"line":2,"column":47},"generated":{"line":1,"column":871}},{"source":"src/parsers/pes.js","name":"input","original":{"line":2,"column":47},"generated":{"line":1,"column":878}},{"source":"src/parsers/pes.js","name":"prim","original":{"line":2,"column":47},"generated":{"line":1,"column":880}},{"source":"src/parsers/pes.js","name":"prim","original":{"line":2,"column":47},"generated":{"line":1,"column":884}},{"source":"src/parsers/pes.js","name":"input","original":{"line":2,"column":47},"generated":{"line":1,"column":886}},{"source":"src/parsers/pes.js","name":"Symbol","original":{"line":2,"column":47},"generated":{"line":1,"column":888}},{"source":"src/parsers/pes.js","name":"toPrimitive","original":{"line":2,"column":47},"generated":{"line":1,"column":895}},{"source":"src/parsers/pes.js","name":"prim","original":{"line":2,"column":47},"generated":{"line":1,"column":908}},{"source":"src/parsers/pes.js","name":"undefined","original":{"line":2,"column":47},"generated":{"line":1,"column":916}},{"source":"src/parsers/pes.js","name":"prim","original":{"line":2,"column":47},"generated":{"line":1,"column":920}},{"source":"src/parsers/pes.js","name":"res","original":{"line":2,"column":47},"generated":{"line":1,"column":922}},{"source":"src/parsers/pes.js","name":"res","original":{"line":2,"column":47},"generated":{"line":1,"column":923}},{"source":"src/parsers/pes.js","name":"res","original":{"line":2,"column":47},"generated":{"line":1,"column":927}},{"source":"src/parsers/pes.js","name":"prim","original":{"line":2,"column":47},"generated":{"line":1,"column":929}},{"source":"src/parsers/pes.js","name":"call","original":{"line":2,"column":47},"generated":{"line":1,"column":931}},{"source":"src/parsers/pes.js","name":"input","original":{"line":2,"column":47},"generated":{"line":1,"column":936}},{"source":"src/parsers/pes.js","name":"hint","original":{"line":2,"column":47},"generated":{"line":1,"column":938}},{"source":"src/parsers/pes.js","name":"_typeof","original":{"line":2,"column":47},"generated":{"line":1,"column":941}},{"source":"src/parsers/pes.js","name":"_typeof","original":{"line":2,"column":47},"generated":{"line":1,"column":952}},{"source":"src/parsers/pes.js","name":"res","original":{"line":2,"column":47},"generated":{"line":1,"column":955}},{"source":"src/parsers/pes.js","name":"_typeof","original":{"line":2,"column":47},"generated":{"line":1,"column":966}},{"source":"src/parsers/pes.js","name":"res","original":{"line":2,"column":47},"generated":{"line":1,"column":968}},{"source":"src/parsers/pes.js","name":"res","original":{"line":2,"column":47},"generated":{"line":1,"column":971}},{"source":"src/parsers/pes.js","name":"res","original":{"line":2,"column":47},"generated":{"line":1,"column":978}},{"source":"src/parsers/pes.js","name":"TypeError","original":{"line":2,"column":47},"generated":{"line":1,"column":980}},{"source":"src/parsers/pes.js","name":"TypeError","original":{"line":2,"column":47},"generated":{"line":1,"column":986}},{"source":"src/parsers/pes.js","name":"TypeError","original":{"line":2,"column":47},"generated":{"line":1,"column":990}},{"source":"src/parsers/pes.js","name":"hint","original":{"line":2,"column":47},"generated":{"line":1,"column":1000}},{"source":"src/parsers/pes.js","name":"hint","original":{"line":2,"column":47},"generated":{"line":1,"column":1048}},{"source":"src/parsers/pes.js","name":"String","original":{"line":2,"column":47},"generated":{"line":1,"column":1055}},{"source":"src/parsers/pes.js","name":"hint","original":{"line":2,"column":47},"generated":{"line":1,"column":1066}},{"source":"src/parsers/pes.js","name":"String","original":{"line":2,"column":47},"generated":{"line":1,"column":1068}},{"source":"src/parsers/pes.js","name":"Number","original":{"line":2,"column":47},"generated":{"line":1,"column":1075}},{"source":"src/parsers/pes.js","name":"input","original":{"line":2,"column":47},"generated":{"line":1,"column":1083}},{"source":"src/parsers/pes.js","original":{"line":3,"column":0},"generated":{"line":1,"column":1086}},{"source":"src/parsers/pes.js","name":"LOG_TAG","original":{"line":3,"column":6},"generated":{"line":1,"column":1090}},{"source":"src/parsers/pes.js","original":{"line":3,"column":16},"generated":{"line":1,"column":1092}},{"source":"src/parsers/pes.js","name":"Log","original":{"line":4,"column":6},"generated":{"line":1,"column":1105}},{"source":"src/parsers/pes.js","original":{"line":4,"column":12},"generated":{"line":1,"column":1108}},{"source":"src/parsers/pes.js","name":"getTagged","original":{"line":4,"column":12},"generated":{"line":1,"column":1110}},{"source":"src/parsers/pes.js","original":{"line":4,"column":21},"generated":{"line":1,"column":1112}},{"source":"src/parsers/pes.js","name":"LOG_TAG","original":{"line":4,"column":22},"generated":{"line":1,"column":1123}},{"source":"src/parsers/pes.js","name":"PESAsm","original":{"line":5,"column":13},"generated":{"line":1,"column":1126}},{"source":"src/parsers/pes.js","name":"exports","original":{"line":5,"column":19},"generated":{"line":1,"column":1128}},{"source":"src/parsers/pes.js","name":"PESAsm","original":{"line":5,"column":19},"generated":{"line":1,"column":1136}},{"source":"src/parsers/pes.js","original":{"line":5,"column":19},"generated":{"line":1,"column":1143}},{"source":"src/parsers/pes.js","original":{"line":6,"column":2},"generated":{"line":1,"column":1154}},{"source":"src/parsers/pes.js","name":"PESAsm","original":{"line":6,"column":2},"generated":{"line":1,"column":1163}},{"source":"src/parsers/pes.js","name":"pid","original":{"line":6,"column":14},"generated":{"line":1,"column":1165}},{"source":"src/parsers/pes.js","name":"_classCallCheck","original":{"line":6,"column":19},"generated":{"line":1,"column":1168}},{"source":"src/parsers/pes.js","name":"PESAsm","original":{"line":6,"column":19},"generated":{"line":1,"column":1170}},{"source":"src/parsers/pes.js","name":"PESAsm","original":{"line":6,"column":19},"generated":{"line":1,"column":1175}},{"source":"src/parsers/pes.js","original":{"line":7,"column":4},"generated":{"line":1,"column":1178}},{"source":"src/parsers/pes.js","name":"pid","original":{"line":7,"column":9},"generated":{"line":1,"column":1183}},{"source":"src/parsers/pes.js","name":"pid","original":{"line":7,"column":15},"generated":{"line":1,"column":1187}},{"source":"src/parsers/pes.js","original":{"line":8,"column":4},"generated":{"line":1,"column":1189}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":8,"column":9},"generated":{"line":1,"column":1194}},{"source":"src/parsers/pes.js","original":{"line":8,"column":21},"generated":{"line":1,"column":1204}},{"source":"src/parsers/pes.js","original":{"line":9,"column":4},"generated":{"line":1,"column":1207}},{"source":"src/parsers/pes.js","name":"pesLength","original":{"line":9,"column":9},"generated":{"line":1,"column":1212}},{"source":"src/parsers/pes.js","original":{"line":9,"column":21},"generated":{"line":1,"column":1222}},{"source":"src/parsers/pes.js","original":{"line":10,"column":4},"generated":{"line":1,"column":1224}},{"source":"src/parsers/pes.js","name":"pesPkt","original":{"line":10,"column":9},"generated":{"line":1,"column":1229}},{"source":"src/parsers/pes.js","original":{"line":10,"column":18},"generated":{"line":1,"column":1236}},{"source":"src/parsers/pes.js","original":{"line":66,"column":3},"generated":{"line":1,"column":1241}},{"source":"src/parsers/pes.js","name":"_createClass","original":{"line":11,"column":3},"generated":{"line":1,"column":1248}},{"source":"src/parsers/pes.js","name":"PESAsm","original":{"line":11,"column":3},"generated":{"line":1,"column":1250}},{"source":"src/parsers/pes.js","original":{"line":11,"column":3},"generated":{"line":1,"column":1252}},{"source":"src/parsers/pes.js","original":{"line":11,"column":3},"generated":{"line":1,"column":1253}},{"source":"src/parsers/pes.js","name":"key","original":{"line":11,"column":3},"generated":{"line":1,"column":1254}},{"source":"src/parsers/pes.js","original":{"line":11,"column":3},"generated":{"line":1,"column":1258}},{"source":"src/parsers/pes.js","name":"value","original":{"line":11,"column":3},"generated":{"line":1,"column":1266}},{"source":"src/parsers/pes.js","original":{"line":13,"column":2},"generated":{"line":1,"column":1272}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":13,"column":8},"generated":{"line":1,"column":1281}},{"source":"src/parsers/pes.js","original":{"line":14,"column":4},"generated":{"line":1,"column":1284}},{"source":"src/parsers/pes.js","original":{"line":14,"column":8},"generated":{"line":1,"column":1288}},{"source":"src/parsers/pes.js","name":"extPresent","original":{"line":14,"column":13},"generated":{"line":1,"column":1293}},{"source":"src/parsers/pes.js","original":{"line":18,"column":6},"generated":{"line":1,"column":1304}},{"source":"src/parsers/pes.js","original":{"line":18,"column":13},"generated":{"line":1,"column":1311}},{"source":"src/parsers/pes.js","original":{"line":15,"column":6},"generated":{"line":1,"column":1316}},{"source":"src/parsers/pes.js","name":"ext","original":{"line":15,"column":10},"generated":{"line":1,"column":1320}},{"source":"src/parsers/pes.js","original":{"line":15,"column":16},"generated":{"line":1,"column":1322}},{"source":"src/parsers/pes.js","name":"parseExtension","original":{"line":15,"column":21},"generated":{"line":1,"column":1327}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":15,"column":36},"generated":{"line":1,"column":1342}},{"source":"src/parsers/pes.js","name":"ext","original":{"line":16,"column":6},"generated":{"line":1,"column":1345}},{"source":"src/parsers/pes.js","name":"data","original":{"line":16,"column":10},"generated":{"line":1,"column":1347}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":16,"column":17},"generated":{"line":1,"column":1352}},{"source":"src/parsers/pes.js","name":"subarray","original":{"line":16,"column":22},"generated":{"line":1,"column":1354}},{"source":"src/parsers/pes.js","name":"ext","original":{"line":16,"column":31},"generated":{"line":1,"column":1363}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":16,"column":35},"generated":{"line":1,"column":1365}},{"source":"src/parsers/pes.js","original":{"line":22,"column":2},"generated":{"line":1,"column":1375}},{"source":"src/parsers/pes.js","name":"key","original":{"line":22,"column":2},"generated":{"line":1,"column":1376}},{"source":"src/parsers/pes.js","original":{"line":22,"column":2},"generated":{"line":1,"column":1380}},{"source":"src/parsers/pes.js","name":"value","original":{"line":22,"column":2},"generated":{"line":1,"column":1394}},{"source":"src/parsers/pes.js","original":{"line":23,"column":2},"generated":{"line":1,"column":1400}},{"source":"src/parsers/pes.js","original":{"line":24,"column":4},"generated":{"line":1,"column":1411}},{"source":"src/parsers/pes.js","name":"hdr","original":{"line":24,"column":8},"generated":{"line":1,"column":1415}},{"source":"src/parsers/pes.js","original":{"line":24,"column":14},"generated":{"line":1,"column":1417}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":24,"column":19},"generated":{"line":1,"column":1422}},{"source":"src/parsers/pes.js","original":{"line":24,"column":29},"generated":{"line":1,"column":1432}},{"source":"src/parsers/pes.js","name":"pesPrefix","original":{"line":26,"column":8},"generated":{"line":1,"column":1435}},{"source":"src/parsers/pes.js","name":"hdr","original":{"line":26,"column":21},"generated":{"line":1,"column":1438}},{"source":"src/parsers/pes.js","original":{"line":26,"column":25},"generated":{"line":1,"column":1440}},{"source":"src/parsers/pes.js","original":{"line":26,"column":31},"generated":{"line":1,"column":1444}},{"source":"src/parsers/pes.js","name":"hdr","original":{"line":26,"column":38},"generated":{"line":1,"column":1449}},{"source":"src/parsers/pes.js","original":{"line":26,"column":42},"generated":{"line":1,"column":1451}},{"source":"src/parsers/pes.js","original":{"line":26,"column":48},"generated":{"line":1,"column":1455}},{"source":"src/parsers/pes.js","name":"hdr","original":{"line":26,"column":53},"generated":{"line":1,"column":1458}},{"source":"src/parsers/pes.js","original":{"line":26,"column":57},"generated":{"line":1,"column":1460}},{"source":"src/parsers/pes.js","original":{"line":29,"column":4},"generated":{"line":1,"column":1463}},{"source":"src/parsers/pes.js","original":{"line":28,"column":4},"generated":{"line":1,"column":1466}},{"source":"src/parsers/pes.js","name":"extPresent","original":{"line":28,"column":9},"generated":{"line":1,"column":1471}},{"source":"src/parsers/pes.js","original":{"line":28,"column":23},"generated":{"line":1,"column":1483}},{"source":"src/parsers/pes.js","original":{"line":28,"column":24},"generated":{"line":1,"column":1484}},{"source":"src/parsers/pes.js","original":{"line":28,"column":30},"generated":{"line":1,"column":1488}},{"source":"src/parsers/pes.js","name":"includes","original":{"line":28,"column":36},"generated":{"line":1,"column":1493}},{"source":"src/parsers/pes.js","name":"hdr","original":{"line":28,"column":45},"generated":{"line":1,"column":1502}},{"source":"src/parsers/pes.js","original":{"line":28,"column":49},"generated":{"line":1,"column":1504}},{"source":"src/parsers/pes.js","original":{"line":29,"column":22},"generated":{"line":1,"column":1508}},{"source":"src/parsers/pes.js","name":"pesPrefix","original":{"line":29,"column":8},"generated":{"line":1,"column":1512}},{"source":"src/parsers/pes.js","original":{"line":29,"column":25},"generated":{"line":1,"column":1514}},{"source":"src/parsers/pes.js","original":{"line":31,"column":6},"generated":{"line":1,"column":1515}},{"source":"src/parsers/pes.js","name":"pesLength","original":{"line":31,"column":10},"generated":{"line":1,"column":1519}},{"source":"src/parsers/pes.js","name":"hdr","original":{"line":31,"column":23},"generated":{"line":1,"column":1522}},{"source":"src/parsers/pes.js","original":{"line":31,"column":27},"generated":{"line":1,"column":1524}},{"source":"src/parsers/pes.js","original":{"line":31,"column":33},"generated":{"line":1,"column":1528}},{"source":"src/parsers/pes.js","name":"hdr","original":{"line":31,"column":38},"generated":{"line":1,"column":1531}},{"source":"src/parsers/pes.js","original":{"line":31,"column":42},"generated":{"line":1,"column":1533}},{"source":"src/parsers/pes.js","original":{"line":42,"column":6},"generated":{"line":1,"column":1536}},{"source":"src/parsers/pes.js","name":"pesLength","original":{"line":35,"column":10},"generated":{"line":1,"column":1543}},{"source":"src/parsers/pes.js","original":{"line":36,"column":8},"generated":{"line":1,"column":1546}},{"source":"src/parsers/pes.js","name":"pesLength","original":{"line":36,"column":13},"generated":{"line":1,"column":1551}},{"source":"src/parsers/pes.js","name":"pesLength","original":{"line":36,"column":25},"generated":{"line":1,"column":1561}},{"source":"src/parsers/pes.js","original":{"line":37,"column":8},"generated":{"line":1,"column":1563}},{"source":"src/parsers/pes.js","name":"hasLength","original":{"line":37,"column":13},"generated":{"line":1,"column":1568}},{"source":"src/parsers/pes.js","original":{"line":37,"column":25},"generated":{"line":1,"column":1579}},{"source":"src/parsers/pes.js","original":{"line":39,"column":8},"generated":{"line":1,"column":1583}},{"source":"src/parsers/pes.js","name":"hasLength","original":{"line":39,"column":13},"generated":{"line":1,"column":1588}},{"source":"src/parsers/pes.js","original":{"line":39,"column":25},"generated":{"line":1,"column":1599}},{"source":"src/parsers/pes.js","original":{"line":40,"column":8},"generated":{"line":1,"column":1601}},{"source":"src/parsers/pes.js","name":"pesPkt","original":{"line":40,"column":13},"generated":{"line":1,"column":1606}},{"source":"src/parsers/pes.js","original":{"line":40,"column":22},"generated":{"line":1,"column":1613}},{"source":"src/parsers/pes.js","original":{"line":42,"column":13},"generated":{"line":1,"column":1620}},{"source":"src/parsers/pes.js","original":{"line":44,"column":4},"generated":{"line":1,"column":1622}},{"source":"src/parsers/pes.js","original":{"line":44,"column":11},"generated":{"line":1,"column":1629}},{"source":"src/parsers/pes.js","original":{"line":45,"column":3},"generated":{"line":1,"column":1633}},{"source":"src/parsers/pes.js","name":"key","original":{"line":45,"column":3},"generated":{"line":1,"column":1634}},{"source":"src/parsers/pes.js","original":{"line":45,"column":3},"generated":{"line":1,"column":1638}},{"source":"src/parsers/pes.js","name":"value","original":{"line":45,"column":3},"generated":{"line":1,"column":1655}},{"source":"src/parsers/pes.js","original":{"line":68,"column":2},"generated":{"line":1,"column":1661}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":68,"column":17},"generated":{"line":1,"column":1670}},{"source":"src/parsers/pes.js","original":{"line":69,"column":4},"generated":{"line":1,"column":1673}},{"source":"src/parsers/pes.js","name":"pesFlags","original":{"line":69,"column":8},"generated":{"line":1,"column":1677}},{"source":"src/parsers/pes.js","name":"pesPts","original":{"line":69,"column":29},"generated":{"line":1,"column":1679}},{"source":"src/parsers/pes.js","name":"pesDts","original":{"line":69,"column":37},"generated":{"line":1,"column":1681}},{"source":"src/parsers/pes.js","original":{"line":72,"column":4},"generated":{"line":1,"column":1683}},{"source":"src/parsers/pes.js","original":{"line":72,"column":19},"generated":{"line":1,"column":1690}},{"source":"src/parsers/pes.js","name":"pesFlags","original":{"line":71,"column":4},"generated":{"line":1,"column":1695}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":71,"column":15},"generated":{"line":1,"column":1697}},{"source":"src/parsers/pes.js","original":{"line":71,"column":20},"generated":{"line":1,"column":1699}},{"source":"src/parsers/pes.js","name":"pesPts","original":{"line":76,"column":6},"generated":{"line":1,"column":1705}},{"source":"src/parsers/pes.js","original":{"line":77,"column":27},"generated":{"line":1,"column":1707}},{"source":"src/parsers/pes.js","original":{"line":77,"column":19},"generated":{"line":1,"column":1718}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":77,"column":9},"generated":{"line":1,"column":1721}},{"source":"src/parsers/pes.js","original":{"line":77,"column":14},"generated":{"line":1,"column":1723}},{"source":"src/parsers/pes.js","original":{"line":78,"column":27},"generated":{"line":1,"column":1727}},{"source":"src/parsers/pes.js","original":{"line":78,"column":19},"generated":{"line":1,"column":1736}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":78,"column":9},"generated":{"line":1,"column":1740}},{"source":"src/parsers/pes.js","original":{"line":78,"column":14},"generated":{"line":1,"column":1742}},{"source":"src/parsers/pes.js","original":{"line":79,"column":27},"generated":{"line":1,"column":1746}},{"source":"src/parsers/pes.js","original":{"line":79,"column":19},"generated":{"line":1,"column":1753}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":79,"column":9},"generated":{"line":1,"column":1757}},{"source":"src/parsers/pes.js","original":{"line":79,"column":14},"generated":{"line":1,"column":1759}},{"source":"src/parsers/pes.js","original":{"line":80,"column":27},"generated":{"line":1,"column":1763}},{"source":"src/parsers/pes.js","original":{"line":80,"column":19},"generated":{"line":1,"column":1768}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":80,"column":9},"generated":{"line":1,"column":1772}},{"source":"src/parsers/pes.js","original":{"line":80,"column":14},"generated":{"line":1,"column":1774}},{"source":"src/parsers/pes.js","original":{"line":81,"column":19},"generated":{"line":1,"column":1779}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":81,"column":9},"generated":{"line":1,"column":1783}},{"source":"src/parsers/pes.js","original":{"line":81,"column":14},"generated":{"line":1,"column":1785}},{"source":"src/parsers/pes.js","original":{"line":81,"column":27},"generated":{"line":1,"column":1789}},{"source":"src/parsers/pes.js","original":{"line":83,"column":19},"generated":{"line":1,"column":1792}},{"source":"src/parsers/pes.js","name":"pesPts","original":{"line":85,"column":8},"generated":{"line":1,"column":1805}},{"source":"src/parsers/pes.js","original":{"line":85,"column":18},"generated":{"line":1,"column":1808}},{"source":"src/parsers/pes.js","original":{"line":87,"column":21},"generated":{"line":1,"column":1820}},{"source":"src/parsers/pes.js","name":"pesFlags","original":{"line":87,"column":10},"generated":{"line":1,"column":1823}},{"source":"src/parsers/pes.js","name":"pesDts","original":{"line":88,"column":8},"generated":{"line":1,"column":1826}},{"source":"src/parsers/pes.js","original":{"line":89,"column":29},"generated":{"line":1,"column":1828}},{"source":"src/parsers/pes.js","original":{"line":89,"column":21},"generated":{"line":1,"column":1839}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":89,"column":11},"generated":{"line":1,"column":1842}},{"source":"src/parsers/pes.js","original":{"line":89,"column":16},"generated":{"line":1,"column":1844}},{"source":"src/parsers/pes.js","original":{"line":90,"column":29},"generated":{"line":1,"column":1848}},{"source":"src/parsers/pes.js","original":{"line":90,"column":21},"generated":{"line":1,"column":1857}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":90,"column":11},"generated":{"line":1,"column":1861}},{"source":"src/parsers/pes.js","original":{"line":90,"column":16},"generated":{"line":1,"column":1863}},{"source":"src/parsers/pes.js","original":{"line":91,"column":30},"generated":{"line":1,"column":1867}},{"source":"src/parsers/pes.js","original":{"line":91,"column":22},"generated":{"line":1,"column":1874}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":91,"column":11},"generated":{"line":1,"column":1878}},{"source":"src/parsers/pes.js","original":{"line":91,"column":16},"generated":{"line":1,"column":1880}},{"source":"src/parsers/pes.js","original":{"line":92,"column":30},"generated":{"line":1,"column":1885}},{"source":"src/parsers/pes.js","original":{"line":92,"column":22},"generated":{"line":1,"column":1890}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":92,"column":11},"generated":{"line":1,"column":1894}},{"source":"src/parsers/pes.js","original":{"line":92,"column":16},"generated":{"line":1,"column":1896}},{"source":"src/parsers/pes.js","original":{"line":93,"column":22},"generated":{"line":1,"column":1902}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":93,"column":11},"generated":{"line":1,"column":1906}},{"source":"src/parsers/pes.js","original":{"line":93,"column":16},"generated":{"line":1,"column":1908}},{"source":"src/parsers/pes.js","original":{"line":93,"column":30},"generated":{"line":1,"column":1913}},{"source":"src/parsers/pes.js","original":{"line":95,"column":21},"generated":{"line":1,"column":1916}},{"source":"src/parsers/pes.js","name":"pesDts","original":{"line":97,"column":10},"generated":{"line":1,"column":1929}},{"source":"src/parsers/pes.js","original":{"line":97,"column":20},"generated":{"line":1,"column":1932}},{"source":"src/parsers/pes.js","name":"pesDts","original":{"line":100,"column":8},"generated":{"line":1,"column":1944}},{"source":"src/parsers/pes.js","name":"pesPts","original":{"line":100,"column":17},"generated":{"line":1,"column":1946}},{"source":"src/parsers/pes.js","original":{"line":107,"column":13},"generated":{"line":1,"column":1948}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":107,"column":15},"generated":{"line":1,"column":1949}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":103,"column":18},"generated":{"line":1,"column":1956}},{"source":"src/parsers/pes.js","original":{"line":103,"column":23},"generated":{"line":1,"column":1958}},{"source":"src/parsers/pes.js","original":{"line":104,"column":39},"generated":{"line":1,"column":1961}},{"source":"src/parsers/pes.js","name":"pts","original":{"line":107,"column":43},"generated":{"line":1,"column":1963}},{"source":"src/parsers/pes.js","name":"pesPts","original":{"line":107,"column":48},"generated":{"line":1,"column":1967}},{"source":"src/parsers/pes.js","name":"dts","original":{"line":107,"column":56},"generated":{"line":1,"column":1969}},{"source":"src/parsers/pes.js","name":"pesDts","original":{"line":107,"column":61},"generated":{"line":1,"column":1973}},{"source":"src/parsers/pes.js","original":{"line":109,"column":13},"generated":{"line":1,"column":1977}},{"source":"src/parsers/pes.js","original":{"line":111,"column":3},"generated":{"line":1,"column":1984}},{"source":"src/parsers/pes.js","name":"key","original":{"line":111,"column":3},"generated":{"line":1,"column":1985}},{"source":"src/parsers/pes.js","original":{"line":111,"column":3},"generated":{"line":1,"column":1989}},{"source":"src/parsers/pes.js","name":"value","original":{"line":111,"column":3},"generated":{"line":1,"column":1996}},{"source":"src/parsers/pes.js","original":{"line":113,"column":2},"generated":{"line":1,"column":2002}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":113,"column":7},"generated":{"line":1,"column":2011}},{"source":"src/parsers/pes.js","name":"shouldParse","original":{"line":113,"column":13},"generated":{"line":1,"column":2013}},{"source":"src/parsers/pes.js","original":{"line":114,"column":4},"generated":{"line":1,"column":2016}},{"source":"src/parsers/pes.js","name":"res","original":{"line":114,"column":8},"generated":{"line":1,"column":2020}},{"source":"src/parsers/pes.js","original":{"line":114,"column":14},"generated":{"line":1,"column":2022}},{"source":"src/parsers/pes.js","original":{"line":115,"column":4},"generated":{"line":1,"column":2027}},{"source":"src/parsers/pes.js","name":"shouldParse","original":{"line":115,"column":8},"generated":{"line":1,"column":2030}},{"source":"src/parsers/pes.js","original":{"line":115,"column":23},"generated":{"line":1,"column":2033}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":115,"column":28},"generated":{"line":1,"column":2038}},{"source":"src/parsers/pes.js","name":"length","original":{"line":115,"column":38},"generated":{"line":1,"column":2048}},{"source":"src/parsers/pes.js","original":{"line":115,"column":46},"generated":{"line":1,"column":2055}},{"source":"src/parsers/pes.js","original":{"line":116,"column":6},"generated":{"line":1,"column":2056}},{"source":"src/parsers/pes.js","original":{"line":116,"column":11},"generated":{"line":1,"column":2060}},{"source":"src/parsers/pes.js","name":"parseHeader","original":{"line":116,"column":16},"generated":{"line":1,"column":2065}},{"source":"src/parsers/pes.js","original":{"line":117,"column":8},"generated":{"line":1,"column":2079}},{"source":"src/parsers/pes.js","original":{"line":117,"column":14},"generated":{"line":1,"column":2085}},{"source":"src/parsers/pes.js","name":"Error","original":{"line":117,"column":18},"generated":{"line":1,"column":2089}},{"source":"src/parsers/pes.js","original":{"line":117,"column":24},"generated":{"line":1,"column":2095}},{"source":"src/parsers/pes.js","original":{"line":120,"column":6},"generated":{"line":1,"column":2117}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":120,"column":10},"generated":{"line":1,"column":2121}},{"source":"src/parsers/pes.js","original":{"line":120,"column":19},"generated":{"line":1,"column":2123}},{"source":"src/parsers/pes.js","name":"parsed","original":{"line":121,"column":10},"generated":{"line":1,"column":2125}},{"source":"src/parsers/pes.js","original":{"line":121,"column":19},"generated":{"line":1,"column":2127}},{"source":"src/parsers/pes.js","original":{"line":122,"column":10},"generated":{"line":1,"column":2130}},{"source":"src/parsers/pes.js","name":"extPresent","original":{"line":122,"column":15},"generated":{"line":1,"column":2135}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":125,"column":8},"generated":{"line":1,"column":2148}},{"source":"src/parsers/pes.js","name":"parsed","original":{"line":124,"column":8},"generated":{"line":1,"column":2151}},{"source":"src/parsers/pes.js","original":{"line":124,"column":17},"generated":{"line":1,"column":2153}},{"source":"src/parsers/pes.js","name":"parseExtension","original":{"line":124,"column":22},"generated":{"line":1,"column":2158}},{"source":"src/parsers/pes.js","original":{"line":124,"column":37},"generated":{"line":1,"column":2173}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":124,"column":42},"generated":{"line":1,"column":2178}},{"source":"src/parsers/pes.js","original":{"line":124,"column":52},"generated":{"line":1,"column":2188}},{"source":"src/parsers/pes.js","name":"subarray","original":{"line":124,"column":55},"generated":{"line":1,"column":2191}},{"source":"src/parsers/pes.js","original":{"line":124,"column":64},"generated":{"line":1,"column":2200}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":125,"column":24},"generated":{"line":1,"column":2205}},{"source":"src/parsers/pes.js","original":{"line":128,"column":11},"generated":{"line":1,"column":2213}},{"source":"src/parsers/pes.js","name":"pesPkt","original":{"line":128,"column":16},"generated":{"line":1,"column":2218}},{"source":"src/parsers/pes.js","original":{"line":129,"column":8},"generated":{"line":1,"column":2227}},{"source":"src/parsers/pes.js","name":"pesPkt","original":{"line":129,"column":13},"generated":{"line":1,"column":2232}},{"source":"src/parsers/pes.js","original":{"line":129,"column":22},"generated":{"line":1,"column":2239}},{"source":"src/parsers/pes.js","name":"Uint8Array","original":{"line":129,"column":26},"generated":{"line":1,"column":2243}},{"source":"src/parsers/pes.js","original":{"line":129,"column":37},"generated":{"line":1,"column":2254}},{"source":"src/parsers/pes.js","name":"pesLength","original":{"line":129,"column":42},"generated":{"line":1,"column":2259}},{"source":"src/parsers/pes.js","original":{"line":133,"column":6},"generated":{"line":1,"column":2271}},{"source":"src/parsers/pes.js","original":{"line":132,"column":6},"generated":{"line":1,"column":2275}},{"source":"src/parsers/pes.js","name":"poffset","original":{"line":132,"column":10},"generated":{"line":1,"column":2279}},{"source":"src/parsers/pes.js","original":{"line":132,"column":20},"generated":{"line":1,"column":2281}},{"source":"src/parsers/pes.js","original":{"line":133,"column":13},"generated":{"line":1,"column":2283}},{"source":"src/parsers/pes.js","name":"pesLength","original":{"line":133,"column":18},"generated":{"line":1,"column":2288}},{"source":"src/parsers/pes.js","original":{"line":133,"column":31},"generated":{"line":1,"column":2299}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":133,"column":36},"generated":{"line":1,"column":2304}},{"source":"src/parsers/pes.js","name":"length","original":{"line":133,"column":46},"generated":{"line":1,"column":2314}},{"source":"src/parsers/pes.js","original":{"line":133,"column":54},"generated":{"line":1,"column":2322}},{"source":"src/parsers/pes.js","original":{"line":134,"column":8},"generated":{"line":1,"column":2323}},{"source":"src/parsers/pes.js","name":"data","original":{"line":134,"column":12},"generated":{"line":1,"column":2327}},{"source":"src/parsers/pes.js","original":{"line":134,"column":19},"generated":{"line":1,"column":2329}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":134,"column":24},"generated":{"line":1,"column":2334}},{"source":"src/parsers/pes.js","name":"shift","original":{"line":134,"column":34},"generated":{"line":1,"column":2344}},{"source":"src/parsers/pes.js","original":{"line":135,"column":8},"generated":{"line":1,"column":2352}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":135,"column":12},"generated":{"line":1,"column":2355}},{"source":"src/parsers/pes.js","original":{"line":135,"column":20},"generated":{"line":1,"column":2357}},{"source":"src/parsers/pes.js","original":{"line":136,"column":10},"generated":{"line":1,"column":2358}},{"source":"src/parsers/pes.js","name":"data","original":{"line":136,"column":14},"generated":{"line":1,"column":2361}},{"source":"src/parsers/pes.js","name":"byteLength","original":{"line":136,"column":19},"generated":{"line":1,"column":2363}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":136,"column":32},"generated":{"line":1,"column":2374}},{"source":"src/parsers/pes.js","original":{"line":136,"column":40},"generated":{"line":1,"column":2376}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":137,"column":12},"generated":{"line":1,"column":2377}},{"source":"src/parsers/pes.js","name":"data","original":{"line":137,"column":22},"generated":{"line":1,"column":2380}},{"source":"src/parsers/pes.js","name":"byteLength","original":{"line":137,"column":27},"generated":{"line":1,"column":2382}},{"source":"src/parsers/pes.js","original":{"line":138,"column":12},"generated":{"line":1,"column":2393}},{"source":"src/parsers/pes.js","name":"data","original":{"line":140,"column":12},"generated":{"line":1,"column":2402}},{"source":"src/parsers/pes.js","name":"data","original":{"line":140,"column":19},"generated":{"line":1,"column":2404}},{"source":"src/parsers/pes.js","name":"subarray","original":{"line":140,"column":24},"generated":{"line":1,"column":2406}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":140,"column":33},"generated":{"line":1,"column":2415}},{"source":"src/parsers/pes.js","original":{"line":141,"column":12},"generated":{"line":1,"column":2418}},{"source":"src/parsers/pes.js","name":"pesLength","original":{"line":141,"column":17},"generated":{"line":1,"column":2423}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":141,"column":30},"generated":{"line":1,"column":2434}},{"source":"src/parsers/pes.js","original":{"line":141,"column":40},"generated":{"line":1,"column":2437}},{"source":"src/parsers/pes.js","name":"hasLength","original":{"line":141,"column":45},"generated":{"line":1,"column":2442}},{"source":"src/parsers/pes.js","original":{"line":141,"column":57},"generated":{"line":1,"column":2452}},{"source":"src/parsers/pes.js","original":{"line":141,"column":61},"generated":{"line":1,"column":2454}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":142,"column":12},"generated":{"line":1,"column":2457}},{"source":"src/parsers/pes.js","original":{"line":142,"column":21},"generated":{"line":1,"column":2459}},{"source":"src/parsers/pes.js","original":{"line":145,"column":8},"generated":{"line":1,"column":2461}},{"source":"src/parsers/pes.js","name":"pesPkt","original":{"line":145,"column":13},"generated":{"line":1,"column":2466}},{"source":"src/parsers/pes.js","name":"set","original":{"line":145,"column":20},"generated":{"line":1,"column":2473}},{"source":"src/parsers/pes.js","name":"data","original":{"line":145,"column":24},"generated":{"line":1,"column":2477}},{"source":"src/parsers/pes.js","name":"poffset","original":{"line":145,"column":30},"generated":{"line":1,"column":2479}},{"source":"src/parsers/pes.js","name":"poffset","original":{"line":146,"column":8},"generated":{"line":1,"column":2482}},{"source":"src/parsers/pes.js","name":"data","original":{"line":146,"column":19},"generated":{"line":1,"column":2485}},{"source":"src/parsers/pes.js","name":"byteLength","original":{"line":146,"column":24},"generated":{"line":1,"column":2487}},{"source":"src/parsers/pes.js","original":{"line":147,"column":8},"generated":{"line":1,"column":2498}},{"source":"src/parsers/pes.js","name":"pesLength","original":{"line":147,"column":13},"generated":{"line":1,"column":2503}},{"source":"src/parsers/pes.js","name":"data","original":{"line":147,"column":26},"generated":{"line":1,"column":2514}},{"source":"src/parsers/pes.js","name":"byteLength","original":{"line":147,"column":31},"generated":{"line":1,"column":2516}},{"source":"src/parsers/pes.js","name":"res","original":{"line":149,"column":6},"generated":{"line":1,"column":2527}},{"source":"src/parsers/pes.js","original":{"line":149,"column":12},"generated":{"line":1,"column":2529}},{"source":"src/parsers/pes.js","name":"data","original":{"line":150,"column":8},"generated":{"line":1,"column":2530}},{"source":"src/parsers/pes.js","original":{"line":150,"column":14},"generated":{"line":1,"column":2535}},{"source":"src/parsers/pes.js","name":"pesPkt","original":{"line":150,"column":19},"generated":{"line":1,"column":2540}},{"source":"src/parsers/pes.js","name":"subarray","original":{"line":150,"column":26},"generated":{"line":1,"column":2547}},{"source":"src/parsers/pes.js","original":{"line":150,"column":35},"generated":{"line":1,"column":2556}},{"source":"src/parsers/pes.js","name":"poffset","original":{"line":150,"column":38},"generated":{"line":1,"column":2558}},{"source":"src/parsers/pes.js","name":"pts","original":{"line":151,"column":8},"generated":{"line":1,"column":2561}},{"source":"src/parsers/pes.js","name":"parsed","original":{"line":151,"column":13},"generated":{"line":1,"column":2565}},{"source":"src/parsers/pes.js","name":"pts","original":{"line":151,"column":20},"generated":{"line":1,"column":2567}},{"source":"src/parsers/pes.js","name":"dts","original":{"line":152,"column":8},"generated":{"line":1,"column":2571}},{"source":"src/parsers/pes.js","name":"parsed","original":{"line":152,"column":13},"generated":{"line":1,"column":2575}},{"source":"src/parsers/pes.js","name":"dts","original":{"line":152,"column":20},"generated":{"line":1,"column":2577}},{"source":"src/parsers/pes.js","original":{"line":158,"column":6},"generated":{"line":1,"column":2587}},{"source":"src/parsers/pes.js","name":"pesPkt","original":{"line":158,"column":11},"generated":{"line":1,"column":2592}},{"source":"src/parsers/pes.js","original":{"line":158,"column":20},"generated":{"line":1,"column":2599}},{"source":"src/parsers/pes.js","original":{"line":178,"column":4},"generated":{"line":1,"column":2604}},{"source":"src/parsers/pes.js","original":{"line":163,"column":4},"generated":{"line":1,"column":2611}},{"source":"src/parsers/pes.js","name":"pesLength","original":{"line":163,"column":9},"generated":{"line":1,"column":2616}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":163,"column":22},"generated":{"line":1,"column":2627}},{"source":"src/parsers/pes.js","name":"byteLength","original":{"line":163,"column":27},"generated":{"line":1,"column":2629}},{"source":"src/parsers/pes.js","original":{"line":166,"column":6},"generated":{"line":1,"column":2640}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":166,"column":11},"generated":{"line":1,"column":2645}},{"source":"src/parsers/pes.js","name":"length","original":{"line":166,"column":21},"generated":{"line":1,"column":2655}},{"source":"src/parsers/pes.js","original":{"line":167,"column":6},"generated":{"line":1,"column":2663}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":167,"column":11},"generated":{"line":1,"column":2668}},{"source":"src/parsers/pes.js","original":{"line":167,"column":21},"generated":{"line":1,"column":2678}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":167,"column":26},"generated":{"line":1,"column":2683}},{"source":"src/parsers/pes.js","name":"length","original":{"line":167,"column":36},"generated":{"line":1,"column":2693}},{"source":"src/parsers/pes.js","original":{"line":167,"column":45},"generated":{"line":1,"column":2700}},{"source":"src/parsers/pes.js","name":"byteLength","original":{"line":167,"column":48},"generated":{"line":1,"column":2703}},{"source":"src/parsers/pes.js","original":{"line":167,"column":61},"generated":{"line":1,"column":2714}},{"source":"src/parsers/pes.js","original":{"line":170,"column":6},"generated":{"line":1,"column":2716}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":170,"column":11},"generated":{"line":1,"column":2721}},{"source":"src/parsers/pes.js","original":{"line":170,"column":21},"generated":{"line":1,"column":2731}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":170,"column":26},"generated":{"line":1,"column":2736}},{"source":"src/parsers/pes.js","name":"length","original":{"line":170,"column":36},"generated":{"line":1,"column":2746}},{"source":"src/parsers/pes.js","original":{"line":170,"column":45},"generated":{"line":1,"column":2753}},{"source":"src/parsers/pes.js","original":{"line":170,"column":50},"generated":{"line":1,"column":2757}},{"source":"src/parsers/pes.js","name":"appendByteArray","original":{"line":170,"column":50},"generated":{"line":1,"column":2759}},{"source":"src/parsers/pes.js","original":{"line":170,"column":65},"generated":{"line":1,"column":2761}},{"source":"src/parsers/pes.js","original":{"line":171,"column":8},"generated":{"line":1,"column":2778}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":171,"column":13},"generated":{"line":1,"column":2783}},{"source":"src/parsers/pes.js","original":{"line":171,"column":23},"generated":{"line":1,"column":2793}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":171,"column":28},"generated":{"line":1,"column":2798}},{"source":"src/parsers/pes.js","name":"length","original":{"line":171,"column":38},"generated":{"line":1,"column":2808}},{"source":"src/parsers/pes.js","original":{"line":171,"column":47},"generated":{"line":1,"column":2815}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":172,"column":8},"generated":{"line":1,"column":2818}},{"source":"src/parsers/pes.js","original":{"line":175,"column":6},"generated":{"line":1,"column":2821}},{"source":"src/parsers/pes.js","name":"fragments","original":{"line":175,"column":11},"generated":{"line":1,"column":2826}},{"source":"src/parsers/pes.js","name":"push","original":{"line":175,"column":21},"generated":{"line":1,"column":2836}},{"source":"src/parsers/pes.js","name":"frag","original":{"line":175,"column":26},"generated":{"line":1,"column":2841}},{"source":"src/parsers/pes.js","name":"res","original":{"line":178,"column":11},"generated":{"line":1,"column":2844}},{"source":"src/parsers/pes.js","original":{"line":179,"column":3},"generated":{"line":1,"column":2849}},{"source":"src/parsers/pes.js","original":{"line":179,"column":3},"generated":{"line":1,"column":2850}},{"source":"src/parsers/pes.js","name":"key","original":{"line":179,"column":3},"generated":{"line":1,"column":2851}},{"source":"src/parsers/pes.js","original":{"line":179,"column":3},"generated":{"line":1,"column":2855}},{"source":"src/parsers/pes.js","name":"value","original":{"line":179,"column":3},"generated":{"line":1,"column":2870}},{"source":"src/parsers/pes.js","original":{"line":47,"column":2},"generated":{"line":1,"column":2876}},{"source":"src/parsers/pes.js","name":"value","original":{"line":47,"column":22},"generated":{"line":1,"column":2885}},{"source":"src/parsers/pes.js","name":"reference","original":{"line":47,"column":29},"generated":{"line":1,"column":2887}},{"source":"src/parsers/pes.js","original":{"line":48,"column":4},"generated":{"line":1,"column":2890}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":48,"column":8},"generated":{"line":1,"column":2894}},{"source":"src/parsers/pes.js","original":{"line":49,"column":4},"generated":{"line":1,"column":2896}},{"source":"src/parsers/pes.js","name":"undefined","original":{"line":49,"column":22},"generated":{"line":1,"column":2904}},{"source":"src/parsers/pes.js","name":"reference","original":{"line":49,"column":8},"generated":{"line":1,"column":2908}},{"source":"src/parsers/pes.js","original":{"line":50,"column":6},"generated":{"line":1,"column":2910}},{"source":"src/parsers/pes.js","name":"value","original":{"line":50,"column":13},"generated":{"line":1,"column":2917}},{"source":"src/parsers/pes.js","original":{"line":62,"column":4},"generated":{"line":1,"column":2919}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":54,"column":6},"generated":{"line":1,"column":2923}},{"source":"src/parsers/pes.js","name":"reference","original":{"line":52,"column":8},"generated":{"line":1,"column":2925}},{"source":"src/parsers/pes.js","name":"value","original":{"line":52,"column":20},"generated":{"line":1,"column":2927}},{"source":"src/parsers/pes.js","original":{"line":54,"column":16},"generated":{"line":1,"column":2930}},{"source":"src/parsers/pes.js","original":{"line":57,"column":15},"generated":{"line":1,"column":2941}},{"source":"src/parsers/pes.js","name":"Math","original":{"line":62,"column":11},"generated":{"line":1,"column":2952}},{"source":"src/parsers/pes.js","name":"abs","original":{"line":62,"column":16},"generated":{"line":1,"column":2957}},{"source":"src/parsers/pes.js","name":"value","original":{"line":62,"column":20},"generated":{"line":1,"column":2961}},{"source":"src/parsers/pes.js","name":"reference","original":{"line":62,"column":28},"generated":{"line":1,"column":2963}},{"source":"src/parsers/pes.js","original":{"line":62,"column":41},"generated":{"line":1,"column":2966}},{"source":"src/parsers/pes.js","name":"value","original":{"line":63,"column":6},"generated":{"line":1,"column":2978}},{"source":"src/parsers/pes.js","name":"offset","original":{"line":63,"column":15},"generated":{"line":1,"column":2981}},{"source":"src/parsers/pes.js","original":{"line":65,"column":4},"generated":{"line":1,"column":2983}},{"source":"src/parsers/pes.js","name":"value","original":{"line":65,"column":11},"generated":{"line":1,"column":2990}},{"source":"src/parsers/pes.js","name":"PESAsm","original":{"line":66,"column":3},"generated":{"line":1,"column":2996}},{"source":"src/parsers/pes.js","original":{"line":5,"column":19},"generated":{"line":1,"column":2998}}],"sources":{"src/parsers/pes.js":"import { appendByteArray } from \"../utils/binary.js\";\nimport { getTagged } from \"../utils/logger.js\";\nconst LOG_TAG = \"parses:pes\";\nconst Log = getTagged(LOG_TAG);\nexport class PESAsm {\n  constructor(pid) {\n    this.pid = pid;\n    this.fragments = [];\n    this.pesLength = 0;\n    this.pesPkt = null;\n  }\n\n  parse(frag) {\n    if (this.extPresent) {\n      let ext = this.parseExtension(frag);\n      ext.data = frag.subarray(ext.offset);\n    } else {\n      return null;\n    }\n  }\n\n  /// Parse PES header\n  parseHeader() {\n    let hdr = this.fragments[0];\n    /// packet_start_code_prefix(24)\n    let pesPrefix = (hdr[0] << 16) + (hdr[1] << 8) + hdr[2];\n    /// stream_id (8)\n    this.extPresent = ![0xbe, 0xbf].includes(hdr[3]);\n    if (pesPrefix === 1) {\n      /// PES_packet_length(16)\n      let pesLength = (hdr[4] << 8) + hdr[5];\n      /** Log.debug(\n        `pid:${this.pid},pes length:${pesLength},this.pesLength:${this.pesLength}`\n      ); */\n      if (pesLength) {\n        this.pesLength = pesLength;\n        this.hasLength = true;\n      } else {\n        this.hasLength = false;\n        this.pesPkt = null;\n      }\n      return true;\n    }\n    return false;\n  }\n\n  static PTSNormalize(value, reference) {\n    let offset;\n    if (reference === undefined) {\n      return value;\n    }\n    if (reference < value) {\n      // - 2^33\n      offset = -8589934592;\n    } else {\n      // + 2^33\n      offset = 8589934592;\n    }\n    /* PTS is 33bit (from 0 to 2^33 -1)\n         if diff between value and reference is bigger than half of the amplitude (2^32) then it means that\n         PTS looping occured. fill the gap */\n    while (Math.abs(value - reference) > 4294967296) {\n      value += offset;\n    }\n    return value;\n  }\n\n  parseExtension(frag) {\n    let pesFlags, pesHdrLen, pesPts, pesDts, payloadStartOffset;\n\n    pesFlags = frag[1];\n    if (pesFlags & 0xc0) {\n      /* PES header described here : http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n                 as PTS / DTS is 33 bit we cannot use bitwise operator in JS,\n                 as Bitwise operators treat their operands as a sequence of 32 bits */\n      pesPts =\n        (frag[3] & 0x0e) * 536870912 + // 1 << 29\n        (frag[4] & 0xff) * 4194304 + // 1 << 22\n        (frag[5] & 0xfe) * 16384 + // 1 << 14\n        (frag[6] & 0xff) * 128 + // 1 << 7\n        (frag[7] & 0xfe) / 2;\n      // check if greater than 2^32 -1\n      if (pesPts > 4294967295) {\n        // decrement 2^33\n        pesPts -= 8589934592;\n      }\n      if (pesFlags & 0x40) {\n        pesDts =\n          (frag[8] & 0x0e) * 536870912 + // 1 << 29\n          (frag[9] & 0xff) * 4194304 + // 1 << 22\n          (frag[10] & 0xfe) * 16384 + // 1 << 14\n          (frag[11] & 0xff) * 128 + // 1 << 7\n          (frag[12] & 0xfe) / 2;\n        // check if greater than 2^32 -1\n        if (pesDts > 4294967295) {\n          // decrement 2^33\n          pesDts -= 8589934592;\n        }\n      } else {\n        pesDts = pesPts;\n      }\n\n      pesHdrLen = frag[2];\n      payloadStartOffset = pesHdrLen + 9;\n\n      // TODO: normalize pts/dts\n      return { offset: payloadStartOffset, pts: pesPts, dts: pesDts };\n    } else {\n      return null;\n    }\n  }\n\n  feed(frag, shouldParse) {\n    let res = null;\n    if (shouldParse && this.fragments.length) {\n      if (!this.parseHeader()) {\n        throw new Error(\"Invalid PES packet\");\n      }\n\n      let offset = 6;\n      let parsed = {};\n      if (this.extPresent) {\n        // TODO: make sure fragment have necessary length\n        parsed = this.parseExtension(this.fragments[0].subarray(6));\n        offset = parsed.offset;\n      }\n\n      if (!this.pesPkt) {\n        this.pesPkt = new Uint8Array(this.pesLength);\n      }\n\n      let poffset = 0;\n      while (this.pesLength && this.fragments.length) {\n        let data = this.fragments.shift();\n        if (offset) {\n          if (data.byteLength < offset) {\n            offset -= data.byteLength;\n            continue;\n          } else {\n            data = data.subarray(offset);\n            this.pesLength -= offset - (this.hasLength ? 6 : 0);\n            offset = 0;\n          }\n        }\n        this.pesPkt.set(data, poffset);\n        poffset += data.byteLength;\n        this.pesLength -= data.byteLength;\n      }\n      res = {\n        data: this.pesPkt.subarray(0, poffset),\n        pts: parsed.pts,\n        dts: parsed.dts\n      };\n      /** Log.debug(\n        `pid:${this.pid},This PES length:${this.pesLength}, length:${poffset}`\n      ); */\n    } else {\n      this.pesPkt = null;\n    }\n    /** Log.debug(\n      `feed pid:${this.pid},frag size:${frag.byteLength},shouldParse:${shouldParse}`\n    ); */\n    this.pesLength += frag.byteLength;\n\n    if (\n      this.fragments.length &&\n      this.fragments[this.fragments.length - 1].byteLength < 6\n    ) {\n      /** Merge small buffer to a whole buffer */\n      this.fragments[this.fragments.length - 1] = appendByteArray(\n        this.fragments[this.fragments.length - 1],\n        frag\n      );\n    } else {\n      this.fragments.push(frag);\n    }\n\n    return res;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"a5f7e533b255b173515d1c1aed06bc03","cacheData":{"env":{}}}