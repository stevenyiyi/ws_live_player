{"id":"WfxK","dependencies":[{"name":"/Users/chengyi/ws_live_player/package.json","includedInParent":true,"mtime":1669102311952},{"name":"./rtsp/RTSPStream","loc":{"line":1,"column":23,"index":23},"parent":"/Users/chengyi/ws_live_player/src/ASPlayer.js","resolved":"/Users/chengyi/ws_live_player/src/rtsp/RTSPStream.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ASPlayer=void 0;var e=t(require(\"./rtsp/RTSPStream\"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function s(e){var t=u(e,\"string\");return\"symbol\"===r(t)?t:String(t)}function u(e,t){if(\"object\"!==r(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||\"default\");if(\"object\"!==r(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}var a=exports.ASPlayer=function(){function t(r){i(this,t),this.errorHandler=null,this.infoHandler=null,this.dataHandler=null,this.queryCredentials=null,this.bufferDuration_=120,this.supposedCurrentTime=0,this.stream=new e.default(r),this._attachVideo(r.video),this.stream.eventSource.addEventListener(\"error\",this._onError.bind(this))}return o(t,[{key:\"_attachVideo\",value:function(e){var t=this;this._video=e,this._video.addEventListener(\"play\",function(){t.isPlaying()||t.stream.start()},!1),this._video.addEventListener(\"pause\",function(){t.stream.pause()},!1),this._video.addEventListener(\"seeking\",function(){if(t.stream.seekable)t._is_in_buffered(t._video.currentTime)||(console.log(\"seek to \".concat(t._video.currentTime)),t.stream.seek(t._video.currentTime));else{var e=t._video.currentTime-t.supposedCurrentTime;Math.abs(e)>=.01&&(console.log(\"Seeking is disabled\"),t._video.currentTime=t.supposedCurrentTime)}},!1),this._video.addEventListener(\"timeupdate\",function(){t._video.seeking||(t.supposedCurrentTime=t._video.currentTime)},!1),this._video.addEventListener(\"abort\",function(){t.stream.abort().then(function(){t.stream.destroy()})},!1),this._video.addEventListener(\"ended\",function(){t.supposedCurrentTime=0},!1)}},{key:\"isPlaying\",value:function(){return!(this._video.paused||this.stream.paused)}},{key:\"start\",value:function(){if(this.stream)return this.stream.load();Promise.reject(\"Not attach stream!\")}},{key:\"stop\",value:function(){this.stream.stop()}},{key:\"destroy\",value:function(){this.stream.destory()}},{key:\"_onError\",value:function(e){this.errorHandler&&this.errorHandler(e)}},{key:\"_is_in_buffered\",value:function(e){for(var t=this._video.buffered,r=!1,i=0;i<t.length;i++)if(e>=t.start(i)&&e<=t.end(i)){r=!0;break}return r}}]),t}();"},"sourceMaps":{"js":{"mappings":[{"source":"src/ASPlayer.js","original":{"line":132,"column":3},"generated":{"line":1,"column":0}},{"source":"src/ASPlayer.js","original":{"line":132,"column":3},"generated":{"line":1,"column":13}},{"source":"src/ASPlayer.js","original":{"line":132,"column":3},"generated":{"line":1,"column":20}},{"source":"src/ASPlayer.js","original":{"line":132,"column":3},"generated":{"line":1,"column":35}},{"source":"src/ASPlayer.js","original":{"line":132,"column":3},"generated":{"line":1,"column":43}},{"source":"src/ASPlayer.js","original":{"line":132,"column":3},"generated":{"line":1,"column":56}},{"source":"src/ASPlayer.js","original":{"line":132,"column":3},"generated":{"line":1,"column":57}},{"source":"src/ASPlayer.js","original":{"line":132,"column":3},"generated":{"line":1,"column":64}},{"source":"src/ASPlayer.js","original":{"line":132,"column":3},"generated":{"line":1,"column":68}},{"source":"src/ASPlayer.js","original":{"line":132,"column":3},"generated":{"line":1,"column":76}},{"source":"src/ASPlayer.js","original":{"line":132,"column":3},"generated":{"line":1,"column":90}},{"source":"src/ASPlayer.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"src/ASPlayer.js","name":"_RTSPStream","original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"src/ASPlayer.js","name":"_interopRequireDefault","original":{"line":1,"column":0},"generated":{"line":1,"column":98}},{"source":"src/ASPlayer.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"src/ASPlayer.js","original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"src/ASPlayer.js","original":{"line":1,"column":43},"generated":{"line":1,"column":130}},{"source":"src/ASPlayer.js","name":"_interopRequireDefault","original":{"line":1,"column":43},"generated":{"line":1,"column":139}},{"source":"src/ASPlayer.js","name":"obj","original":{"line":1,"column":43},"generated":{"line":1,"column":141}},{"source":"src/ASPlayer.js","name":"obj","original":{"line":1,"column":43},"generated":{"line":1,"column":144}},{"source":"src/ASPlayer.js","name":"obj","original":{"line":1,"column":43},"generated":{"line":1,"column":151}},{"source":"src/ASPlayer.js","name":"obj","original":{"line":1,"column":43},"generated":{"line":1,"column":154}},{"source":"src/ASPlayer.js","name":"__esModule","original":{"line":1,"column":43},"generated":{"line":1,"column":156}},{"source":"src/ASPlayer.js","name":"obj","original":{"line":1,"column":43},"generated":{"line":1,"column":167}},{"source":"src/ASPlayer.js","name":"default","original":{"line":1,"column":43},"generated":{"line":1,"column":169}},{"source":"src/ASPlayer.js","name":"default","original":{"line":1,"column":43},"generated":{"line":1,"column":170}},{"source":"src/ASPlayer.js","name":"obj","original":{"line":1,"column":43},"generated":{"line":1,"column":178}},{"source":"src/ASPlayer.js","original":{"line":1,"column":43},"generated":{"line":1,"column":181}},{"source":"src/ASPlayer.js","name":"_typeof","original":{"line":1,"column":43},"generated":{"line":1,"column":190}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":192}},{"source":"src/ASPlayer.js","name":"_typeof","original":{"line":1,"column":43},"generated":{"line":1,"column":195}},{"source":"src/ASPlayer.js","name":"_typeof","original":{"line":1,"column":43},"generated":{"line":1,"column":202}},{"source":"src/ASPlayer.js","name":"Symbol","original":{"line":1,"column":43},"generated":{"line":1,"column":204}},{"source":"src/ASPlayer.js","name":"Symbol","original":{"line":1,"column":43},"generated":{"line":1,"column":223}},{"source":"src/ASPlayer.js","name":"Symbol","original":{"line":1,"column":43},"generated":{"line":1,"column":231}},{"source":"src/ASPlayer.js","name":"Symbol","original":{"line":1,"column":43},"generated":{"line":1,"column":248}},{"source":"src/ASPlayer.js","name":"iterator","original":{"line":1,"column":43},"generated":{"line":1,"column":255}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":264}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":273}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":276}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":290}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":293}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":302}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":305}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":312}},{"source":"src/ASPlayer.js","name":"Symbol","original":{"line":1,"column":43},"generated":{"line":1,"column":315}},{"source":"src/ASPlayer.js","name":"Symbol","original":{"line":1,"column":43},"generated":{"line":1,"column":334}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":342}},{"source":"src/ASPlayer.js","name":"constructor","original":{"line":1,"column":43},"generated":{"line":1,"column":344}},{"source":"src/ASPlayer.js","name":"Symbol","original":{"line":1,"column":43},"generated":{"line":1,"column":358}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":366}},{"source":"src/ASPlayer.js","name":"Symbol","original":{"line":1,"column":43},"generated":{"line":1,"column":370}},{"source":"src/ASPlayer.js","name":"prototype","original":{"line":1,"column":43},"generated":{"line":1,"column":377}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":387}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":403}},{"source":"src/ASPlayer.js","name":"o","original":{"line":1,"column":43},"generated":{"line":1,"column":407}},{"source":"src/ASPlayer.js","original":{"line":1,"column":43},"generated":{"line":1,"column":410}},{"source":"src/ASPlayer.js","name":"_classCallCheck","original":{"line":1,"column":43},"generated":{"line":1,"column":419}},{"source":"src/ASPlayer.js","name":"instance","original":{"line":1,"column":43},"generated":{"line":1,"column":421}},{"source":"src/ASPlayer.js","name":"Constructor","original":{"line":1,"column":43},"generated":{"line":1,"column":423}},{"source":"src/ASPlayer.js","name":"instance","original":{"line":1,"column":43},"generated":{"line":1,"column":426}},{"source":"src/ASPlayer.js","name":"instance","original":{"line":1,"column":43},"generated":{"line":1,"column":431}},{"source":"src/ASPlayer.js","name":"Constructor","original":{"line":1,"column":43},"generated":{"line":1,"column":444}},{"source":"src/ASPlayer.js","name":"TypeError","original":{"line":1,"column":43},"generated":{"line":1,"column":447}},{"source":"src/ASPlayer.js","name":"TypeError","original":{"line":1,"column":43},"generated":{"line":1,"column":453}},{"source":"src/ASPlayer.js","name":"TypeError","original":{"line":1,"column":43},"generated":{"line":1,"column":457}},{"source":"src/ASPlayer.js","original":{"line":1,"column":43},"generated":{"line":1,"column":467}},{"source":"src/ASPlayer.js","original":{"line":1,"column":43},"generated":{"line":1,"column":504}},{"source":"src/ASPlayer.js","name":"_defineProperties","original":{"line":1,"column":43},"generated":{"line":1,"column":513}},{"source":"src/ASPlayer.js","name":"target","original":{"line":1,"column":43},"generated":{"line":1,"column":515}},{"source":"src/ASPlayer.js","name":"props","original":{"line":1,"column":43},"generated":{"line":1,"column":517}},{"source":"src/ASPlayer.js","name":"i","original":{"line":1,"column":43},"generated":{"line":1,"column":520}},{"source":"src/ASPlayer.js","name":"i","original":{"line":1,"column":43},"generated":{"line":1,"column":524}},{"source":"src/ASPlayer.js","name":"i","original":{"line":1,"column":43},"generated":{"line":1,"column":528}},{"source":"src/ASPlayer.js","name":"i","original":{"line":1,"column":43},"generated":{"line":1,"column":530}},{"source":"src/ASPlayer.js","name":"i","original":{"line":1,"column":43},"generated":{"line":1,"column":532}},{"source":"src/ASPlayer.js","name":"props","original":{"line":1,"column":43},"generated":{"line":1,"column":534}},{"source":"src/ASPlayer.js","name":"length","original":{"line":1,"column":43},"generated":{"line":1,"column":536}},{"source":"src/ASPlayer.js","name":"i","original":{"line":1,"column":43},"generated":{"line":1,"column":543}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":547}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":548}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":552}},{"source":"src/ASPlayer.js","name":"props","original":{"line":1,"column":43},"generated":{"line":1,"column":554}},{"source":"src/ASPlayer.js","name":"i","original":{"line":1,"column":43},"generated":{"line":1,"column":556}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":559}},{"source":"src/ASPlayer.js","name":"enumerable","original":{"line":1,"column":43},"generated":{"line":1,"column":561}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":572}},{"source":"src/ASPlayer.js","name":"enumerable","original":{"line":1,"column":43},"generated":{"line":1,"column":574}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":587}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":589}},{"source":"src/ASPlayer.js","name":"configurable","original":{"line":1,"column":43},"generated":{"line":1,"column":591}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":605}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":607}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":617}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":621}},{"source":"src/ASPlayer.js","name":"writable","original":{"line":1,"column":43},"generated":{"line":1,"column":623}},{"source":"src/ASPlayer.js","name":"Object","original":{"line":1,"column":43},"generated":{"line":1,"column":633}},{"source":"src/ASPlayer.js","name":"Object","original":{"line":1,"column":43},"generated":{"line":1,"column":636}},{"source":"src/ASPlayer.js","name":"defineProperty","original":{"line":1,"column":43},"generated":{"line":1,"column":643}},{"source":"src/ASPlayer.js","name":"target","original":{"line":1,"column":43},"generated":{"line":1,"column":658}},{"source":"src/ASPlayer.js","name":"_toPropertyKey","original":{"line":1,"column":43},"generated":{"line":1,"column":660}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":662}},{"source":"src/ASPlayer.js","name":"key","original":{"line":1,"column":43},"generated":{"line":1,"column":664}},{"source":"src/ASPlayer.js","name":"descriptor","original":{"line":1,"column":43},"generated":{"line":1,"column":669}},{"source":"src/ASPlayer.js","original":{"line":1,"column":43},"generated":{"line":1,"column":673}},{"source":"src/ASPlayer.js","name":"_createClass","original":{"line":1,"column":43},"generated":{"line":1,"column":682}},{"source":"src/ASPlayer.js","name":"Constructor","original":{"line":1,"column":43},"generated":{"line":1,"column":684}},{"source":"src/ASPlayer.js","name":"protoProps","original":{"line":1,"column":43},"generated":{"line":1,"column":686}},{"source":"src/ASPlayer.js","name":"staticProps","original":{"line":1,"column":43},"generated":{"line":1,"column":688}},{"source":"src/ASPlayer.js","name":"Constructor","original":{"line":1,"column":43},"generated":{"line":1,"column":691}},{"source":"src/ASPlayer.js","name":"protoProps","original":{"line":1,"column":43},"generated":{"line":1,"column":698}},{"source":"src/ASPlayer.js","name":"_defineProperties","original":{"line":1,"column":43},"generated":{"line":1,"column":701}},{"source":"src/ASPlayer.js","name":"Constructor","original":{"line":1,"column":43},"generated":{"line":1,"column":703}},{"source":"src/ASPlayer.js","name":"prototype","original":{"line":1,"column":43},"generated":{"line":1,"column":705}},{"source":"src/ASPlayer.js","name":"protoProps","original":{"line":1,"column":43},"generated":{"line":1,"column":715}},{"source":"src/ASPlayer.js","name":"staticProps","original":{"line":1,"column":43},"generated":{"line":1,"column":718}},{"source":"src/ASPlayer.js","name":"_defineProperties","original":{"line":1,"column":43},"generated":{"line":1,"column":721}},{"source":"src/ASPlayer.js","name":"Constructor","original":{"line":1,"column":43},"generated":{"line":1,"column":723}},{"source":"src/ASPlayer.js","name":"staticProps","original":{"line":1,"column":43},"generated":{"line":1,"column":725}},{"source":"src/ASPlayer.js","name":"Object","original":{"line":1,"column":43},"generated":{"line":1,"column":728}},{"source":"src/ASPlayer.js","name":"defineProperty","original":{"line":1,"column":43},"generated":{"line":1,"column":735}},{"source":"src/ASPlayer.js","name":"Constructor","original":{"line":1,"column":43},"generated":{"line":1,"column":750}},{"source":"src/ASPlayer.js","name":"writable","original":{"line":1,"column":43},"generated":{"line":1,"column":752}},{"source":"src/ASPlayer.js","name":"writable","original":{"line":1,"column":43},"generated":{"line":1,"column":764}},{"source":"src/ASPlayer.js","name":"writable","original":{"line":1,"column":43},"generated":{"line":1,"column":765}},{"source":"src/ASPlayer.js","name":"Constructor","original":{"line":1,"column":43},"generated":{"line":1,"column":775}},{"source":"src/ASPlayer.js","name":"Constructor","original":{"line":1,"column":43},"generated":{"line":1,"column":779}},{"source":"src/ASPlayer.js","original":{"line":1,"column":43},"generated":{"line":1,"column":781}},{"source":"src/ASPlayer.js","name":"_toPropertyKey","original":{"line":1,"column":43},"generated":{"line":1,"column":790}},{"source":"src/ASPlayer.js","name":"arg","original":{"line":1,"column":43},"generated":{"line":1,"column":792}},{"source":"src/ASPlayer.js","name":"key","original":{"line":1,"column":43},"generated":{"line":1,"column":795}},{"source":"src/ASPlayer.js","name":"key","original":{"line":1,"column":43},"generated":{"line":1,"column":799}},{"source":"src/ASPlayer.js","name":"_toPrimitive","original":{"line":1,"column":43},"generated":{"line":1,"column":801}},{"source":"src/ASPlayer.js","name":"arg","original":{"line":1,"column":43},"generated":{"line":1,"column":803}},{"source":"src/ASPlayer.js","name":"_typeof","original":{"line":1,"column":43},"generated":{"line":1,"column":805}},{"source":"src/ASPlayer.js","name":"_typeof","original":{"line":1,"column":43},"generated":{"line":1,"column":815}},{"source":"src/ASPlayer.js","name":"key","original":{"line":1,"column":43},"generated":{"line":1,"column":821}},{"source":"src/ASPlayer.js","name":"_typeof","original":{"line":1,"column":43},"generated":{"line":1,"column":832}},{"source":"src/ASPlayer.js","name":"key","original":{"line":1,"column":43},"generated":{"line":1,"column":834}},{"source":"src/ASPlayer.js","name":"key","original":{"line":1,"column":43},"generated":{"line":1,"column":837}},{"source":"src/ASPlayer.js","name":"String","original":{"line":1,"column":43},"generated":{"line":1,"column":839}},{"source":"src/ASPlayer.js","name":"key","original":{"line":1,"column":43},"generated":{"line":1,"column":846}},{"source":"src/ASPlayer.js","original":{"line":1,"column":43},"generated":{"line":1,"column":849}},{"source":"src/ASPlayer.js","name":"_toPrimitive","original":{"line":1,"column":43},"generated":{"line":1,"column":858}},{"source":"src/ASPlayer.js","name":"input","original":{"line":1,"column":43},"generated":{"line":1,"column":860}},{"source":"src/ASPlayer.js","name":"hint","original":{"line":1,"column":43},"generated":{"line":1,"column":862}},{"source":"src/ASPlayer.js","name":"_typeof","original":{"line":1,"column":43},"generated":{"line":1,"column":865}},{"source":"src/ASPlayer.js","name":"input","original":{"line":1,"column":43},"generated":{"line":1,"column":868}},{"source":"src/ASPlayer.js","name":"_typeof","original":{"line":1,"column":43},"generated":{"line":1,"column":879}},{"source":"src/ASPlayer.js","name":"input","original":{"line":1,"column":43},"generated":{"line":1,"column":881}},{"source":"src/ASPlayer.js","name":"input","original":{"line":1,"column":43},"generated":{"line":1,"column":885}},{"source":"src/ASPlayer.js","name":"input","original":{"line":1,"column":43},"generated":{"line":1,"column":892}},{"source":"src/ASPlayer.js","name":"input","original":{"line":1,"column":43},"generated":{"line":1,"column":894}},{"source":"src/ASPlayer.js","name":"input","original":{"line":1,"column":43},"generated":{"line":1,"column":901}},{"source":"src/ASPlayer.js","name":"prim","original":{"line":1,"column":43},"generated":{"line":1,"column":903}},{"source":"src/ASPlayer.js","name":"prim","original":{"line":1,"column":43},"generated":{"line":1,"column":907}},{"source":"src/ASPlayer.js","name":"input","original":{"line":1,"column":43},"generated":{"line":1,"column":909}},{"source":"src/ASPlayer.js","name":"Symbol","original":{"line":1,"column":43},"generated":{"line":1,"column":911}},{"source":"src/ASPlayer.js","name":"toPrimitive","original":{"line":1,"column":43},"generated":{"line":1,"column":918}},{"source":"src/ASPlayer.js","name":"prim","original":{"line":1,"column":43},"generated":{"line":1,"column":931}},{"source":"src/ASPlayer.js","name":"undefined","original":{"line":1,"column":43},"generated":{"line":1,"column":939}},{"source":"src/ASPlayer.js","name":"prim","original":{"line":1,"column":43},"generated":{"line":1,"column":943}},{"source":"src/ASPlayer.js","name":"res","original":{"line":1,"column":43},"generated":{"line":1,"column":945}},{"source":"src/ASPlayer.js","name":"res","original":{"line":1,"column":43},"generated":{"line":1,"column":946}},{"source":"src/ASPlayer.js","name":"res","original":{"line":1,"column":43},"generated":{"line":1,"column":950}},{"source":"src/ASPlayer.js","name":"prim","original":{"line":1,"column":43},"generated":{"line":1,"column":952}},{"source":"src/ASPlayer.js","name":"call","original":{"line":1,"column":43},"generated":{"line":1,"column":954}},{"source":"src/ASPlayer.js","name":"input","original":{"line":1,"column":43},"generated":{"line":1,"column":959}},{"source":"src/ASPlayer.js","name":"hint","original":{"line":1,"column":43},"generated":{"line":1,"column":961}},{"source":"src/ASPlayer.js","name":"_typeof","original":{"line":1,"column":43},"generated":{"line":1,"column":964}},{"source":"src/ASPlayer.js","name":"_typeof","original":{"line":1,"column":43},"generated":{"line":1,"column":975}},{"source":"src/ASPlayer.js","name":"res","original":{"line":1,"column":43},"generated":{"line":1,"column":978}},{"source":"src/ASPlayer.js","name":"_typeof","original":{"line":1,"column":43},"generated":{"line":1,"column":989}},{"source":"src/ASPlayer.js","name":"res","original":{"line":1,"column":43},"generated":{"line":1,"column":991}},{"source":"src/ASPlayer.js","name":"res","original":{"line":1,"column":43},"generated":{"line":1,"column":994}},{"source":"src/ASPlayer.js","name":"res","original":{"line":1,"column":43},"generated":{"line":1,"column":1001}},{"source":"src/ASPlayer.js","name":"TypeError","original":{"line":1,"column":43},"generated":{"line":1,"column":1003}},{"source":"src/ASPlayer.js","name":"TypeError","original":{"line":1,"column":43},"generated":{"line":1,"column":1009}},{"source":"src/ASPlayer.js","name":"TypeError","original":{"line":1,"column":43},"generated":{"line":1,"column":1013}},{"source":"src/ASPlayer.js","name":"hint","original":{"line":1,"column":43},"generated":{"line":1,"column":1023}},{"source":"src/ASPlayer.js","name":"hint","original":{"line":1,"column":43},"generated":{"line":1,"column":1071}},{"source":"src/ASPlayer.js","name":"String","original":{"line":1,"column":43},"generated":{"line":1,"column":1078}},{"source":"src/ASPlayer.js","name":"hint","original":{"line":1,"column":43},"generated":{"line":1,"column":1089}},{"source":"src/ASPlayer.js","name":"String","original":{"line":1,"column":43},"generated":{"line":1,"column":1091}},{"source":"src/ASPlayer.js","name":"Number","original":{"line":1,"column":43},"generated":{"line":1,"column":1098}},{"source":"src/ASPlayer.js","name":"input","original":{"line":1,"column":43},"generated":{"line":1,"column":1106}},{"source":"src/ASPlayer.js","original":{"line":1,"column":43},"generated":{"line":1,"column":1109}},{"source":"src/ASPlayer.js","name":"ASPlayer","original":{"line":3,"column":13},"generated":{"line":1,"column":1113}},{"source":"src/ASPlayer.js","name":"exports","original":{"line":3,"column":21},"generated":{"line":1,"column":1115}},{"source":"src/ASPlayer.js","name":"ASPlayer","original":{"line":3,"column":21},"generated":{"line":1,"column":1123}},{"source":"src/ASPlayer.js","original":{"line":3,"column":21},"generated":{"line":1,"column":1132}},{"source":"src/ASPlayer.js","original":{"line":4,"column":2},"generated":{"line":1,"column":1143}},{"source":"src/ASPlayer.js","name":"ASPlayer","original":{"line":4,"column":2},"generated":{"line":1,"column":1152}},{"source":"src/ASPlayer.js","name":"options","original":{"line":4,"column":14},"generated":{"line":1,"column":1154}},{"source":"src/ASPlayer.js","name":"_classCallCheck","original":{"line":4,"column":23},"generated":{"line":1,"column":1157}},{"source":"src/ASPlayer.js","name":"ASPlayer","original":{"line":4,"column":23},"generated":{"line":1,"column":1159}},{"source":"src/ASPlayer.js","name":"ASPlayer","original":{"line":4,"column":23},"generated":{"line":1,"column":1164}},{"source":"src/ASPlayer.js","original":{"line":6,"column":4},"generated":{"line":1,"column":1167}},{"source":"src/ASPlayer.js","name":"errorHandler","original":{"line":6,"column":9},"generated":{"line":1,"column":1172}},{"source":"src/ASPlayer.js","original":{"line":6,"column":24},"generated":{"line":1,"column":1185}},{"source":"src/ASPlayer.js","original":{"line":7,"column":4},"generated":{"line":1,"column":1190}},{"source":"src/ASPlayer.js","name":"infoHandler","original":{"line":7,"column":9},"generated":{"line":1,"column":1195}},{"source":"src/ASPlayer.js","original":{"line":7,"column":23},"generated":{"line":1,"column":1207}},{"source":"src/ASPlayer.js","original":{"line":8,"column":4},"generated":{"line":1,"column":1212}},{"source":"src/ASPlayer.js","name":"dataHandler","original":{"line":8,"column":9},"generated":{"line":1,"column":1217}},{"source":"src/ASPlayer.js","original":{"line":8,"column":23},"generated":{"line":1,"column":1229}},{"source":"src/ASPlayer.js","original":{"line":9,"column":4},"generated":{"line":1,"column":1234}},{"source":"src/ASPlayer.js","name":"queryCredentials","original":{"line":9,"column":9},"generated":{"line":1,"column":1239}},{"source":"src/ASPlayer.js","original":{"line":9,"column":28},"generated":{"line":1,"column":1256}},{"source":"src/ASPlayer.js","original":{"line":10,"column":4},"generated":{"line":1,"column":1261}},{"source":"src/ASPlayer.js","name":"bufferDuration_","original":{"line":10,"column":9},"generated":{"line":1,"column":1266}},{"source":"src/ASPlayer.js","original":{"line":10,"column":27},"generated":{"line":1,"column":1282}},{"source":"src/ASPlayer.js","original":{"line":11,"column":4},"generated":{"line":1,"column":1286}},{"source":"src/ASPlayer.js","name":"supposedCurrentTime","original":{"line":11,"column":9},"generated":{"line":1,"column":1291}},{"source":"src/ASPlayer.js","original":{"line":11,"column":31},"generated":{"line":1,"column":1311}},{"source":"src/ASPlayer.js","original":{"line":12,"column":4},"generated":{"line":1,"column":1313}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":12,"column":9},"generated":{"line":1,"column":1318}},{"source":"src/ASPlayer.js","original":{"line":12,"column":18},"generated":{"line":1,"column":1325}},{"source":"src/ASPlayer.js","name":"RTSPStream","original":{"line":12,"column":22},"generated":{"line":1,"column":1329}},{"source":"src/ASPlayer.js","original":{"line":12,"column":32},"generated":{"line":1,"column":1331}},{"source":"src/ASPlayer.js","name":"options","original":{"line":12,"column":33},"generated":{"line":1,"column":1339}},{"source":"src/ASPlayer.js","original":{"line":13,"column":4},"generated":{"line":1,"column":1342}},{"source":"src/ASPlayer.js","name":"_attachVideo","original":{"line":13,"column":9},"generated":{"line":1,"column":1347}},{"source":"src/ASPlayer.js","name":"options","original":{"line":13,"column":22},"generated":{"line":1,"column":1360}},{"source":"src/ASPlayer.js","name":"video","original":{"line":13,"column":30},"generated":{"line":1,"column":1362}},{"source":"src/ASPlayer.js","original":{"line":14,"column":4},"generated":{"line":1,"column":1369}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":14,"column":9},"generated":{"line":1,"column":1374}},{"source":"src/ASPlayer.js","name":"eventSource","original":{"line":14,"column":16},"generated":{"line":1,"column":1381}},{"source":"src/ASPlayer.js","name":"addEventListener","original":{"line":14,"column":28},"generated":{"line":1,"column":1393}},{"source":"src/ASPlayer.js","original":{"line":14,"column":45},"generated":{"line":1,"column":1410}},{"source":"src/ASPlayer.js","original":{"line":14,"column":54},"generated":{"line":1,"column":1418}},{"source":"src/ASPlayer.js","name":"_onError","original":{"line":14,"column":59},"generated":{"line":1,"column":1423}},{"source":"src/ASPlayer.js","name":"bind","original":{"line":14,"column":68},"generated":{"line":1,"column":1432}},{"source":"src/ASPlayer.js","original":{"line":14,"column":73},"generated":{"line":1,"column":1437}},{"source":"src/ASPlayer.js","original":{"line":132,"column":3},"generated":{"line":1,"column":1444}},{"source":"src/ASPlayer.js","name":"_createClass","original":{"line":17,"column":2},"generated":{"line":1,"column":1451}},{"source":"src/ASPlayer.js","name":"ASPlayer","original":{"line":17,"column":2},"generated":{"line":1,"column":1453}},{"source":"src/ASPlayer.js","original":{"line":17,"column":2},"generated":{"line":1,"column":1455}},{"source":"src/ASPlayer.js","original":{"line":17,"column":2},"generated":{"line":1,"column":1456}},{"source":"src/ASPlayer.js","name":"key","original":{"line":17,"column":2},"generated":{"line":1,"column":1457}},{"source":"src/ASPlayer.js","original":{"line":17,"column":2},"generated":{"line":1,"column":1461}},{"source":"src/ASPlayer.js","name":"value","original":{"line":17,"column":2},"generated":{"line":1,"column":1476}},{"source":"src/ASPlayer.js","original":{"line":18,"column":2},"generated":{"line":1,"column":1482}},{"source":"src/ASPlayer.js","name":"video","original":{"line":18,"column":15},"generated":{"line":1,"column":1491}},{"source":"src/ASPlayer.js","original":{"line":18,"column":22},"generated":{"line":1,"column":1494}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":18,"column":22},"generated":{"line":1,"column":1498}},{"source":"src/ASPlayer.js","original":{"line":18,"column":22},"generated":{"line":1,"column":1500}},{"source":"src/ASPlayer.js","original":{"line":19,"column":4},"generated":{"line":1,"column":1505}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":19,"column":9},"generated":{"line":1,"column":1510}},{"source":"src/ASPlayer.js","name":"video","original":{"line":19,"column":18},"generated":{"line":1,"column":1517}},{"source":"src/ASPlayer.js","original":{"line":20,"column":4},"generated":{"line":1,"column":1519}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":20,"column":9},"generated":{"line":1,"column":1524}},{"source":"src/ASPlayer.js","name":"addEventListener","original":{"line":20,"column":16},"generated":{"line":1,"column":1531}},{"source":"src/ASPlayer.js","original":{"line":21,"column":6},"generated":{"line":1,"column":1548}},{"source":"src/ASPlayer.js","original":{"line":22,"column":6},"generated":{"line":1,"column":1555}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":23,"column":13},"generated":{"line":1,"column":1566}},{"source":"src/ASPlayer.js","name":"isPlaying","original":{"line":23,"column":18},"generated":{"line":1,"column":1568}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":24,"column":10},"generated":{"line":1,"column":1581}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":24,"column":15},"generated":{"line":1,"column":1583}},{"source":"src/ASPlayer.js","name":"start","original":{"line":24,"column":22},"generated":{"line":1,"column":1590}},{"source":"src/ASPlayer.js","original":{"line":27,"column":6},"generated":{"line":1,"column":1600}},{"source":"src/ASPlayer.js","original":{"line":30,"column":4},"generated":{"line":1,"column":1603}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":30,"column":9},"generated":{"line":1,"column":1608}},{"source":"src/ASPlayer.js","name":"addEventListener","original":{"line":30,"column":16},"generated":{"line":1,"column":1615}},{"source":"src/ASPlayer.js","original":{"line":31,"column":6},"generated":{"line":1,"column":1632}},{"source":"src/ASPlayer.js","original":{"line":32,"column":6},"generated":{"line":1,"column":1640}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":33,"column":8},"generated":{"line":1,"column":1651}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":33,"column":13},"generated":{"line":1,"column":1653}},{"source":"src/ASPlayer.js","name":"pause","original":{"line":33,"column":20},"generated":{"line":1,"column":1660}},{"source":"src/ASPlayer.js","original":{"line":35,"column":6},"generated":{"line":1,"column":1670}},{"source":"src/ASPlayer.js","original":{"line":38,"column":4},"generated":{"line":1,"column":1673}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":38,"column":9},"generated":{"line":1,"column":1678}},{"source":"src/ASPlayer.js","name":"addEventListener","original":{"line":38,"column":16},"generated":{"line":1,"column":1685}},{"source":"src/ASPlayer.js","original":{"line":39,"column":6},"generated":{"line":1,"column":1702}},{"source":"src/ASPlayer.js","original":{"line":40,"column":6},"generated":{"line":1,"column":1712}},{"source":"src/ASPlayer.js","original":{"line":41,"column":8},"generated":{"line":1,"column":1723}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":41,"column":12},"generated":{"line":1,"column":1726}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":41,"column":17},"generated":{"line":1,"column":1728}},{"source":"src/ASPlayer.js","name":"seekable","original":{"line":41,"column":24},"generated":{"line":1,"column":1735}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":42,"column":15},"generated":{"line":1,"column":1744}},{"source":"src/ASPlayer.js","name":"_is_in_buffered","original":{"line":42,"column":20},"generated":{"line":1,"column":1746}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":42,"column":36},"generated":{"line":1,"column":1762}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":42,"column":41},"generated":{"line":1,"column":1764}},{"source":"src/ASPlayer.js","name":"currentTime","original":{"line":42,"column":48},"generated":{"line":1,"column":1771}},{"source":"src/ASPlayer.js","name":"console","original":{"line":43,"column":12},"generated":{"line":1,"column":1786}},{"source":"src/ASPlayer.js","name":"log","original":{"line":43,"column":20},"generated":{"line":1,"column":1794}},{"source":"src/ASPlayer.js","name":"concat","original":{"line":43,"column":23},"generated":{"line":1,"column":1798}},{"source":"src/ASPlayer.js","name":"concat","original":{"line":43,"column":23},"generated":{"line":1,"column":1809}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":43,"column":35},"generated":{"line":1,"column":1816}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":43,"column":40},"generated":{"line":1,"column":1818}},{"source":"src/ASPlayer.js","name":"currentTime","original":{"line":43,"column":47},"generated":{"line":1,"column":1825}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":44,"column":12},"generated":{"line":1,"column":1839}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":44,"column":17},"generated":{"line":1,"column":1841}},{"source":"src/ASPlayer.js","name":"seek","original":{"line":44,"column":24},"generated":{"line":1,"column":1848}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":44,"column":29},"generated":{"line":1,"column":1853}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":44,"column":34},"generated":{"line":1,"column":1855}},{"source":"src/ASPlayer.js","name":"currentTime","original":{"line":44,"column":41},"generated":{"line":1,"column":1862}},{"source":"src/ASPlayer.js","original":{"line":46,"column":15},"generated":{"line":1,"column":1880}},{"source":"src/ASPlayer.js","original":{"line":47,"column":10},"generated":{"line":1,"column":1881}},{"source":"src/ASPlayer.js","name":"delta","original":{"line":47,"column":14},"generated":{"line":1,"column":1885}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":47,"column":22},"generated":{"line":1,"column":1887}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":47,"column":27},"generated":{"line":1,"column":1889}},{"source":"src/ASPlayer.js","name":"currentTime","original":{"line":47,"column":34},"generated":{"line":1,"column":1896}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":47,"column":48},"generated":{"line":1,"column":1908}},{"source":"src/ASPlayer.js","name":"supposedCurrentTime","original":{"line":47,"column":53},"generated":{"line":1,"column":1910}},{"source":"src/ASPlayer.js","name":"Math","original":{"line":48,"column":14},"generated":{"line":1,"column":1930}},{"source":"src/ASPlayer.js","name":"abs","original":{"line":48,"column":19},"generated":{"line":1,"column":1935}},{"source":"src/ASPlayer.js","name":"delta","original":{"line":48,"column":23},"generated":{"line":1,"column":1939}},{"source":"src/ASPlayer.js","original":{"line":48,"column":33},"generated":{"line":1,"column":1943}},{"source":"src/ASPlayer.js","name":"console","original":{"line":49,"column":12},"generated":{"line":1,"column":1949}},{"source":"src/ASPlayer.js","name":"log","original":{"line":49,"column":20},"generated":{"line":1,"column":1957}},{"source":"src/ASPlayer.js","original":{"line":49,"column":24},"generated":{"line":1,"column":1961}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":50,"column":12},"generated":{"line":1,"column":1984}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":50,"column":17},"generated":{"line":1,"column":1986}},{"source":"src/ASPlayer.js","name":"currentTime","original":{"line":50,"column":24},"generated":{"line":1,"column":1993}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":50,"column":38},"generated":{"line":1,"column":2005}},{"source":"src/ASPlayer.js","name":"supposedCurrentTime","original":{"line":50,"column":43},"generated":{"line":1,"column":2007}},{"source":"src/ASPlayer.js","original":{"line":54,"column":6},"generated":{"line":1,"column":2031}},{"source":"src/ASPlayer.js","original":{"line":58,"column":4},"generated":{"line":1,"column":2034}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":58,"column":9},"generated":{"line":1,"column":2039}},{"source":"src/ASPlayer.js","name":"addEventListener","original":{"line":58,"column":16},"generated":{"line":1,"column":2046}},{"source":"src/ASPlayer.js","original":{"line":59,"column":6},"generated":{"line":1,"column":2063}},{"source":"src/ASPlayer.js","original":{"line":60,"column":6},"generated":{"line":1,"column":2076}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":61,"column":13},"generated":{"line":1,"column":2087}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":61,"column":18},"generated":{"line":1,"column":2089}},{"source":"src/ASPlayer.js","name":"seeking","original":{"line":61,"column":25},"generated":{"line":1,"column":2096}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":62,"column":10},"generated":{"line":1,"column":2106}},{"source":"src/ASPlayer.js","name":"supposedCurrentTime","original":{"line":62,"column":15},"generated":{"line":1,"column":2108}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":62,"column":37},"generated":{"line":1,"column":2128}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":62,"column":42},"generated":{"line":1,"column":2130}},{"source":"src/ASPlayer.js","name":"currentTime","original":{"line":62,"column":49},"generated":{"line":1,"column":2137}},{"source":"src/ASPlayer.js","original":{"line":65,"column":6},"generated":{"line":1,"column":2152}},{"source":"src/ASPlayer.js","original":{"line":69,"column":4},"generated":{"line":1,"column":2155}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":69,"column":9},"generated":{"line":1,"column":2160}},{"source":"src/ASPlayer.js","name":"addEventListener","original":{"line":69,"column":16},"generated":{"line":1,"column":2167}},{"source":"src/ASPlayer.js","original":{"line":70,"column":6},"generated":{"line":1,"column":2184}},{"source":"src/ASPlayer.js","original":{"line":71,"column":6},"generated":{"line":1,"column":2192}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":72,"column":8},"generated":{"line":1,"column":2203}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":72,"column":13},"generated":{"line":1,"column":2205}},{"source":"src/ASPlayer.js","name":"abort","original":{"line":72,"column":20},"generated":{"line":1,"column":2212}},{"source":"src/ASPlayer.js","name":"then","original":{"line":72,"column":28},"generated":{"line":1,"column":2220}},{"source":"src/ASPlayer.js","original":{"line":72,"column":33},"generated":{"line":1,"column":2225}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":73,"column":10},"generated":{"line":1,"column":2236}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":73,"column":15},"generated":{"line":1,"column":2238}},{"source":"src/ASPlayer.js","name":"destroy","original":{"line":73,"column":22},"generated":{"line":1,"column":2245}},{"source":"src/ASPlayer.js","original":{"line":76,"column":6},"generated":{"line":1,"column":2259}},{"source":"src/ASPlayer.js","original":{"line":80,"column":4},"generated":{"line":1,"column":2262}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":80,"column":9},"generated":{"line":1,"column":2267}},{"source":"src/ASPlayer.js","name":"addEventListener","original":{"line":80,"column":16},"generated":{"line":1,"column":2274}},{"source":"src/ASPlayer.js","original":{"line":81,"column":6},"generated":{"line":1,"column":2291}},{"source":"src/ASPlayer.js","original":{"line":82,"column":6},"generated":{"line":1,"column":2299}},{"source":"src/ASPlayer.js","name":"_this","original":{"line":83,"column":8},"generated":{"line":1,"column":2310}},{"source":"src/ASPlayer.js","name":"supposedCurrentTime","original":{"line":83,"column":13},"generated":{"line":1,"column":2312}},{"source":"src/ASPlayer.js","original":{"line":83,"column":35},"generated":{"line":1,"column":2332}},{"source":"src/ASPlayer.js","original":{"line":85,"column":6},"generated":{"line":1,"column":2336}},{"source":"src/ASPlayer.js","original":{"line":89,"column":2},"generated":{"line":1,"column":2341}},{"source":"src/ASPlayer.js","name":"key","original":{"line":89,"column":2},"generated":{"line":1,"column":2342}},{"source":"src/ASPlayer.js","original":{"line":89,"column":2},"generated":{"line":1,"column":2346}},{"source":"src/ASPlayer.js","name":"value","original":{"line":89,"column":2},"generated":{"line":1,"column":2358}},{"source":"src/ASPlayer.js","original":{"line":90,"column":2},"generated":{"line":1,"column":2364}},{"source":"src/ASPlayer.js","original":{"line":91,"column":4},"generated":{"line":1,"column":2375}},{"source":"src/ASPlayer.js","original":{"line":91,"column":13},"generated":{"line":1,"column":2383}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":91,"column":18},"generated":{"line":1,"column":2388}},{"source":"src/ASPlayer.js","name":"paused","original":{"line":91,"column":25},"generated":{"line":1,"column":2395}},{"source":"src/ASPlayer.js","original":{"line":91,"column":35},"generated":{"line":1,"column":2403}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":91,"column":40},"generated":{"line":1,"column":2408}},{"source":"src/ASPlayer.js","name":"paused","original":{"line":91,"column":47},"generated":{"line":1,"column":2415}},{"source":"src/ASPlayer.js","original":{"line":94,"column":2},"generated":{"line":1,"column":2425}},{"source":"src/ASPlayer.js","name":"key","original":{"line":94,"column":2},"generated":{"line":1,"column":2426}},{"source":"src/ASPlayer.js","original":{"line":94,"column":2},"generated":{"line":1,"column":2430}},{"source":"src/ASPlayer.js","name":"value","original":{"line":94,"column":2},"generated":{"line":1,"column":2438}},{"source":"src/ASPlayer.js","original":{"line":95,"column":2},"generated":{"line":1,"column":2444}},{"source":"src/ASPlayer.js","original":{"line":96,"column":4},"generated":{"line":1,"column":2455}},{"source":"src/ASPlayer.js","original":{"line":96,"column":8},"generated":{"line":1,"column":2458}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":96,"column":13},"generated":{"line":1,"column":2463}},{"source":"src/ASPlayer.js","original":{"line":97,"column":6},"generated":{"line":1,"column":2470}},{"source":"src/ASPlayer.js","original":{"line":97,"column":13},"generated":{"line":1,"column":2477}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":97,"column":18},"generated":{"line":1,"column":2482}},{"source":"src/ASPlayer.js","name":"load","original":{"line":97,"column":25},"generated":{"line":1,"column":2489}},{"source":"src/ASPlayer.js","name":"Promise","original":{"line":99,"column":6},"generated":{"line":1,"column":2496}},{"source":"src/ASPlayer.js","name":"reject","original":{"line":99,"column":14},"generated":{"line":1,"column":2504}},{"source":"src/ASPlayer.js","original":{"line":99,"column":21},"generated":{"line":1,"column":2511}},{"source":"src/ASPlayer.js","original":{"line":103,"column":2},"generated":{"line":1,"column":2535}},{"source":"src/ASPlayer.js","name":"key","original":{"line":103,"column":2},"generated":{"line":1,"column":2536}},{"source":"src/ASPlayer.js","original":{"line":103,"column":2},"generated":{"line":1,"column":2540}},{"source":"src/ASPlayer.js","name":"value","original":{"line":103,"column":2},"generated":{"line":1,"column":2547}},{"source":"src/ASPlayer.js","original":{"line":104,"column":2},"generated":{"line":1,"column":2553}},{"source":"src/ASPlayer.js","original":{"line":105,"column":4},"generated":{"line":1,"column":2564}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":105,"column":9},"generated":{"line":1,"column":2569}},{"source":"src/ASPlayer.js","name":"stop","original":{"line":105,"column":16},"generated":{"line":1,"column":2576}},{"source":"src/ASPlayer.js","original":{"line":108,"column":2},"generated":{"line":1,"column":2585}},{"source":"src/ASPlayer.js","name":"key","original":{"line":108,"column":2},"generated":{"line":1,"column":2586}},{"source":"src/ASPlayer.js","original":{"line":108,"column":2},"generated":{"line":1,"column":2590}},{"source":"src/ASPlayer.js","name":"value","original":{"line":108,"column":2},"generated":{"line":1,"column":2600}},{"source":"src/ASPlayer.js","original":{"line":109,"column":2},"generated":{"line":1,"column":2606}},{"source":"src/ASPlayer.js","original":{"line":110,"column":4},"generated":{"line":1,"column":2617}},{"source":"src/ASPlayer.js","name":"stream","original":{"line":110,"column":9},"generated":{"line":1,"column":2622}},{"source":"src/ASPlayer.js","name":"destory","original":{"line":110,"column":16},"generated":{"line":1,"column":2629}},{"source":"src/ASPlayer.js","original":{"line":111,"column":3},"generated":{"line":1,"column":2641}},{"source":"src/ASPlayer.js","name":"key","original":{"line":111,"column":3},"generated":{"line":1,"column":2642}},{"source":"src/ASPlayer.js","original":{"line":111,"column":3},"generated":{"line":1,"column":2646}},{"source":"src/ASPlayer.js","name":"value","original":{"line":111,"column":3},"generated":{"line":1,"column":2657}},{"source":"src/ASPlayer.js","original":{"line":113,"column":2},"generated":{"line":1,"column":2663}},{"source":"src/ASPlayer.js","name":"e","original":{"line":113,"column":11},"generated":{"line":1,"column":2672}},{"source":"src/ASPlayer.js","original":{"line":114,"column":8},"generated":{"line":1,"column":2675}},{"source":"src/ASPlayer.js","name":"errorHandler","original":{"line":114,"column":13},"generated":{"line":1,"column":2680}},{"source":"src/ASPlayer.js","original":{"line":115,"column":6},"generated":{"line":1,"column":2694}},{"source":"src/ASPlayer.js","name":"errorHandler","original":{"line":115,"column":11},"generated":{"line":1,"column":2699}},{"source":"src/ASPlayer.js","name":"e","original":{"line":115,"column":24},"generated":{"line":1,"column":2712}},{"source":"src/ASPlayer.js","original":{"line":117,"column":3},"generated":{"line":1,"column":2717}},{"source":"src/ASPlayer.js","name":"key","original":{"line":117,"column":3},"generated":{"line":1,"column":2718}},{"source":"src/ASPlayer.js","original":{"line":117,"column":3},"generated":{"line":1,"column":2722}},{"source":"src/ASPlayer.js","name":"value","original":{"line":117,"column":3},"generated":{"line":1,"column":2740}},{"source":"src/ASPlayer.js","original":{"line":119,"column":2},"generated":{"line":1,"column":2746}},{"source":"src/ASPlayer.js","name":"current_time","original":{"line":119,"column":18},"generated":{"line":1,"column":2755}},{"source":"src/ASPlayer.js","original":{"line":122,"column":4},"generated":{"line":1,"column":2758}},{"source":"src/ASPlayer.js","original":{"line":120,"column":4},"generated":{"line":1,"column":2762}},{"source":"src/ASPlayer.js","name":"buffereds","original":{"line":120,"column":8},"generated":{"line":1,"column":2766}},{"source":"src/ASPlayer.js","original":{"line":120,"column":20},"generated":{"line":1,"column":2768}},{"source":"src/ASPlayer.js","name":"_video","original":{"line":120,"column":25},"generated":{"line":1,"column":2773}},{"source":"src/ASPlayer.js","name":"buffered","original":{"line":120,"column":32},"generated":{"line":1,"column":2780}},{"source":"src/ASPlayer.js","name":"f","original":{"line":121,"column":8},"generated":{"line":1,"column":2789}},{"source":"src/ASPlayer.js","original":{"line":121,"column":12},"generated":{"line":1,"column":2792}},{"source":"src/ASPlayer.js","name":"i","original":{"line":122,"column":13},"generated":{"line":1,"column":2794}},{"source":"src/ASPlayer.js","original":{"line":122,"column":17},"generated":{"line":1,"column":2796}},{"source":"src/ASPlayer.js","name":"i","original":{"line":122,"column":20},"generated":{"line":1,"column":2798}},{"source":"src/ASPlayer.js","name":"buffereds","original":{"line":122,"column":24},"generated":{"line":1,"column":2800}},{"source":"src/ASPlayer.js","name":"length","original":{"line":122,"column":34},"generated":{"line":1,"column":2802}},{"source":"src/ASPlayer.js","name":"i","original":{"line":122,"column":42},"generated":{"line":1,"column":2809}},{"source":"src/ASPlayer.js","original":{"line":123,"column":6},"generated":{"line":1,"column":2813}},{"source":"src/ASPlayer.js","name":"current_time","original":{"line":124,"column":8},"generated":{"line":1,"column":2816}},{"source":"src/ASPlayer.js","name":"buffereds","original":{"line":124,"column":24},"generated":{"line":1,"column":2819}},{"source":"src/ASPlayer.js","name":"start","original":{"line":124,"column":34},"generated":{"line":1,"column":2821}},{"source":"src/ASPlayer.js","name":"i","original":{"line":124,"column":40},"generated":{"line":1,"column":2827}},{"source":"src/ASPlayer.js","name":"current_time","original":{"line":125,"column":8},"generated":{"line":1,"column":2831}},{"source":"src/ASPlayer.js","name":"buffereds","original":{"line":125,"column":24},"generated":{"line":1,"column":2834}},{"source":"src/ASPlayer.js","name":"end","original":{"line":125,"column":34},"generated":{"line":1,"column":2836}},{"source":"src/ASPlayer.js","name":"i","original":{"line":125,"column":38},"generated":{"line":1,"column":2840}},{"source":"src/ASPlayer.js","original":{"line":126,"column":8},"generated":{"line":1,"column":2843}},{"source":"src/ASPlayer.js","name":"f","original":{"line":127,"column":8},"generated":{"line":1,"column":2844}},{"source":"src/ASPlayer.js","original":{"line":127,"column":12},"generated":{"line":1,"column":2847}},{"source":"src/ASPlayer.js","original":{"line":128,"column":8},"generated":{"line":1,"column":2849}},{"source":"src/ASPlayer.js","original":{"line":131,"column":4},"generated":{"line":1,"column":2855}},{"source":"src/ASPlayer.js","name":"f","original":{"line":131,"column":11},"generated":{"line":1,"column":2862}},{"source":"src/ASPlayer.js","name":"ASPlayer","original":{"line":132,"column":3},"generated":{"line":1,"column":2868}},{"source":"src/ASPlayer.js","original":{"line":3,"column":21},"generated":{"line":1,"column":2870}}],"sources":{"src/ASPlayer.js":"import RTSPStream from \"./rtsp/RTSPStream\";\n\nexport class ASPlayer {\n  constructor(options) {\n    // Always call super first in constructor\n    this.errorHandler = null;\n    this.infoHandler = null;\n    this.dataHandler = null;\n    this.queryCredentials = null;\n    this.bufferDuration_ = 120;\n    this.supposedCurrentTime = 0;\n    this.stream = new RTSPStream(options);\n    this._attachVideo(options.video);\n    this.stream.eventSource.addEventListener(\"error\", this._onError.bind(this));\n  }\n\n  /** video play handler */\n  _attachVideo(video) {\n    this._video = video;\n    this._video.addEventListener(\n      \"play\",\n      () => {\n        if (!this.isPlaying()) {\n          this.stream.start();\n        }\n      },\n      false\n    );\n    /** video pause handler */\n    this._video.addEventListener(\n      \"pause\",\n      () => {\n        this.stream.pause();\n      },\n      false\n    );\n    /** video seeking handler */\n    this._video.addEventListener(\n      \"seeking\",\n      () => {\n        if (this.stream.seekable) {\n          if (!this._is_in_buffered(this._video.currentTime)) {\n            console.log(`seek to ${this._video.currentTime}`);\n            this.stream.seek(this._video.currentTime);\n          }\n        } else {\n          let delta = this._video.currentTime - this.supposedCurrentTime;\n          if (Math.abs(delta) >= 0.01) {\n            console.log(\"Seeking is disabled\");\n            this._video.currentTime = this.supposedCurrentTime;\n          }\n        }\n      },\n      false\n    );\n\n    /** video updatetime handler */\n    this._video.addEventListener(\n      \"timeupdate\",\n      () => {\n        if (!this._video.seeking) {\n          this.supposedCurrentTime = this._video.currentTime;\n        }\n      },\n      false\n    );\n\n    /** video abort handler */\n    this._video.addEventListener(\n      \"abort\",\n      () => {\n        this.stream.abort().then(() => {\n          this.stream.destroy();\n        });\n      },\n      false\n    );\n\n    /** video ended handler */\n    this._video.addEventListener(\n      \"ended\",\n      () => {\n        this.supposedCurrentTime = 0;\n      },\n      false\n    );\n  }\n\n  // TODO: check native support\n  isPlaying() {\n    return !(this._video.paused || this.stream.paused);\n  }\n\n  /** Load */\n  start() {\n    if (this.stream) {\n      return this.stream.load();\n    } else {\n      Promise.reject(\"Not attach stream!\");\n    }\n  }\n\n  /** stop */\n  stop() {\n    this.stream.stop();\n  }\n\n  /** destory */\n  destroy() {\n    this.stream.destory();\n  }\n\n  _onError(e) {\n    if (this.errorHandler) {\n      this.errorHandler(e);\n    }\n  }\n\n  _is_in_buffered(current_time) {\n    let buffereds = this._video.buffered;\n    let f = false;\n    for (let i = 0; i < buffereds.length; i++) {\n      if (\n        current_time >= buffereds.start(i) &&\n        current_time <= buffereds.end(i)\n      ) {\n        f = true;\n        break;\n      }\n    }\n    return f;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"d256d3d8ddc7a95fe755294d4fa88eb7","cacheData":{"env":{}}}