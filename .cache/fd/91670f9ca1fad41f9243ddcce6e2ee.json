{"id":"pENG","dependencies":[{"name":"/Users/chengyi/ws_live_player/package.json","includedInParent":true,"mtime":1669102311952}],"generated":{"js":"\"use strict\";function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function r(e){var n=a(e,\"string\");return\"symbol\"===t(n)?n:String(n)}function a(e,n){if(\"object\"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,n||\"default\");if(\"object\"!==t(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===n?String:Number)(e)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.StateMachine=void 0;var o=function(){function t(n,i){e(this,t),this.stateMachine=i,this.transitions=new Set,this.name=n}return i(t,[{key:\"activate\",value:function(){return Promise.resolve(null)}},{key:\"finishTransition\",value:function(){}},{key:\"failHandler\",value:function(){}},{key:\"deactivate\",value:function(){return Promise.resolve(null)}}]),t}(),s=exports.StateMachine=function(){function t(){e(this,t),this.storage={},this.currentState=null,this.states=new Map}return i(t,[{key:\"addState\",value:function(t,e){var n=e.activate,i=e.finishTransition,r=e.deactivate,a=new o(t,this);return n&&(a.activate=n),i&&(a.finishTransition=i),r&&(a.deactivate=r),this.states.set(t,a),this}},{key:\"addTransition\",value:function(t,e){if(!this.states.has(t))throw ReferenceError(\"No such state: \".concat(t,\" while connecting to \").concat(e));if(!this.states.has(e))throw ReferenceError(\"No such state: \".concat(e,\" while connecting from \").concat(t));return this.states.get(t).transitions.add(e),this}},{key:\"_promisify\",value:function(t){var e;try{(e=t).then||(e=Promise.resolve(e))}catch(n){e=Promise.reject(n)}return e}},{key:\"transitionTo\",value:function(t){var e=this;if(null==this.currentState){var n=this.states.get(t);return this._promisify(n.activate.call(this)).then(function(t){return e.currentState=n,t}).then(n.finishTransition.bind(this)).catch(function(t){throw n.failHandler(),t})}if(this.currentState.name===t)return Promise.resolve();if(this.currentState.transitions.has(t)){var i=this.states.get(t);return this._promisify(this.currentState.deactivate.call(this)).then(i.activate.bind(this)).then(function(t){return e.currentState=i,t}).then(i.finishTransition.bind(this)).catch(function(t){throw i.failHandler(),t})}return Promise.reject(\"No such transition: \".concat(this.currentState.name,\" to \").concat(t))}}]),t}();"},"sourceMaps":{"js":{"mappings":[{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":0}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":13}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":22}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":24}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":27}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":34}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":36}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":55}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":63}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":80}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":87}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":96}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":105}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":108}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":122}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":125}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":134}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":137}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":144}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":147}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":166}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":174}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":176}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":190}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":198}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":202}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":209}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":219}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":235}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":239}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":242}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":251}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":253}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":255}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":258}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":263}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":276}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":279}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":285}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":289}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":299}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":336}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":345}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":347}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":349}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":352}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":356}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":360}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":362}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":364}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":366}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":368}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":375}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":379}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":380}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":384}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":386}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":388}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":391}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":393}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":404}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":406}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":419}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":421}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":423}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":437}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":439}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":449}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":453}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":455}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":465}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":468}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":475}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":490}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":492}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":494}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":496}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":501}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":505}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":514}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":516}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":518}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":520}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":523}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":530}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":533}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":535}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":537}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":547}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":550}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":553}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":555}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":557}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":560}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":567}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":582}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":584}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":596}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":597}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":607}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":611}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":613}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":622}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":624}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":627}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":631}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":633}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":635}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":637}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":647}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":653}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":664}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":666}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":669}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":671}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":678}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":681}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":690}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":692}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":694}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":697}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":700}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":711}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":713}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":717}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":724}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":726}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":733}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":735}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":739}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":741}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":743}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":750}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":763}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":771}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":775}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":777}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":778}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":782}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":784}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":786}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":791}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":793}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":796}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":807}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":810}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":821}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":823}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":826}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":833}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":835}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":841}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":845}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":855}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":903}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":910}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":921}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":923}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":930}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":938}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":941}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":948}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":963}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":971}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":984}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":985}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":992}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":996}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":1004}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":1022}},{"source":"src/utils/statemachine.js","name":"State","original":{"line":1,"column":6},"generated":{"line":1,"column":1024}},{"source":"src/utils/statemachine.js","name":"State","original":{"line":1,"column":6},"generated":{"line":1,"column":1028}},{"source":"src/utils/statemachine.js","original":{"line":1,"column":11},"generated":{"line":1,"column":1030}},{"source":"src/utils/statemachine.js","original":{"line":2,"column":2},"generated":{"line":1,"column":1041}},{"source":"src/utils/statemachine.js","name":"State","original":{"line":2,"column":2},"generated":{"line":1,"column":1050}},{"source":"src/utils/statemachine.js","name":"name","original":{"line":2,"column":14},"generated":{"line":1,"column":1052}},{"source":"src/utils/statemachine.js","name":"stateMachine","original":{"line":2,"column":20},"generated":{"line":1,"column":1054}},{"source":"src/utils/statemachine.js","name":"_classCallCheck","original":{"line":2,"column":34},"generated":{"line":1,"column":1057}},{"source":"src/utils/statemachine.js","name":"State","original":{"line":2,"column":34},"generated":{"line":1,"column":1059}},{"source":"src/utils/statemachine.js","name":"State","original":{"line":2,"column":34},"generated":{"line":1,"column":1064}},{"source":"src/utils/statemachine.js","original":{"line":3,"column":4},"generated":{"line":1,"column":1067}},{"source":"src/utils/statemachine.js","name":"stateMachine","original":{"line":3,"column":9},"generated":{"line":1,"column":1072}},{"source":"src/utils/statemachine.js","name":"stateMachine","original":{"line":3,"column":24},"generated":{"line":1,"column":1085}},{"source":"src/utils/statemachine.js","original":{"line":4,"column":4},"generated":{"line":1,"column":1087}},{"source":"src/utils/statemachine.js","name":"transitions","original":{"line":4,"column":9},"generated":{"line":1,"column":1092}},{"source":"src/utils/statemachine.js","original":{"line":4,"column":23},"generated":{"line":1,"column":1104}},{"source":"src/utils/statemachine.js","name":"Set","original":{"line":4,"column":27},"generated":{"line":1,"column":1108}},{"source":"src/utils/statemachine.js","original":{"line":5,"column":4},"generated":{"line":1,"column":1112}},{"source":"src/utils/statemachine.js","name":"name","original":{"line":5,"column":9},"generated":{"line":1,"column":1117}},{"source":"src/utils/statemachine.js","name":"name","original":{"line":5,"column":16},"generated":{"line":1,"column":1122}},{"source":"src/utils/statemachine.js","original":{"line":18,"column":3},"generated":{"line":1,"column":1124}},{"source":"src/utils/statemachine.js","name":"_createClass","original":{"line":6,"column":3},"generated":{"line":1,"column":1131}},{"source":"src/utils/statemachine.js","name":"State","original":{"line":6,"column":3},"generated":{"line":1,"column":1133}},{"source":"src/utils/statemachine.js","original":{"line":6,"column":3},"generated":{"line":1,"column":1135}},{"source":"src/utils/statemachine.js","original":{"line":6,"column":3},"generated":{"line":1,"column":1136}},{"source":"src/utils/statemachine.js","name":"key","original":{"line":6,"column":3},"generated":{"line":1,"column":1137}},{"source":"src/utils/statemachine.js","original":{"line":6,"column":3},"generated":{"line":1,"column":1141}},{"source":"src/utils/statemachine.js","name":"value","original":{"line":6,"column":3},"generated":{"line":1,"column":1152}},{"source":"src/utils/statemachine.js","original":{"line":8,"column":2},"generated":{"line":1,"column":1158}},{"source":"src/utils/statemachine.js","original":{"line":9,"column":4},"generated":{"line":1,"column":1169}},{"source":"src/utils/statemachine.js","name":"Promise","original":{"line":9,"column":11},"generated":{"line":1,"column":1176}},{"source":"src/utils/statemachine.js","name":"resolve","original":{"line":9,"column":19},"generated":{"line":1,"column":1184}},{"source":"src/utils/statemachine.js","original":{"line":9,"column":27},"generated":{"line":1,"column":1192}},{"source":"src/utils/statemachine.js","original":{"line":10,"column":3},"generated":{"line":1,"column":1200}},{"source":"src/utils/statemachine.js","name":"key","original":{"line":10,"column":3},"generated":{"line":1,"column":1201}},{"source":"src/utils/statemachine.js","original":{"line":10,"column":3},"generated":{"line":1,"column":1205}},{"source":"src/utils/statemachine.js","name":"value","original":{"line":10,"column":3},"generated":{"line":1,"column":1224}},{"source":"src/utils/statemachine.js","original":{"line":12,"column":2},"generated":{"line":1,"column":1230}},{"source":"src/utils/statemachine.js","original":{"line":12,"column":23},"generated":{"line":1,"column":1244}},{"source":"src/utils/statemachine.js","name":"key","original":{"line":12,"column":23},"generated":{"line":1,"column":1245}},{"source":"src/utils/statemachine.js","original":{"line":12,"column":23},"generated":{"line":1,"column":1249}},{"source":"src/utils/statemachine.js","name":"value","original":{"line":12,"column":23},"generated":{"line":1,"column":1263}},{"source":"src/utils/statemachine.js","original":{"line":14,"column":2},"generated":{"line":1,"column":1269}},{"source":"src/utils/statemachine.js","original":{"line":14,"column":18},"generated":{"line":1,"column":1283}},{"source":"src/utils/statemachine.js","name":"key","original":{"line":14,"column":18},"generated":{"line":1,"column":1284}},{"source":"src/utils/statemachine.js","original":{"line":14,"column":18},"generated":{"line":1,"column":1288}},{"source":"src/utils/statemachine.js","name":"value","original":{"line":14,"column":18},"generated":{"line":1,"column":1301}},{"source":"src/utils/statemachine.js","original":{"line":16,"column":2},"generated":{"line":1,"column":1307}},{"source":"src/utils/statemachine.js","original":{"line":17,"column":4},"generated":{"line":1,"column":1318}},{"source":"src/utils/statemachine.js","name":"Promise","original":{"line":17,"column":11},"generated":{"line":1,"column":1325}},{"source":"src/utils/statemachine.js","name":"resolve","original":{"line":17,"column":19},"generated":{"line":1,"column":1333}},{"source":"src/utils/statemachine.js","original":{"line":17,"column":27},"generated":{"line":1,"column":1341}},{"source":"src/utils/statemachine.js","name":"State","original":{"line":18,"column":3},"generated":{"line":1,"column":1351}},{"source":"src/utils/statemachine.js","original":{"line":1,"column":11},"generated":{"line":1,"column":1353}},{"source":"src/utils/statemachine.js","name":"StateMachine","original":{"line":21,"column":13},"generated":{"line":1,"column":1356}},{"source":"src/utils/statemachine.js","name":"exports","original":{"line":21,"column":25},"generated":{"line":1,"column":1358}},{"source":"src/utils/statemachine.js","name":"StateMachine","original":{"line":21,"column":25},"generated":{"line":1,"column":1366}},{"source":"src/utils/statemachine.js","original":{"line":21,"column":25},"generated":{"line":1,"column":1379}},{"source":"src/utils/statemachine.js","original":{"line":22,"column":2},"generated":{"line":1,"column":1390}},{"source":"src/utils/statemachine.js","name":"StateMachine","original":{"line":22,"column":2},"generated":{"line":1,"column":1399}},{"source":"src/utils/statemachine.js","name":"_classCallCheck","original":{"line":22,"column":16},"generated":{"line":1,"column":1403}},{"source":"src/utils/statemachine.js","name":"StateMachine","original":{"line":22,"column":16},"generated":{"line":1,"column":1405}},{"source":"src/utils/statemachine.js","name":"StateMachine","original":{"line":22,"column":16},"generated":{"line":1,"column":1410}},{"source":"src/utils/statemachine.js","original":{"line":23,"column":4},"generated":{"line":1,"column":1413}},{"source":"src/utils/statemachine.js","name":"storage","original":{"line":23,"column":9},"generated":{"line":1,"column":1418}},{"source":"src/utils/statemachine.js","original":{"line":23,"column":19},"generated":{"line":1,"column":1426}},{"source":"src/utils/statemachine.js","original":{"line":24,"column":4},"generated":{"line":1,"column":1429}},{"source":"src/utils/statemachine.js","name":"currentState","original":{"line":24,"column":9},"generated":{"line":1,"column":1434}},{"source":"src/utils/statemachine.js","original":{"line":24,"column":24},"generated":{"line":1,"column":1447}},{"source":"src/utils/statemachine.js","original":{"line":25,"column":4},"generated":{"line":1,"column":1452}},{"source":"src/utils/statemachine.js","name":"states","original":{"line":25,"column":9},"generated":{"line":1,"column":1457}},{"source":"src/utils/statemachine.js","original":{"line":25,"column":18},"generated":{"line":1,"column":1464}},{"source":"src/utils/statemachine.js","name":"Map","original":{"line":25,"column":22},"generated":{"line":1,"column":1468}},{"source":"src/utils/statemachine.js","original":{"line":101,"column":3},"generated":{"line":1,"column":1472}},{"source":"src/utils/statemachine.js","name":"_createClass","original":{"line":26,"column":3},"generated":{"line":1,"column":1479}},{"source":"src/utils/statemachine.js","name":"StateMachine","original":{"line":26,"column":3},"generated":{"line":1,"column":1481}},{"source":"src/utils/statemachine.js","original":{"line":26,"column":3},"generated":{"line":1,"column":1483}},{"source":"src/utils/statemachine.js","original":{"line":26,"column":3},"generated":{"line":1,"column":1484}},{"source":"src/utils/statemachine.js","name":"key","original":{"line":26,"column":3},"generated":{"line":1,"column":1485}},{"source":"src/utils/statemachine.js","original":{"line":26,"column":3},"generated":{"line":1,"column":1489}},{"source":"src/utils/statemachine.js","name":"value","original":{"line":26,"column":3},"generated":{"line":1,"column":1500}},{"source":"src/utils/statemachine.js","original":{"line":28,"column":2},"generated":{"line":1,"column":1506}},{"source":"src/utils/statemachine.js","name":"name","original":{"line":28,"column":11},"generated":{"line":1,"column":1515}},{"source":"src/utils/statemachine.js","name":"_ref","original":{"line":28,"column":15},"generated":{"line":1,"column":1517}},{"source":"src/utils/statemachine.js","original":{"line":28,"column":61},"generated":{"line":1,"column":1520}},{"source":"src/utils/statemachine.js","name":"activate","original":{"line":28,"column":19},"generated":{"line":1,"column":1524}},{"source":"src/utils/statemachine.js","name":"_ref","original":{"line":28,"column":27},"generated":{"line":1,"column":1526}},{"source":"src/utils/statemachine.js","name":"activate","original":{"line":28,"column":19},"generated":{"line":1,"column":1528}},{"source":"src/utils/statemachine.js","name":"finishTransition","original":{"line":28,"column":29},"generated":{"line":1,"column":1537}},{"source":"src/utils/statemachine.js","name":"_ref","original":{"line":28,"column":45},"generated":{"line":1,"column":1539}},{"source":"src/utils/statemachine.js","name":"finishTransition","original":{"line":28,"column":29},"generated":{"line":1,"column":1541}},{"source":"src/utils/statemachine.js","name":"deactivate","original":{"line":28,"column":47},"generated":{"line":1,"column":1558}},{"source":"src/utils/statemachine.js","name":"_ref","original":{"line":28,"column":57},"generated":{"line":1,"column":1560}},{"source":"src/utils/statemachine.js","name":"deactivate","original":{"line":28,"column":47},"generated":{"line":1,"column":1562}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":29,"column":8},"generated":{"line":1,"column":1573}},{"source":"src/utils/statemachine.js","original":{"line":29,"column":16},"generated":{"line":1,"column":1575}},{"source":"src/utils/statemachine.js","name":"State","original":{"line":29,"column":20},"generated":{"line":1,"column":1579}},{"source":"src/utils/statemachine.js","name":"name","original":{"line":29,"column":26},"generated":{"line":1,"column":1581}},{"source":"src/utils/statemachine.js","original":{"line":29,"column":32},"generated":{"line":1,"column":1583}},{"source":"src/utils/statemachine.js","original":{"line":34,"column":4},"generated":{"line":1,"column":1589}},{"source":"src/utils/statemachine.js","name":"activate","original":{"line":30,"column":8},"generated":{"line":1,"column":1596}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":30,"column":18},"generated":{"line":1,"column":1600}},{"source":"src/utils/statemachine.js","name":"activate","original":{"line":30,"column":24},"generated":{"line":1,"column":1602}},{"source":"src/utils/statemachine.js","name":"activate","original":{"line":30,"column":35},"generated":{"line":1,"column":1611}},{"source":"src/utils/statemachine.js","name":"finishTransition","original":{"line":31,"column":8},"generated":{"line":1,"column":1614}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":31,"column":26},"generated":{"line":1,"column":1618}},{"source":"src/utils/statemachine.js","name":"finishTransition","original":{"line":31,"column":32},"generated":{"line":1,"column":1620}},{"source":"src/utils/statemachine.js","name":"finishTransition","original":{"line":31,"column":51},"generated":{"line":1,"column":1637}},{"source":"src/utils/statemachine.js","name":"deactivate","original":{"line":32,"column":8},"generated":{"line":1,"column":1640}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":32,"column":20},"generated":{"line":1,"column":1644}},{"source":"src/utils/statemachine.js","name":"deactivate","original":{"line":32,"column":26},"generated":{"line":1,"column":1646}},{"source":"src/utils/statemachine.js","name":"deactivate","original":{"line":32,"column":39},"generated":{"line":1,"column":1657}},{"source":"src/utils/statemachine.js","original":{"line":33,"column":4},"generated":{"line":1,"column":1660}},{"source":"src/utils/statemachine.js","name":"states","original":{"line":33,"column":9},"generated":{"line":1,"column":1665}},{"source":"src/utils/statemachine.js","name":"set","original":{"line":33,"column":16},"generated":{"line":1,"column":1672}},{"source":"src/utils/statemachine.js","name":"name","original":{"line":33,"column":20},"generated":{"line":1,"column":1676}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":33,"column":26},"generated":{"line":1,"column":1678}},{"source":"src/utils/statemachine.js","original":{"line":34,"column":11},"generated":{"line":1,"column":1681}},{"source":"src/utils/statemachine.js","original":{"line":35,"column":3},"generated":{"line":1,"column":1688}},{"source":"src/utils/statemachine.js","name":"key","original":{"line":35,"column":3},"generated":{"line":1,"column":1689}},{"source":"src/utils/statemachine.js","original":{"line":35,"column":3},"generated":{"line":1,"column":1693}},{"source":"src/utils/statemachine.js","name":"value","original":{"line":35,"column":3},"generated":{"line":1,"column":1709}},{"source":"src/utils/statemachine.js","original":{"line":37,"column":2},"generated":{"line":1,"column":1715}},{"source":"src/utils/statemachine.js","name":"fromName","original":{"line":37,"column":16},"generated":{"line":1,"column":1724}},{"source":"src/utils/statemachine.js","name":"toName","original":{"line":37,"column":26},"generated":{"line":1,"column":1726}},{"source":"src/utils/statemachine.js","original":{"line":38,"column":4},"generated":{"line":1,"column":1729}},{"source":"src/utils/statemachine.js","original":{"line":38,"column":9},"generated":{"line":1,"column":1733}},{"source":"src/utils/statemachine.js","name":"states","original":{"line":38,"column":14},"generated":{"line":1,"column":1738}},{"source":"src/utils/statemachine.js","name":"has","original":{"line":38,"column":21},"generated":{"line":1,"column":1745}},{"source":"src/utils/statemachine.js","name":"fromName","original":{"line":38,"column":25},"generated":{"line":1,"column":1749}},{"source":"src/utils/statemachine.js","original":{"line":39,"column":6},"generated":{"line":1,"column":1752}},{"source":"src/utils/statemachine.js","name":"ReferenceError","original":{"line":39,"column":12},"generated":{"line":1,"column":1758}},{"source":"src/utils/statemachine.js","name":"concat","original":{"line":39,"column":26},"generated":{"line":1,"column":1773}},{"source":"src/utils/statemachine.js","name":"concat","original":{"line":39,"column":26},"generated":{"line":1,"column":1791}},{"source":"src/utils/statemachine.js","name":"fromName","original":{"line":40,"column":26},"generated":{"line":1,"column":1798}},{"source":"src/utils/statemachine.js","name":"concat","original":{"line":40,"column":34},"generated":{"line":1,"column":1800}},{"source":"src/utils/statemachine.js","name":"concat","original":{"line":40,"column":34},"generated":{"line":1,"column":1825}},{"source":"src/utils/statemachine.js","name":"toName","original":{"line":40,"column":58},"generated":{"line":1,"column":1832}},{"source":"src/utils/statemachine.js","original":{"line":43,"column":4},"generated":{"line":1,"column":1836}},{"source":"src/utils/statemachine.js","original":{"line":43,"column":9},"generated":{"line":1,"column":1840}},{"source":"src/utils/statemachine.js","name":"states","original":{"line":43,"column":14},"generated":{"line":1,"column":1845}},{"source":"src/utils/statemachine.js","name":"has","original":{"line":43,"column":21},"generated":{"line":1,"column":1852}},{"source":"src/utils/statemachine.js","name":"toName","original":{"line":43,"column":25},"generated":{"line":1,"column":1856}},{"source":"src/utils/statemachine.js","original":{"line":44,"column":6},"generated":{"line":1,"column":1859}},{"source":"src/utils/statemachine.js","name":"ReferenceError","original":{"line":44,"column":12},"generated":{"line":1,"column":1865}},{"source":"src/utils/statemachine.js","name":"concat","original":{"line":44,"column":26},"generated":{"line":1,"column":1880}},{"source":"src/utils/statemachine.js","name":"concat","original":{"line":44,"column":26},"generated":{"line":1,"column":1898}},{"source":"src/utils/statemachine.js","name":"toName","original":{"line":45,"column":26},"generated":{"line":1,"column":1905}},{"source":"src/utils/statemachine.js","name":"concat","original":{"line":45,"column":32},"generated":{"line":1,"column":1907}},{"source":"src/utils/statemachine.js","name":"concat","original":{"line":45,"column":32},"generated":{"line":1,"column":1934}},{"source":"src/utils/statemachine.js","name":"fromName","original":{"line":45,"column":58},"generated":{"line":1,"column":1941}},{"source":"src/utils/statemachine.js","original":{"line":49,"column":4},"generated":{"line":1,"column":1945}},{"source":"src/utils/statemachine.js","original":{"line":48,"column":4},"generated":{"line":1,"column":1952}},{"source":"src/utils/statemachine.js","name":"states","original":{"line":48,"column":9},"generated":{"line":1,"column":1957}},{"source":"src/utils/statemachine.js","name":"get","original":{"line":48,"column":16},"generated":{"line":1,"column":1964}},{"source":"src/utils/statemachine.js","name":"fromName","original":{"line":48,"column":20},"generated":{"line":1,"column":1968}},{"source":"src/utils/statemachine.js","name":"transitions","original":{"line":48,"column":30},"generated":{"line":1,"column":1971}},{"source":"src/utils/statemachine.js","name":"add","original":{"line":48,"column":42},"generated":{"line":1,"column":1983}},{"source":"src/utils/statemachine.js","name":"toName","original":{"line":48,"column":46},"generated":{"line":1,"column":1987}},{"source":"src/utils/statemachine.js","original":{"line":49,"column":11},"generated":{"line":1,"column":1990}},{"source":"src/utils/statemachine.js","original":{"line":50,"column":3},"generated":{"line":1,"column":1997}},{"source":"src/utils/statemachine.js","name":"key","original":{"line":50,"column":3},"generated":{"line":1,"column":1998}},{"source":"src/utils/statemachine.js","original":{"line":50,"column":3},"generated":{"line":1,"column":2002}},{"source":"src/utils/statemachine.js","name":"value","original":{"line":50,"column":3},"generated":{"line":1,"column":2015}},{"source":"src/utils/statemachine.js","original":{"line":52,"column":2},"generated":{"line":1,"column":2021}},{"source":"src/utils/statemachine.js","name":"res","original":{"line":52,"column":13},"generated":{"line":1,"column":2030}},{"source":"src/utils/statemachine.js","original":{"line":53,"column":4},"generated":{"line":1,"column":2033}},{"source":"src/utils/statemachine.js","name":"promise","original":{"line":53,"column":8},"generated":{"line":1,"column":2037}},{"source":"src/utils/statemachine.js","original":{"line":54,"column":4},"generated":{"line":1,"column":2039}},{"source":"src/utils/statemachine.js","name":"promise","original":{"line":55,"column":6},"generated":{"line":1,"column":2044}},{"source":"src/utils/statemachine.js","name":"res","original":{"line":55,"column":16},"generated":{"line":1,"column":2046}},{"source":"src/utils/statemachine.js","name":"then","original":{"line":56,"column":19},"generated":{"line":1,"column":2049}},{"source":"src/utils/statemachine.js","name":"promise","original":{"line":57,"column":8},"generated":{"line":1,"column":2056}},{"source":"src/utils/statemachine.js","name":"Promise","original":{"line":57,"column":18},"generated":{"line":1,"column":2058}},{"source":"src/utils/statemachine.js","name":"resolve","original":{"line":57,"column":26},"generated":{"line":1,"column":2066}},{"source":"src/utils/statemachine.js","name":"promise","original":{"line":57,"column":34},"generated":{"line":1,"column":2074}},{"source":"src/utils/statemachine.js","original":{"line":59,"column":6},"generated":{"line":1,"column":2078}},{"source":"src/utils/statemachine.js","name":"e","original":{"line":59,"column":13},"generated":{"line":1,"column":2084}},{"source":"src/utils/statemachine.js","name":"promise","original":{"line":60,"column":6},"generated":{"line":1,"column":2087}},{"source":"src/utils/statemachine.js","name":"Promise","original":{"line":60,"column":16},"generated":{"line":1,"column":2089}},{"source":"src/utils/statemachine.js","name":"reject","original":{"line":60,"column":24},"generated":{"line":1,"column":2097}},{"source":"src/utils/statemachine.js","name":"e","original":{"line":60,"column":31},"generated":{"line":1,"column":2104}},{"source":"src/utils/statemachine.js","original":{"line":62,"column":4},"generated":{"line":1,"column":2107}},{"source":"src/utils/statemachine.js","name":"promise","original":{"line":62,"column":11},"generated":{"line":1,"column":2114}},{"source":"src/utils/statemachine.js","original":{"line":63,"column":3},"generated":{"line":1,"column":2118}},{"source":"src/utils/statemachine.js","name":"key","original":{"line":63,"column":3},"generated":{"line":1,"column":2119}},{"source":"src/utils/statemachine.js","original":{"line":63,"column":3},"generated":{"line":1,"column":2123}},{"source":"src/utils/statemachine.js","name":"value","original":{"line":63,"column":3},"generated":{"line":1,"column":2138}},{"source":"src/utils/statemachine.js","original":{"line":65,"column":2},"generated":{"line":1,"column":2144}},{"source":"src/utils/statemachine.js","name":"stateName","original":{"line":65,"column":15},"generated":{"line":1,"column":2153}},{"source":"src/utils/statemachine.js","original":{"line":65,"column":26},"generated":{"line":1,"column":2156}},{"source":"src/utils/statemachine.js","name":"_this","original":{"line":65,"column":26},"generated":{"line":1,"column":2160}},{"source":"src/utils/statemachine.js","original":{"line":65,"column":26},"generated":{"line":1,"column":2162}},{"source":"src/utils/statemachine.js","original":{"line":67,"column":4},"generated":{"line":1,"column":2167}},{"source":"src/utils/statemachine.js","original":{"line":67,"column":29},"generated":{"line":1,"column":2170}},{"source":"src/utils/statemachine.js","original":{"line":67,"column":8},"generated":{"line":1,"column":2176}},{"source":"src/utils/statemachine.js","name":"currentState","original":{"line":67,"column":13},"generated":{"line":1,"column":2181}},{"source":"src/utils/statemachine.js","original":{"line":67,"column":35},"generated":{"line":1,"column":2194}},{"source":"src/utils/statemachine.js","original":{"line":68,"column":6},"generated":{"line":1,"column":2195}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":68,"column":10},"generated":{"line":1,"column":2199}},{"source":"src/utils/statemachine.js","original":{"line":68,"column":18},"generated":{"line":1,"column":2201}},{"source":"src/utils/statemachine.js","name":"states","original":{"line":68,"column":23},"generated":{"line":1,"column":2206}},{"source":"src/utils/statemachine.js","name":"get","original":{"line":68,"column":30},"generated":{"line":1,"column":2213}},{"source":"src/utils/statemachine.js","name":"stateName","original":{"line":68,"column":34},"generated":{"line":1,"column":2217}},{"source":"src/utils/statemachine.js","original":{"line":69,"column":6},"generated":{"line":1,"column":2220}},{"source":"src/utils/statemachine.js","original":{"line":69,"column":13},"generated":{"line":1,"column":2227}},{"source":"src/utils/statemachine.js","name":"_promisify","original":{"line":69,"column":18},"generated":{"line":1,"column":2232}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":69,"column":29},"generated":{"line":1,"column":2243}},{"source":"src/utils/statemachine.js","name":"activate","original":{"line":69,"column":35},"generated":{"line":1,"column":2245}},{"source":"src/utils/statemachine.js","name":"call","original":{"line":69,"column":44},"generated":{"line":1,"column":2254}},{"source":"src/utils/statemachine.js","original":{"line":69,"column":49},"generated":{"line":1,"column":2259}},{"source":"src/utils/statemachine.js","name":"then","original":{"line":70,"column":9},"generated":{"line":1,"column":2266}},{"source":"src/utils/statemachine.js","original":{"line":70,"column":14},"generated":{"line":1,"column":2271}},{"source":"src/utils/statemachine.js","name":"data","original":{"line":70,"column":15},"generated":{"line":1,"column":2280}},{"source":"src/utils/statemachine.js","original":{"line":72,"column":10},"generated":{"line":1,"column":2283}},{"source":"src/utils/statemachine.js","name":"_this","original":{"line":71,"column":10},"generated":{"line":1,"column":2290}},{"source":"src/utils/statemachine.js","name":"currentState","original":{"line":71,"column":15},"generated":{"line":1,"column":2292}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":71,"column":30},"generated":{"line":1,"column":2305}},{"source":"src/utils/statemachine.js","name":"data","original":{"line":72,"column":17},"generated":{"line":1,"column":2307}},{"source":"src/utils/statemachine.js","name":"then","original":{"line":74,"column":9},"generated":{"line":1,"column":2311}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":74,"column":14},"generated":{"line":1,"column":2316}},{"source":"src/utils/statemachine.js","name":"finishTransition","original":{"line":74,"column":20},"generated":{"line":1,"column":2318}},{"source":"src/utils/statemachine.js","name":"bind","original":{"line":74,"column":37},"generated":{"line":1,"column":2335}},{"source":"src/utils/statemachine.js","original":{"line":74,"column":42},"generated":{"line":1,"column":2340}},{"source":"src/utils/statemachine.js","name":"catch","original":{"line":75,"column":9},"generated":{"line":1,"column":2347}},{"source":"src/utils/statemachine.js","original":{"line":75,"column":15},"generated":{"line":1,"column":2353}},{"source":"src/utils/statemachine.js","name":"e","original":{"line":75,"column":16},"generated":{"line":1,"column":2362}},{"source":"src/utils/statemachine.js","original":{"line":77,"column":10},"generated":{"line":1,"column":2365}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":76,"column":10},"generated":{"line":1,"column":2371}},{"source":"src/utils/statemachine.js","name":"failHandler","original":{"line":76,"column":16},"generated":{"line":1,"column":2373}},{"source":"src/utils/statemachine.js","name":"e","original":{"line":77,"column":16},"generated":{"line":1,"column":2387}},{"source":"src/utils/statemachine.js","original":{"line":80,"column":4},"generated":{"line":1,"column":2391}},{"source":"src/utils/statemachine.js","original":{"line":80,"column":8},"generated":{"line":1,"column":2394}},{"source":"src/utils/statemachine.js","name":"currentState","original":{"line":80,"column":13},"generated":{"line":1,"column":2399}},{"source":"src/utils/statemachine.js","name":"name","original":{"line":80,"column":26},"generated":{"line":1,"column":2412}},{"source":"src/utils/statemachine.js","name":"stateName","original":{"line":80,"column":35},"generated":{"line":1,"column":2419}},{"source":"src/utils/statemachine.js","original":{"line":80,"column":46},"generated":{"line":1,"column":2421}},{"source":"src/utils/statemachine.js","name":"Promise","original":{"line":80,"column":53},"generated":{"line":1,"column":2428}},{"source":"src/utils/statemachine.js","name":"resolve","original":{"line":80,"column":61},"generated":{"line":1,"column":2436}},{"source":"src/utils/statemachine.js","original":{"line":81,"column":4},"generated":{"line":1,"column":2446}},{"source":"src/utils/statemachine.js","original":{"line":81,"column":8},"generated":{"line":1,"column":2449}},{"source":"src/utils/statemachine.js","name":"currentState","original":{"line":81,"column":13},"generated":{"line":1,"column":2454}},{"source":"src/utils/statemachine.js","name":"transitions","original":{"line":81,"column":26},"generated":{"line":1,"column":2467}},{"source":"src/utils/statemachine.js","name":"has","original":{"line":81,"column":38},"generated":{"line":1,"column":2479}},{"source":"src/utils/statemachine.js","name":"stateName","original":{"line":81,"column":42},"generated":{"line":1,"column":2483}},{"source":"src/utils/statemachine.js","original":{"line":81,"column":54},"generated":{"line":1,"column":2486}},{"source":"src/utils/statemachine.js","original":{"line":82,"column":6},"generated":{"line":1,"column":2487}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":82,"column":10},"generated":{"line":1,"column":2491}},{"source":"src/utils/statemachine.js","original":{"line":82,"column":18},"generated":{"line":1,"column":2493}},{"source":"src/utils/statemachine.js","name":"states","original":{"line":82,"column":23},"generated":{"line":1,"column":2498}},{"source":"src/utils/statemachine.js","name":"get","original":{"line":82,"column":30},"generated":{"line":1,"column":2505}},{"source":"src/utils/statemachine.js","name":"stateName","original":{"line":82,"column":34},"generated":{"line":1,"column":2509}},{"source":"src/utils/statemachine.js","original":{"line":83,"column":6},"generated":{"line":1,"column":2512}},{"source":"src/utils/statemachine.js","original":{"line":83,"column":13},"generated":{"line":1,"column":2519}},{"source":"src/utils/statemachine.js","name":"_promisify","original":{"line":83,"column":18},"generated":{"line":1,"column":2524}},{"source":"src/utils/statemachine.js","original":{"line":83,"column":29},"generated":{"line":1,"column":2535}},{"source":"src/utils/statemachine.js","name":"currentState","original":{"line":83,"column":34},"generated":{"line":1,"column":2540}},{"source":"src/utils/statemachine.js","name":"deactivate","original":{"line":83,"column":47},"generated":{"line":1,"column":2553}},{"source":"src/utils/statemachine.js","name":"call","original":{"line":83,"column":58},"generated":{"line":1,"column":2564}},{"source":"src/utils/statemachine.js","original":{"line":83,"column":63},"generated":{"line":1,"column":2569}},{"source":"src/utils/statemachine.js","name":"then","original":{"line":84,"column":9},"generated":{"line":1,"column":2576}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":84,"column":14},"generated":{"line":1,"column":2581}},{"source":"src/utils/statemachine.js","name":"activate","original":{"line":84,"column":20},"generated":{"line":1,"column":2583}},{"source":"src/utils/statemachine.js","name":"bind","original":{"line":84,"column":29},"generated":{"line":1,"column":2592}},{"source":"src/utils/statemachine.js","original":{"line":84,"column":34},"generated":{"line":1,"column":2597}},{"source":"src/utils/statemachine.js","name":"then","original":{"line":85,"column":9},"generated":{"line":1,"column":2604}},{"source":"src/utils/statemachine.js","original":{"line":85,"column":14},"generated":{"line":1,"column":2609}},{"source":"src/utils/statemachine.js","name":"data","original":{"line":85,"column":15},"generated":{"line":1,"column":2618}},{"source":"src/utils/statemachine.js","original":{"line":88,"column":10},"generated":{"line":1,"column":2621}},{"source":"src/utils/statemachine.js","name":"_this","original":{"line":87,"column":10},"generated":{"line":1,"column":2628}},{"source":"src/utils/statemachine.js","name":"currentState","original":{"line":87,"column":15},"generated":{"line":1,"column":2630}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":87,"column":30},"generated":{"line":1,"column":2643}},{"source":"src/utils/statemachine.js","name":"data","original":{"line":88,"column":17},"generated":{"line":1,"column":2645}},{"source":"src/utils/statemachine.js","name":"then","original":{"line":90,"column":9},"generated":{"line":1,"column":2649}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":90,"column":14},"generated":{"line":1,"column":2654}},{"source":"src/utils/statemachine.js","name":"finishTransition","original":{"line":90,"column":20},"generated":{"line":1,"column":2656}},{"source":"src/utils/statemachine.js","name":"bind","original":{"line":90,"column":37},"generated":{"line":1,"column":2673}},{"source":"src/utils/statemachine.js","original":{"line":90,"column":42},"generated":{"line":1,"column":2678}},{"source":"src/utils/statemachine.js","name":"catch","original":{"line":91,"column":9},"generated":{"line":1,"column":2685}},{"source":"src/utils/statemachine.js","original":{"line":91,"column":15},"generated":{"line":1,"column":2691}},{"source":"src/utils/statemachine.js","name":"e","original":{"line":91,"column":16},"generated":{"line":1,"column":2700}},{"source":"src/utils/statemachine.js","original":{"line":94,"column":10},"generated":{"line":1,"column":2703}},{"source":"src/utils/statemachine.js","name":"state","original":{"line":93,"column":10},"generated":{"line":1,"column":2709}},{"source":"src/utils/statemachine.js","name":"failHandler","original":{"line":93,"column":16},"generated":{"line":1,"column":2711}},{"source":"src/utils/statemachine.js","name":"e","original":{"line":94,"column":16},"generated":{"line":1,"column":2725}},{"source":"src/utils/statemachine.js","original":{"line":97,"column":6},"generated":{"line":1,"column":2729}},{"source":"src/utils/statemachine.js","name":"Promise","original":{"line":97,"column":13},"generated":{"line":1,"column":2736}},{"source":"src/utils/statemachine.js","name":"reject","original":{"line":97,"column":21},"generated":{"line":1,"column":2744}},{"source":"src/utils/statemachine.js","name":"concat","original":{"line":97,"column":27},"generated":{"line":1,"column":2751}},{"source":"src/utils/statemachine.js","name":"concat","original":{"line":97,"column":27},"generated":{"line":1,"column":2774}},{"source":"src/utils/statemachine.js","original":{"line":98,"column":31},"generated":{"line":1,"column":2781}},{"source":"src/utils/statemachine.js","name":"currentState","original":{"line":98,"column":36},"generated":{"line":1,"column":2786}},{"source":"src/utils/statemachine.js","name":"name","original":{"line":98,"column":49},"generated":{"line":1,"column":2799}},{"source":"src/utils/statemachine.js","name":"concat","original":{"line":98,"column":53},"generated":{"line":1,"column":2804}},{"source":"src/utils/statemachine.js","name":"concat","original":{"line":98,"column":53},"generated":{"line":1,"column":2812}},{"source":"src/utils/statemachine.js","name":"stateName","original":{"line":98,"column":60},"generated":{"line":1,"column":2819}},{"source":"src/utils/statemachine.js","name":"StateMachine","original":{"line":101,"column":3},"generated":{"line":1,"column":2827}},{"source":"src/utils/statemachine.js","original":{"line":21,"column":25},"generated":{"line":1,"column":2829}}],"sources":{"src/utils/statemachine.js":"class State {\n  constructor(name, stateMachine) {\n    this.stateMachine = stateMachine;\n    this.transitions = new Set();\n    this.name = name;\n  }\n\n  activate() {\n    return Promise.resolve(null);\n  }\n\n  finishTransition() {}\n\n  failHandler() {}\n\n  deactivate() {\n    return Promise.resolve(null);\n  }\n}\n\nexport class StateMachine {\n  constructor() {\n    this.storage = {};\n    this.currentState = null;\n    this.states = new Map();\n  }\n\n  addState(name, { activate, finishTransition, deactivate }) {\n    let state = new State(name, this);\n    if (activate) state.activate = activate;\n    if (finishTransition) state.finishTransition = finishTransition;\n    if (deactivate) state.deactivate = deactivate;\n    this.states.set(name, state);\n    return this;\n  }\n\n  addTransition(fromName, toName) {\n    if (!this.states.has(fromName)) {\n      throw ReferenceError(\n        `No such state: ${fromName} while connecting to ${toName}`\n      );\n    }\n    if (!this.states.has(toName)) {\n      throw ReferenceError(\n        `No such state: ${toName} while connecting from ${fromName}`\n      );\n    }\n    this.states.get(fromName).transitions.add(toName);\n    return this;\n  }\n\n  _promisify(res) {\n    let promise;\n    try {\n      promise = res;\n      if (!promise.then) {\n        promise = Promise.resolve(promise);\n      }\n    } catch (e) {\n      promise = Promise.reject(e);\n    }\n    return promise;\n  }\n\n  transitionTo(stateName) {\n    /// console.log(`StateMachine change state:${stateName}`);\n    if (this.currentState == null) {\n      let state = this.states.get(stateName);\n      return this._promisify(state.activate.call(this))\n        .then((data) => {\n          this.currentState = state;\n          return data;\n        })\n        .then(state.finishTransition.bind(this))\n        .catch((e) => {\n          state.failHandler();\n          throw e;\n        });\n    }\n    if (this.currentState.name === stateName) return Promise.resolve();\n    if (this.currentState.transitions.has(stateName)) {\n      let state = this.states.get(stateName);\n      return this._promisify(this.currentState.deactivate.call(this))\n        .then(state.activate.bind(this))\n        .then((data) => {\n          /// console.log(`StateMachine set current state:${stateName}`);\n          this.currentState = state;\n          return data;\n        })\n        .then(state.finishTransition.bind(this))\n        .catch((e) => {\n          //console.log(e);\n          state.failHandler();\n          throw e;\n        });\n    } else {\n      return Promise.reject(\n        `No such transition: ${this.currentState.name} to ${stateName}`\n      );\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"da746dc086d4c92286010e9f49d2ad30","cacheData":{"env":{}}}